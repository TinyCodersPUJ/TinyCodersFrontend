(self.webpackChunkfront=self.webpackChunkfront||[]).push([[792],{569:(ht,re,ie)=>{"use strict";function U(e){return"function"==typeof e}function se(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const $e=se(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ae(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class w{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(U(r))try{r()}catch(o){n=o instanceof $e?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{F(o)}catch(s){n=n??[],s instanceof $e?n=[...n,...s.errors]:n.push(s)}}if(n)throw new $e(n)}}add(n){var t;if(n&&n!==this)if(this.closed)F(n);else{if(n instanceof w){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&ae(t,n)}remove(n){const{_finalizers:t}=this;t&&ae(t,n),n instanceof w&&n._removeParent(this)}}w.EMPTY=(()=>{const e=new w;return e.closed=!0,e})();const b=w.EMPTY;function O(e){return e instanceof w||e&&"closed"in e&&U(e.remove)&&U(e.add)&&U(e.unsubscribe)}function F(e){U(e)?e():e.unsubscribe()}const B={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},pe={setTimeout(e,n,...t){const{delegate:r}=pe;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=pe;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Re(e){pe.setTimeout(()=>{const{onUnhandledError:n}=B;if(!n)throw e;n(e)})}function le(){}const Ne=nn("C",void 0,void 0);function nn(e,n,t){return{kind:e,value:n,error:t}}let Xe=null;function ot(e){if(B.useDeprecatedSynchronousErrorHandling){const n=!Xe;if(n&&(Xe={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Xe;if(Xe=null,t)throw r}}else e()}class Kr extends w{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,O(n)&&n.add(this)):this.destination=NS}static create(n,t,r){return new gn(n,t,r)}next(n){this.isStopped?fl(function tn(e){return nn("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?fl(function pt(e){return nn("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?fl(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Jr=Function.prototype.bind;function Yn(e,n){return Jr.call(e,n)}class fg{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Zn(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Zn(r)}else Zn(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Zn(t)}}}class gn extends Kr{constructor(n,t,r){let i;if(super(),U(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&B.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Yn(n.next,o),error:n.error&&Yn(n.error,o),complete:n.complete&&Yn(n.complete,o)}):i=n}this.destination=new fg(i)}}function Zn(e){B.useDeprecatedSynchronousErrorHandling?function wt(e){B.useDeprecatedSynchronousErrorHandling&&Xe&&(Xe.errorThrown=!0,Xe.error=e)}(e):Re(e)}function fl(e,n){const{onStoppedNotification:t}=B;t&&pe.setTimeout(()=>t(e,n))}const NS={closed:!0,next:le,error:function Di(e){throw e},complete:le},hl="function"==typeof Symbol&&Symbol.observable||"@@observable";function _r(e){return e}function hg(e){return 0===e.length?_r:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let ze=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function jS(e){return e&&e instanceof Kr||function LS(e){return e&&U(e.next)&&U(e.error)&&U(e.complete)}(e)&&O(e)}(t)?t:new gn(t,r,i);return ot(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=pg(r))((i,o)=>{const s=new gn({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[hl](){return this}pipe(...t){return hg(t)(this)}toPromise(t){return new(t=pg(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function pg(e){var n;return null!==(n=e??B.Promise)&&void 0!==n?n:Promise}const VS=se(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let mn=(()=>{class e extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new gg(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new VS}next(t){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?b:(this.currentObservers=null,o.push(t),new w(()=>{this.currentObservers=null,ae(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ze;return t.source=this,t}}return e.create=(n,t)=>new gg(n,t),e})();class gg extends mn{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:b}}function mg(e){return U(e?.lift)}function et(e){return n=>{if(mg(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(e,n,t,r,i){return new $S(e,n,t,r,i)}class $S extends Kr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function me(e,n){return et((t,r)=>{let i=0;t.subscribe(Je(r,o=>{r.next(e.call(n,o,i++))}))})}function wr(e){return this instanceof wr?(this.v=e,this):new wr(e)}function wg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function vl(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const bg=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Cg(e){return U(e?.then)}function Dg(e){return U(e[hl])}function Eg(e){return Symbol.asyncIterator&&U(e?.[Symbol.asyncIterator])}function Sg(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Mg=function hM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ig(e){return U(e?.[Mg])}function Tg(e){return function _g(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(h){return function(p){return Promise.resolve(p).then(h,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(m,_){o.push([h,g,m,_])>1||c(h,g)})},p&&(i[h]=p(i[h])))}function c(h,p){try{!function u(h){h.value instanceof wr?Promise.resolve(h.value.v).then(l,d):f(o[0][2],h)}(r[h](p))}catch(g){f(o[0][3],g)}}function l(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield wr(t.read());if(i)return yield wr(void 0);yield yield wr(r)}}finally{t.releaseLock()}})}function Ag(e){return U(e?.getReader)}function Ht(e){if(e instanceof ze)return e;if(null!=e){if(Dg(e))return function pM(e){return new ze(n=>{const t=e[hl]();if(U(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(bg(e))return function gM(e){return new ze(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Cg(e))return function mM(e){return new ze(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Re)})}(e);if(Eg(e))return xg(e);if(Ig(e))return function vM(e){return new ze(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Ag(e))return function yM(e){return xg(Tg(e))}(e)}throw Sg(e)}function xg(e){return new ze(n=>{(function _M(e,n){var t,r,i,o;return function vg(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=wg(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Qn(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function at(e,n,t=1/0){return U(n)?at((r,i)=>me((o,s)=>n(r,o,i,s))(Ht(e(r,i))),t):("number"==typeof n&&(t=n),et((r,i)=>function wM(e,n,t,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const f=()=>{d&&!c.length&&!u&&n.complete()},h=g=>u<r?p(g):c.push(g),p=g=>{o&&n.next(g),u++;let m=!1;Ht(t(g,l++)).subscribe(Je(n,_=>{i?.(_),o?h(_):n.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){const _=c.shift();s?Qn(n,s,()=>p(_)):p(_)}f()}catch(_){n.error(_)}}))};return e.subscribe(Je(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}function Ei(e=1/0){return at(_r,e)}const On=new ze(e=>e.complete());function _l(e){return e[e.length-1]}function Og(e){return U(_l(e))?e.pop():void 0}function Wo(e){return function CM(e){return e&&U(e.schedule)}(_l(e))?e.pop():void 0}function Pg(e,n=0){return et((t,r)=>{t.subscribe(Je(r,i=>Qn(r,e,()=>r.next(i),n),()=>Qn(r,e,()=>r.complete(),n),i=>Qn(r,e,()=>r.error(i),n)))})}function Rg(e,n=0){return et((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function kg(e,n){if(!e)throw new Error("Iterable cannot be null");return new ze(t=>{Qn(t,n,()=>{const r=e[Symbol.asyncIterator]();Qn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function tt(e,n){return n?function AM(e,n){if(null!=e){if(Dg(e))return function EM(e,n){return Ht(e).pipe(Rg(n),Pg(n))}(e,n);if(bg(e))return function MM(e,n){return new ze(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Cg(e))return function SM(e,n){return Ht(e).pipe(Rg(n),Pg(n))}(e,n);if(Eg(e))return kg(e,n);if(Ig(e))return function IM(e,n){return new ze(t=>{let r;return Qn(t,n,()=>{r=e[Mg](),Qn(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}(e,n);if(Ag(e))return function TM(e,n){return kg(Tg(e),n)}(e,n)}throw Sg(e)}(e,n):Ht(e)}class rn extends mn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function H(...e){return tt(e,Wo(e))}function Ng(e={}){const{connector:n=(()=>new mn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,u=0,l=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,l=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return et((g,m)=>{u++,!d&&!l&&f();const _=c=c??n();m.add(()=>{u--,0===u&&!d&&!l&&(a=wl(p,i))}),_.subscribe(m),!s&&u>0&&(s=new gn({next:v=>_.next(v),error:v=>{d=!0,f(),a=wl(h,t,v),_.error(v)},complete:()=>{l=!0,f(),a=wl(h,r),_.complete()}}),Ht(g).subscribe(s))})(o)}}function wl(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new gn({next:()=>{r.unsubscribe(),e()}});return Ht(n(...t)).subscribe(r)}function vn(e,n){return et((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Je(r,c=>{i?.unsubscribe();let u=0;const l=o++;Ht(e(c,l)).subscribe(i=Je(r,d=>r.next(n?n(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function PM(e,n){return e===n}function we(e){for(let n in e)if(e[n]===we)return n;throw Error("Could not find renamed property on target object.")}function Aa(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function nt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(nt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function bl(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const RM=we({__forward_ref__:we});function Ie(e){return e.__forward_ref__=Ie,e.toString=function(){return nt(this())},e}function q(e){return Cl(e)?e():e}function Cl(e){return"function"==typeof e&&e.hasOwnProperty(RM)&&e.__forward_ref__===Ie}function Dl(e){return e&&!!e.\u0275providers}const Fg="https://g.co/ng/security#xss";class E extends Error{constructor(n,t){super(function xa(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function J(e){return"string"==typeof e?e:null==e?"":String(e)}function El(e,n){throw new E(-201,!1)}function on(e,n){null==e&&function z(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function V(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function sn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Oa(e){return Lg(e,Ra)||Lg(e,jg)}function Lg(e,n){return e.hasOwnProperty(n)?e[n]:null}function Pa(e){return e&&(e.hasOwnProperty(Sl)||e.hasOwnProperty(UM))?e[Sl]:null}const Ra=we({\u0275prov:we}),Sl=we({\u0275inj:we}),jg=we({ngInjectableDef:we}),UM=we({ngInjectorDef:we});var ce=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ce||{});let Ml;function Rt(e){const n=Ml;return Ml=e,n}function $g(e,n,t){const r=Oa(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ce.Optional?null:void 0!==n?n:void El(nt(e))}const Te=globalThis;class N{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ko={},Ol="__NG_DI_FLAG__",ka="ngTempTokenPath",zM=/\n/gm,Bg="__source";let Si;function br(e){const n=Si;return Si=e,n}function WM(e,n=ce.Default){if(void 0===Si)throw new E(-203,!1);return null===Si?$g(e,void 0,n):Si.get(e,n&ce.Optional?null:void 0,n)}function L(e,n=ce.Default){return(function Vg(){return Ml}()||WM)(q(e),n)}function k(e,n=ce.Default){return L(e,Na(n))}function Na(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Pl(e){const n=[];for(let t=0;t<e.length;t++){const r=q(e[t]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){const a=r[s],c=KM(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}n.push(L(i,o))}else n.push(L(r))}return n}function Jo(e,n){return e[Ol]=n,e.prototype[Ol]=n,e}function KM(e){return e[Ol]}function Xn(e){return{toString:e}.toString()}var Fa=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Fa||{}),yn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(yn||{});const Pn={},ge=[],La=we({\u0275cmp:we}),Rl=we({\u0275dir:we}),kl=we({\u0275pipe:we}),zg=we({\u0275mod:we}),er=we({\u0275fac:we}),Yo=we({__NG_ELEMENT_ID__:we}),Gg=we({__NG_ENV_ID__:we});function qg(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function Nl(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];Kg(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Wg(e){return 3===e||4===e||6===e}function Kg(e){return 64===e.charCodeAt(0)}function Zo(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Jg(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Jg(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Yg="ng-template";function ZM(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==qg(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Zg(e){return 4===e.type&&e.value!==Yg}function QM(e,n,t){return n===(4!==e.type||t?e.value:Yg)}function XM(e,n,t){let r=4;const i=e.attrs||[],o=function nI(e){for(let n=0;n<e.length;n++)if(Wg(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!QM(e,c,t)||""===c&&1===n.length){if(_n(r))return!1;s=!0}}else{const u=8&r?c:n[++a];if(8&r&&null!==e.attrs){if(!ZM(e.attrs,u,t)){if(_n(r))return!1;s=!0}continue}const d=eI(8&r?"class":c,i,Zg(e),t);if(-1===d){if(_n(r))return!1;s=!0;continue}if(""!==u){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==qg(h,u,0)||2&r&&u!==f){if(_n(r))return!1;s=!0}}}}else{if(!s&&!_n(r)&&!_n(c))return!1;if(s&&_n(c))continue;s=!1,r=c|1&r}}return _n(r)||s}function _n(e){return 0==(1&e)}function eI(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function rI(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Qg(e,n,t=!1){for(let r=0;r<n.length;r++)if(XM(e,n[r],t))return!0;return!1}function Xg(e,n){return e?":not("+n.trim()+")":n}function oI(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!_n(s)&&(n+=Xg(o,i),i=""),r=s,o=o||!_n(r);t++}return""!==i&&(n+=Xg(o,i)),n}function kt(e){return Xn(()=>{const n=tm(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Fa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||yn.Emulated,styles:e.styles||ge,_:null,schemas:e.schemas||null,tView:null,id:""};nm(t);const r=e.dependencies;return t.directiveDefs=ja(r,!1),t.pipeDefs=ja(r,!0),t.id=function hI(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function uI(e){return de(e)||ct(e)}function lI(e){return null!==e}function wn(e){return Xn(()=>({type:e.type,bootstrap:e.bootstrap||ge,declarations:e.declarations||ge,imports:e.imports||ge,exports:e.exports||ge,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function em(e,n){if(null==e)return Pn;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function W(e){return Xn(()=>{const n=tm(e);return nm(n),n})}function de(e){return e[La]||null}function ct(e){return e[Rl]||null}function bt(e){return e[kl]||null}function Gt(e,n){const t=e[zg]||null;if(!t&&!0===n)throw new Error(`Type ${nt(e)} does not have '\u0275mod' property.`);return t}function tm(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Pn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ge,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:em(e.inputs,n),outputs:em(e.outputs)}}function nm(e){e.features?.forEach(n=>n(e))}function ja(e,n){if(!e)return null;const t=n?bt:uI;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(lI)}const Ue=0,R=1,ee=2,Fe=3,bn=4,Qo=5,gt=6,Ii=7,Ge=8,Cr=9,Ti=10,Y=11,Xo=12,rm=13,Ai=14,qe=15,es=16,xi=17,Rn=18,ts=19,im=20,Dr=21,tr=22,ns=23,rs=24,ue=25,Fl=1,om=2,kn=7,Oi=9,ut=11;function Ft(e){return Array.isArray(e)&&"object"==typeof e[Fl]}function Ct(e){return Array.isArray(e)&&!0===e[Fl]}function Ll(e){return 0!=(4&e.flags)}function Zr(e){return e.componentOffset>-1}function $a(e){return 1==(1&e.flags)}function Cn(e){return!!e.template}function jl(e){return 0!=(512&e[ee])}function Qr(e,n){return e.hasOwnProperty(er)?e[er]:null}let lt=null,Ua=!1;function an(e){const n=lt;return lt=e,n}const cm={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function lm(e){if(!os(e)||e.dirty){if(!e.producerMustRecompute(e)&&!hm(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function fm(e){e.dirty=!0,function dm(e){if(void 0===e.liveConsumerNode)return;const n=Ua;Ua=!0;try{for(const t of e.liveConsumerNode)t.dirty||fm(t)}finally{Ua=n}}(e),e.consumerMarkedDirty?.(e)}function $l(e){return e&&(e.nextProducerIndex=0),an(e)}function Ul(e,n){if(an(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(os(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Ba(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function hm(e){Pi(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(lm(t),r!==t.version))return!0}return!1}function pm(e){if(Pi(e),os(e))for(let n=0;n<e.producerNode.length;n++)Ba(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ba(e,n){if(function mm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Pi(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Ba(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Pi(i),i.producerIndexOfThis[r]=n}}function os(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Pi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let vm=null;const bm=()=>{},MI=(()=>({...cm,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:bm}))();class II{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function cn(){return Cm}function Cm(e){return e.type.prototype.ngOnChanges&&(e.setInput=AI),TI}function TI(){const e=Em(this),n=e?.current;if(n){const t=e.previous;if(t===Pn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function AI(e,n,t,r){const i=this.declaredInputs[t],o=Em(e)||function xI(e,n){return e[Dm]=n}(e,{previous:Pn,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new II(c&&c.currentValue,n,a===Pn),e[r]=n}cn.ngInherit=!0;const Dm="__ngSimpleChanges__";function Em(e){return e[Dm]||null}const Nn=function(e,n,t){};function Ae(e){for(;Array.isArray(e);)e=e[Ue];return e}function Ha(e,n){return Ae(n[e])}function Lt(e,n){return Ae(n[e.index])}function Im(e,n){return e.data[n]}function qt(e,n){const t=n[e];return Ft(t)?t:t[Ue]}function Sr(e,n){return null==n?null:e[n]}function Tm(e){e[xi]=0}function FI(e){1024&e[ee]||(e[ee]|=1024,xm(e,1))}function Am(e){1024&e[ee]&&(e[ee]&=-1025,xm(e,-1))}function xm(e,n){let t=e[Fe];if(null===t)return;t[Qo]+=n;let r=t;for(t=t[Fe];null!==t&&(1===n&&1===r[Qo]||-1===n&&0===r[Qo]);)t[Qo]+=n,r=t,t=t[Fe]}const G={lFrame:Um(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Rm(){return G.bindingsEnabled}function C(){return G.lFrame.lView}function fe(){return G.lFrame.tView}function Dt(e){return G.lFrame.contextLView=e,e[Ge]}function Et(e){return G.lFrame.contextLView=null,e}function dt(){let e=km();for(;null!==e&&64===e.type;)e=e.parent;return e}function km(){return G.lFrame.currentTNode}function Fn(e,n){const t=G.lFrame;t.currentTNode=e,t.isParent=n}function ql(){return G.lFrame.isParent}function Wl(){G.lFrame.isParent=!1}function Ni(){return G.lFrame.bindingIndex++}function KI(e,n){const t=G.lFrame;t.bindingIndex=t.bindingRootIndex=e,Kl(n)}function Kl(e){G.lFrame.currentDirectiveIndex=e}function Yl(e){G.lFrame.currentQueryIndex=e}function YI(e){const n=e[R];return 2===n.type?n.declTNode:1===n.type?e[gt]:null}function Vm(e,n,t){if(t&ce.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&ce.Host||(i=YI(o),null===i||(o=o[Ai],10&i.type))););if(null===i)return!1;n=i,e=o}const r=G.lFrame=$m();return r.currentTNode=n,r.lView=e,!0}function Zl(e){const n=$m(),t=e[R];G.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function $m(){const e=G.lFrame,n=null===e?null:e.child;return null===n?Um(e):n}function Um(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Bm(){const e=G.lFrame;return G.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Hm=Bm;function Ql(){const e=Bm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Mt(){return G.lFrame.selectedIndex}function Xr(e){G.lFrame.selectedIndex=e}function je(){const e=G.lFrame;return Im(e.tView,e.selectedIndex)}let Gm=!0;function za(){return Gm}function Mr(e){Gm=e}function Ga(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),null!=l&&(e.destroyHooks??=[]).push(t,l)}}function qa(e,n,t){qm(e,n,3,t)}function Wa(e,n,t,r){(3&e[ee])===t&&qm(e,n,t,r)}function Xl(e,n){let t=e[ee];(3&t)===n&&(t&=8191,t+=1,e[ee]=t)}function qm(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&e[xi]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(e[xi]+=65536),(a<o||-1==o)&&(iT(e,t,n,c),e[xi]=(4294901760&e[xi])+c+2),c++}function Wm(e,n){Nn(4,e,n);const t=an(null);try{n.call(e)}finally{an(t),Nn(5,e,n)}}function iT(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[ee]>>13<e[xi]>>16&&(3&e[ee])===n&&(e[ee]+=8192,Wm(a,o)):Wm(a,o)}const Fi=-1;class as{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function td(e){return e!==Fi}function cs(e){return 32767&e}function us(e,n){let t=function cT(e){return e>>16}(e),r=n;for(;t>0;)r=r[Ai],t--;return r}let nd=!0;function Ka(e){const n=nd;return nd=e,n}const Km=255,Jm=5;let uT=0;const Ln={};function Ja(e,n){const t=Ym(e,n);if(-1!==t)return t;const r=n[R];r.firstCreatePass&&(e.injectorIndex=n.length,rd(r.data,e),rd(n,null),rd(r.blueprint,null));const i=Ya(e,n),o=e.injectorIndex;if(td(i)){const s=cs(i),a=us(i,n),c=a[R].data;for(let u=0;u<8;u++)n[o+u]=a[s+u]|c[s+u]}return n[o+8]=i,o}function rd(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ym(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Ya(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=rv(i),null===r)return Fi;if(t++,i=i[Ai],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Fi}function id(e,n,t){!function lT(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Yo)&&(r=t[Yo]),null==r&&(r=t[Yo]=uT++);const i=r&Km;n.data[e+(i>>Jm)]|=1<<i}(e,n,t)}function Zm(e,n,t){if(t&ce.Optional||void 0!==e)return e;El()}function Qm(e,n,t,r){if(t&ce.Optional&&void 0===r&&(r=null),!(t&(ce.Self|ce.Host))){const i=e[Cr],o=Rt(void 0);try{return i?i.get(n,r,t&ce.Optional):$g(n,r,t&ce.Optional)}finally{Rt(o)}}return Zm(r,0,t)}function Xm(e,n,t,r=ce.Default,i){if(null!==e){if(2048&n[ee]&&!(r&ce.Self)){const s=function mT(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[ee]&&!(512&s[ee]);){const a=ev(o,s,t,r|ce.Self,Ln);if(a!==Ln)return a;let c=o.parent;if(!c){const u=s[im];if(u){const l=u.get(t,Ln,r);if(l!==Ln)return l}c=rv(s),s=s[Ai]}o=c}return i}(e,n,t,r,Ln);if(s!==Ln)return s}const o=ev(e,n,t,r,Ln);if(o!==Ln)return o}return Qm(n,t,r,i)}function ev(e,n,t,r,i){const o=function hT(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Yo)?e[Yo]:void 0;return"number"==typeof n?n>=0?n&Km:gT:n}(t);if("function"==typeof o){if(!Vm(n,e,r))return r&ce.Host?Zm(i,0,r):Qm(n,t,r,i);try{let s;if(s=o(r),null!=s||r&ce.Optional)return s;El()}finally{Hm()}}else if("number"==typeof o){let s=null,a=Ym(e,n),c=Fi,u=r&ce.Host?n[qe][gt]:null;for((-1===a||r&ce.SkipSelf)&&(c=-1===a?Ya(e,n):n[a+8],c!==Fi&&nv(r,!1)?(s=n[R],a=cs(c),n=us(c,n)):a=-1);-1!==a;){const l=n[R];if(tv(o,a,l.data)){const d=fT(a,n,t,s,r,u);if(d!==Ln)return d}c=n[a+8],c!==Fi&&nv(r,n[R].data[a+8]===u)&&tv(o,a,n)?(s=l,a=cs(c),n=us(c,n)):a=-1}}return i}function fT(e,n,t,r,i,o){const s=n[R],a=s.data[e+8],l=function Za(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,c=e.directiveStart,l=o>>20,f=i?a+l:e.directiveEnd;for(let h=r?a:a+l;h<f;h++){const p=s[h];if(h<c&&t===p||h>=c&&p.type===t)return h}if(i){const h=s[c];if(h&&Cn(h)&&h.type===t)return c}return null}(a,s,t,null==r?Zr(a)&&nd:r!=s&&0!=(3&a.type),i&ce.Host&&o===a);return null!==l?ei(n,s,l,a):Ln}function ei(e,n,t,r){let i=e[t];const o=n.data;if(function oT(e){return e instanceof as}(i)){const s=i;s.resolving&&function kM(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new E(-200,`Circular dependency in DI detected for ${e}${t}`)}(function _e(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():J(e)}(o[t]));const a=Ka(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Rt(s.injectImpl):null;Vm(e,r,ce.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function rT(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=Cm(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==u&&Rt(u),Ka(a),s.resolving=!1,Hm()}}return i}function tv(e,n,t){return!!(t[n+(e>>Jm)]&1<<e)}function nv(e,n){return!(e&ce.Self||e&ce.Host&&n)}class It{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Xm(this._tNode,this._lView,n,Na(r),t)}}function gT(){return new It(dt(),C())}function ft(e){return Xn(()=>{const n=e.prototype.constructor,t=n[er]||od(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[er]||od(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function od(e){return Cl(e)?()=>{const n=od(q(e));return n&&n()}:Qr(e)}function rv(e){const n=e[R],t=n.type;return 2===t?n.declTNode:1===t?e[gt]:null}const ji="__parameters__";function $i(e,n,t){return Xn(()=>{const r=function sd(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(ji)?c[ji]:Object.defineProperty(c,ji,{value:[]})[ji];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Bi(e,n){e.forEach(t=>Array.isArray(t)?Bi(t,n):n(t))}function ov(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Xa(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Wt(e,n,t){let r=Hi(e,n);return r>=0?e[1|r]=t:(r=~r,function DT(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function ad(e,n){const t=Hi(e,n);if(t>=0)return e[1|t]}function Hi(e,n){return function sv(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const tc=Jo($i("Optional"),8),nc=Jo($i("SkipSelf"),4);function ac(e){return 128==(128&e.flags)}var Ir=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ir||{});const zT=/^>|^->|<!--|-->|--!>|<!-$/g,GT=/(<|>)/g,qT="\u200b$1\u200b";const fd=new Map;let WT=0;const pd="__ngContext__";function mt(e,n){Ft(n)?(e[pd]=n[ts],function JT(e){fd.set(e[ts],e)}(n)):e[pd]=n}let gd;function md(e,n){return gd(e,n)}function gs(e){const n=e[Fe];return Ct(n)?n[Fe]:n}function Mv(e){return Tv(e[Xo])}function Iv(e){return Tv(e[bn])}function Tv(e){for(;null!==e&&!Ct(e);)e=e[bn];return e}function qi(e,n,t,r,i){if(null!=r){let o,s=!1;Ct(r)?o=r:Ft(r)&&(s=!0,r=r[Ue]);const a=Ae(r);0===e&&null!==t?null==i?Pv(n,t,a):ti(n,t,a,i||null,!0):1===e&&null!==t?ti(n,t,a,i||null,!0):2===e?function pc(e,n,t){const r=fc(e,n);r&&function pA(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function vA(e,n,t,r,i){const o=t[kn];o!==Ae(t)&&qi(n,e,r,o,i);for(let a=ut;a<t.length;a++){const c=t[a];vs(c[R],c,e,n,r,o)}}(n,e,o,t,i)}}function vd(e,n){return e.createComment(function yv(e){return e.replace(zT,n=>n.replace(GT,qT))}(n))}function lc(e,n,t){return e.createElement(n,t)}function xv(e,n){const t=e[Oi],r=t.indexOf(n);Am(n),t.splice(r,1)}function dc(e,n){if(e.length<=ut)return;const t=ut+n,r=e[t];if(r){const i=r[es];null!==i&&i!==e&&xv(i,r),n>0&&(e[t-1][bn]=r[bn]);const o=Xa(e,ut+n);!function sA(e,n){vs(e,n,n[Y],2,null,null),n[Ue]=null,n[gt]=null}(r[R],r);const s=o[Rn];null!==s&&s.detachView(o[R]),r[Fe]=null,r[bn]=null,r[ee]&=-129}return r}function yd(e,n){if(!(256&n[ee])){const t=n[Y];n[ns]&&pm(n[ns]),n[rs]&&pm(n[rs]),t.destroyNode&&vs(e,n,t,3,null,null),function uA(e){let n=e[Xo];if(!n)return _d(e[R],e);for(;n;){let t=null;if(Ft(n))t=n[Xo];else{const r=n[ut];r&&(t=r)}if(!t){for(;n&&!n[bn]&&n!==e;)Ft(n)&&_d(n[R],n),n=n[Fe];null===n&&(n=e),Ft(n)&&_d(n[R],n),t=n&&n[bn]}n=t}}(n)}}function _d(e,n){if(!(256&n[ee])){n[ee]&=-129,n[ee]|=256,function hA(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof as)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Nn(4,a,c);try{c.call(a)}finally{Nn(5,a,c)}}else{Nn(4,i,o);try{o.call(i)}finally{Nn(5,i,o)}}}}}(e,n),function fA(e,n){const t=e.cleanup,r=n[Ii];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[Ii]=null);const i=n[Dr];if(null!==i){n[Dr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[R].type&&n[Y].destroy();const t=n[es];if(null!==t&&Ct(n[Fe])){t!==n[Fe]&&xv(t,n);const r=n[Rn];null!==r&&r.detachView(e)}!function YT(e){fd.delete(e[ts])}(n)}}function wd(e,n,t){return function Ov(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[Ue];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===yn.None||o===yn.Emulated)return null}return Lt(r,t)}}(e,n.parent,t)}function ti(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Pv(e,n,t){e.appendChild(n,t)}function Rv(e,n,t,r,i){null!==r?ti(e,n,t,r,i):Pv(e,n,t)}function fc(e,n){return e.parentNode(n)}let bd,Sd,mc,Fv=function Nv(e,n,t){return 40&e.type?Lt(e,t):null};function hc(e,n,t,r){const i=wd(e,r,n),o=n[Y],a=function kv(e,n,t){return Fv(e,n,t)}(r.parent||n[gt],r,n);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)Rv(o,i,t[c],a,!1);else Rv(o,i,t,a,!1);void 0!==bd&&bd(o,r,n,t,i)}function ms(e,n){if(null!==n){const t=n.type;if(3&t)return Lt(n,e);if(4&t)return Cd(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return ms(e,r);{const i=e[n.index];return Ct(i)?Cd(-1,i):Ae(i)}}if(32&t)return md(n,e)()||Ae(e[n.index]);{const r=jv(e,n);return null!==r?Array.isArray(r)?r[0]:ms(gs(e[qe]),r):ms(e,n.next)}}return null}function jv(e,n){return null!==n?e[qe][gt].projection[n.projection]:null}function Cd(e,n){const t=ut+e+1;if(t<n.length){const r=n[t],i=r[R].firstChild;if(null!==i)return ms(r,i)}return n[kn]}function Dd(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===n&&(a&&mt(Ae(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Dd(e,n,t.child,r,i,o,!1),qi(n,e,i,a,o);else if(32&c){const u=md(t,r);let l;for(;l=u();)qi(n,e,i,l,o);qi(n,e,i,a,o)}else 16&c?$v(e,n,r,t,i,o):qi(n,e,i,a,o);t=s?t.projectionNext:t.next}}function vs(e,n,t,r,i,o){Dd(t,r,e.firstChild,n,i,o,!1)}function $v(e,n,t,r,i,o){const s=t[qe],c=s[gt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)qi(n,e,i,c[u],o);else{let u=c;const l=s[Fe];ac(r)&&(u.flags|=128),Dd(e,n,u,l,i,o,!0)}}function Uv(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Bv(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Nl(e,n,r),null!==i&&Uv(e,n,i),null!==o&&function _A(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function Gv(e){return function Md(){if(void 0===mc&&(mc=null,Te.trustedTypes))try{mc=Te.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return mc}()?.createScriptURL(e)||e}class qv{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fg})`}}function Tr(e){return e instanceof qv?e.changingThisBreaksApplicationSecurity:e}function ys(e,n){const t=function AA(e){return e instanceof qv&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Fg})`)}return t===n}const RA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ji=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ji||{});function or(e){const n=ws();return n?n.sanitize(Ji.URL,e)||"":ys(e,"URL")?Tr(e):function Id(e){return(e=String(e)).match(RA)?e:"unsafe:"+e}(J(e))}function Xv(e){const n=ws();if(n)return Gv(n.sanitize(Ji.RESOURCE_URL,e)||"");if(ys(e,"ResourceURL"))return Gv(Tr(e));throw new E(904,!1)}function ws(){const e=C();return e&&e[Ti].sanitizer}const bs=new N("ENVIRONMENT_INITIALIZER"),ty=new N("INJECTOR",-1),ny=new N("INJECTOR_DEF_TYPES");class Od{get(n,t=Ko){if(t===Ko){const r=new Error(`NullInjectorError: No provider for ${nt(n)}!`);throw r.name="NullInjectorError",r}return t}}function qA(...e){return{\u0275providers:ry(0,e),\u0275fromNgModule:!0}}function ry(e,...n){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Bi(n,s=>{const a=s;yc(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&iy(i,o),t}function iy(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];Rd(i,o=>{n(o,r)})}}function yc(e,n,t,r){if(!(e=q(e)))return!1;let i=null,o=Pa(e);const s=!o&&de(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=Pa(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)yc(u,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Bi(o.imports,l=>{yc(l,n,t,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&iy(u,n)}if(!a){const u=Qr(i)||(()=>new i);n({provide:i,useFactory:u,deps:ge},i),n({provide:ny,useValue:i,multi:!0},i),n({provide:bs,useValue:()=>L(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=e;Rd(c,l=>{n(l,u)})}}}return i!==e&&void 0!==e.providers}function Rd(e,n){for(let t of e)Dl(t)&&(t=t.\u0275providers),Array.isArray(t)?Rd(t,n):n(t)}const WA=we({provide:String,useValue:we});function kd(e){return null!==e&&"object"==typeof e&&WA in e}function ni(e){return"function"==typeof e}const Nd=new N("Set Injector scope."),_c={},JA={};let Fd;function wc(){return void 0===Fd&&(Fd=new Od),Fd}class Kt{}class Yi extends Kt{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jd(n,s=>this.processProvider(s)),this.records.set(ty,Zi(void 0,this)),i.has("environment")&&this.records.set(Kt,Zi(void 0,this));const o=this.records.get(Nd);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ny.multi,ge,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=br(this),r=Rt(void 0);try{return n()}finally{br(t),Rt(r)}}get(n,t=Ko,r=ce.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Gg))return n[Gg](this);r=Na(r);const o=br(this),s=Rt(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(n);if(void 0===c){const u=function ex(e){return"function"==typeof e||"object"==typeof e&&e instanceof N}(n)&&Oa(n);c=u&&this.injectableDefInScope(u)?Zi(Ld(n),_c):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c)}return(r&ce.Self?wc():this.parent).get(n,t=r&ce.Optional&&t===Ko?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ka]=a[ka]||[]).unshift(nt(n)),o)throw a;return function JM(e,n,t,r){const i=e[ka];throw n[Bg]&&i.unshift(n[Bg]),e.message=function YM(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=nt(n);if(Array.isArray(n))i=n.map(nt).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):nt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(zM,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[ka]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{Rt(s),br(o)}}resolveInjectorInitializers(){const n=br(this),t=Rt(void 0);try{const i=this.get(bs.multi,ge,ce.Self);for(const o of i)o()}finally{br(n),Rt(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(nt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(n){let t=ni(n=q(n))?n:q(n&&n.provide);const r=function ZA(e){return kd(e)?Zi(void 0,e.useValue):Zi(ay(e),_c)}(n);if(ni(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Zi(void 0,_c,!0),i.factory=()=>Pl(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===_c&&(t.value=JA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function XA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=q(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Ld(e){const n=Oa(e),t=null!==n?n.factory:Qr(e);if(null!==t)return t;if(e instanceof N)throw new E(204,!1);if(e instanceof Function)return function YA(e){const n=e.length;if(n>0)throw function fs(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new E(204,!1);const t=function $M(e){return e&&(e[Ra]||e[jg])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new E(204,!1)}function ay(e,n,t){let r;if(ni(e)){const i=q(e);return Qr(i)||Ld(i)}if(kd(e))r=()=>q(e.useValue);else if(function sy(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Pl(e.deps||[]));else if(function oy(e){return!(!e||!e.useExisting)}(e))r=()=>L(q(e.useExisting));else{const i=q(e&&(e.useClass||e.provide));if(!function QA(e){return!!e.deps}(e))return Qr(i)||Ld(i);r=()=>new i(...Pl(e.deps))}return r}function Zi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function jd(e,n){for(const t of e)Array.isArray(t)?jd(t,n):t&&Dl(t)?jd(t.\u0275providers,n):n(t)}const bc=new N("AppId",{providedIn:"root",factory:()=>tx}),tx="ng",cy=new N("Platform Initializer"),ri=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uy=new N("CSP nonce",{providedIn:"root",factory:()=>function Ki(){if(void 0!==Sd)return Sd;if(typeof document<"u")return document;throw new E(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ly=(e,n,t)=>null;function qd(e,n,t=!1){return ly(e,n,t)}class dx{}class hy{}class hx{resolveComponentFactory(n){throw function fx(e){const n=Error(`No component factory found for ${nt(e)}.`);return n.ngComponent=e,n}(n)}}let Ic=(()=>{class e{static{this.NULL=new hx}}return e})();function px(){return eo(dt(),C())}function eo(e,n){return new Jt(Lt(e,n))}let Jt=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=px}}return e})();class gy{}let sr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function mx(){const e=C(),t=qt(dt().index,e);return(Ft(t)?t:e)[Y]}()}}return e})(),vx=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>null})}}return e})();class Es{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const yx=new Es("16.2.12"),Jd={};function _y(e,n=null,t=null,r){const i=wy(e,n,t,r);return i.resolveInjectorInitializers(),i}function wy(e,n=null,t=null,r,i=new Set){const o=[t||ge,qA(e)];return r=r||("object"==typeof e?void 0:nt(e)),new Yi(o,n||wc(),r||null,i)}let Yt=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Ko}static{this.NULL=new Od}static create(t,r){if(Array.isArray(t))return _y({name:""},r,t,"");{const i=t.name??"";return _y({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=V({token:e,providedIn:"any",factory:()=>L(ty)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Zd(e){return e.ngOriginalError}class ar{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Zd(n);for(;t&&Zd(t);)t=Zd(t);return t||null}}function Qd(e){return n=>{setTimeout(e,void 0,n)}}const Be=class Mx extends mn{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Qd(o),i&&(i=Qd(i)),s&&(s=Qd(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof w&&n.add(a),a}};function Cy(...e){}class xe{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Ix(){const e="function"==typeof Te.requestAnimationFrame;let n=Te[e?"requestAnimationFrame":"setTimeout"],t=Te[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function xx(e){const n=()=>{!function Ax(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Te,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ef(e),e.isCheckStableRunning=!0,Xd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ef(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function Px(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return Dy(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),Ey(e)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return Dy(e),t.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&n(),Ey(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,ef(e),Xd(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xe.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(xe.isInAngularZone())throw new E(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,Tx,Cy,Cy);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const Tx={};function Xd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ef(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Dy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ey(e){e._nesting--,Xd(e)}class Ox{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const Sy=new N("",{providedIn:"root",factory:My});function My(){const e=k(xe);let n=!0;return function xM(...e){const n=Wo(e),t=function DM(e,n){return"number"==typeof _l(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Ht(r[0]):Ei(t)(tt(r,n)):On}(new ze(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new ze(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{xe.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Ng()))}function cr(e){return e instanceof Function?e():e}let tf=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ss(e){for(;e;){e[ee]|=64;const n=gs(e);if(jl(e)&&!n)return e;e=n}return null}const Oy=new N("",{providedIn:"root",factory:()=>!1});let xc=null;function Ny(e,n){return e[n]??jy()}function Fy(e,n){const t=jy();t.producerNode?.length&&(e[n]=xc,t.lView=e,xc=Ly())}const Bx={...cm,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ss(e.lView)},lView:null};function Ly(){return Object.create(Bx)}function jy(){return xc??=Ly(),xc}const Z={};function x(e){Vy(fe(),C(),Mt()+e,!1)}function Vy(e,n,t,r){if(!r)if(3==(3&n[ee])){const o=e.preOrderCheckHooks;null!==o&&qa(n,o,t)}else{const o=e.preOrderHooks;null!==o&&Wa(n,o,0,t)}Xr(t)}function D(e,n=ce.Default){const t=C();return null===t?L(e,n):Xm(dt(),t,q(e),n)}function Oc(e,n,t,r,i,o,s,a,c,u,l){const d=n.blueprint.slice();return d[Ue]=i,d[ee]=140|r,(null!==u||e&&2048&e[ee])&&(d[ee]|=2048),Tm(d),d[Fe]=d[Ai]=e,d[Ge]=t,d[Ti]=s||e&&e[Ti],d[Y]=a||e&&e[Y],d[Cr]=c||e&&e[Cr]||null,d[gt]=o,d[ts]=function KT(){return WT++}(),d[tr]=l,d[im]=u,d[qe]=2==n.type?e[qe]:d,d}function ro(e,n,t,r,i){let o=e.data[n];if(null===o)o=function nf(e,n,t,r,i){const o=km(),s=ql(),c=e.data[n]=function Yx(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function ki(){return null!==G.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,n,t,r,i),function WI(){return G.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function ss(){const e=G.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Fn(o,!0),o}function Ms(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Uy(e,n,t,r,i){const o=Ny(n,ns),s=Mt(),a=2&r;try{Xr(-1),a&&n.length>ue&&Vy(e,n,ue,!1),Nn(a?2:0,i);const u=a?o:null,l=$l(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{Ul(u,l)}}finally{a&&null===n[ns]&&Fy(n,ns),Xr(s),Nn(a?3:1,i)}}function rf(e,n,t){if(Ll(n)){const r=an(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{an(r)}}}function sf(e,n,t){Rm()&&(function rO(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;Zr(t)&&function lO(e,n,t){const r=Lt(n,e),i=By(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Pc(e,Oc(e,i,null,s,r,n,null,e[Ti].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Ja(t,n),mt(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],u=ei(n,e,a,t);mt(u,n),null!==s&&dO(0,a-i,u,c,0,s),Cn(c)&&(qt(t.index,n)[Ge]=ei(n,e,a,t))}}(e,n,t,Lt(t,n)),64==(64&t.flags)&&Wy(e,n,t))}function af(e,n,t=Lt){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function By(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=cf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function cf(e,n,t,r,i,o,s,a,c,u,l){const d=ue+r,f=d+i,h=function zx(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Z);return t}(d,f),p="function"==typeof u?u():u;return h[R]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let Hy=e=>null;function zy(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?Gy(t,n,i,o):r.hasOwnProperty(i)&&Gy(t,n,r[i],o)}return t}function Gy(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function uf(e,n,t,r){if(Rm()){const i=null===r?null:{"":-1},o=function oO(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Qg(n,s.selectors,!1))if(r||(r=[]),Cn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),lf(e,n,a.length)}else r.unshift(s),lf(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&qy(e,n,t,s,i,a),i&&function sO(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new E(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=Zo(t.mergedAttrs,t.attrs)}function qy(e,n,t,r,i,o){for(let u=0;u<r.length;u++)id(Ja(t,n),e,r[u].type);!function cO(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Ms(e,n,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];t.mergedAttrs=Zo(t.mergedAttrs,l.hostAttrs),uO(e,t,n,c,l),aO(c,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function Zx(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let c=null,u=null;for(let l=n.directiveStart;l<i;l++){const d=o[l],f=t?t.get(d):null,p=f?f.outputs:null;c=zy(d.inputs,l,c,f?f.inputs:null),u=zy(d.outputs,l,u,p);const g=null===c||null===s||Zg(n)?null:fO(c,l,s);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=u}(e,t,o)}function Wy(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function JI(){return G.lFrame.currentDirectiveIndex}();try{Xr(o);for(let a=r;a<i;a++){const c=e.data[a],u=n[a];Kl(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&iO(c,u)}}finally{Xr(-1),Kl(s)}}function iO(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function lf(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function aO(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Cn(n)&&(t[""]=e)}}function uO(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Qr(i.type)),s=new as(o,Cn(i),D);e.blueprint[r]=s,t[r]=s,function tO(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function nO(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,Ms(e,t,i.hostVars,Z),i)}function jn(e,n,t,r,i,o){const s=Lt(e,n);!function df(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?J(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[Y],s,o,e.value,t,r,i)}function dO(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)Ky(r,t,s[a++],s[a++],s[a++])}function Ky(e,n,t,r,i){const o=an(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{an(o)}}function fO(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Jy(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function Yy(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];Yl(t[r]),s.contentQueries(2,n[o],o)}}}function Pc(e,n){return e[Xo]?e[rm][bn]=n:e[Xo]=n,e[rm]=n,n}function ff(e,n,t){Yl(0);const r=an(null);try{n(e,t)}finally{an(r)}}function e_(e,n){const t=e[Cr],r=t?t.get(ar,null):null;r&&r.handleError(n)}function hf(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];Ky(e.data[s],n[s],r,a,i)}}function hO(e,n){const t=qt(n,e),r=t[R];!function pO(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[Ue];null!==i&&null===t[tr]&&(t[tr]=qd(i,t[Cr])),pf(r,t,t[Ge])}function pf(e,n,t){Zl(n);try{const r=e.viewQuery;null!==r&&ff(1,r,t);const i=e.template;null!==i&&Uy(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Yy(e,n),e.staticViewQueries&&ff(2,e.viewQuery,t);const o=e.components;null!==o&&function gO(e,n){for(let t=0;t<n.length;t++)hO(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[ee]&=-5,Ql()}}let t_=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function SI(e,n,t){const r=Object.create(MI);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>fm(r),run:()=>{if(r.dirty=!1,r.hasRun&&!hm(r))return;r.hasRun=!0;const s=$l(r);try{r.cleanupFn(),r.cleanupFn=bm,r.fn(i)}finally{Ul(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Rc(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=bl(i,a):2==o&&(r=bl(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Is(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];null!==o&&r.push(Ae(o)),Ct(o)&&n_(o,r);const s=t.type;if(8&s)Is(e,n,t.child,r);else if(32&s){const a=md(t,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=jv(n,t);if(Array.isArray(a))r.push(...a);else{const c=gs(n[qe]);Is(c[R],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function n_(e,n){for(let t=ut;t<e.length;t++){const r=e[t],i=r[R].firstChild;null!==i&&Is(r[R],r,i,n)}e[kn]!==e[Ue]&&n.push(e[kn])}function kc(e,n,t,r=!0){const i=n[Ti],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{r_(e,n,e.template,t)}catch(c){throw r&&e_(n,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function r_(e,n,t,r){const i=n[ee];if(256!=(256&i)){n[Ti].effectManager?.flush(),Zl(n);try{Tm(n),function Fm(e){return G.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Uy(e,n,t,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&qa(n,u,null)}else{const u=e.preOrderHooks;null!==u&&Wa(n,u,0,null),Xl(n,0)}if(function yO(e){for(let n=Mv(e);null!==n;n=Iv(n)){if(!n[om])continue;const t=n[Oi];for(let r=0;r<t.length;r++){FI(t[r])}}}(n),i_(n,2),null!==e.contentQueries&&Yy(e,n),s){const u=e.contentCheckHooks;null!==u&&qa(n,u)}else{const u=e.contentHooks;null!==u&&Wa(n,u,1),Xl(n,1)}!function Hx(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=Ny(n,rs);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Xr(~o);else{const s=o,a=t[++i],c=t[++i];KI(a,s),r.dirty=!1;const u=$l(r);try{c(2,n[s])}finally{Ul(r,u)}}}}finally{null===n[rs]&&Fy(n,rs),Xr(-1)}}(e,n);const a=e.components;null!==a&&s_(n,a,0);const c=e.viewQuery;if(null!==c&&ff(2,c,r),s){const u=e.viewCheckHooks;null!==u&&qa(n,u)}else{const u=e.viewHooks;null!==u&&Wa(n,u,2),Xl(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[ee]&=-73,Am(n)}finally{Ql()}}}function i_(e,n){for(let t=Mv(e);null!==t;t=Iv(t))for(let r=ut;r<t.length;r++)o_(t[r],n)}function _O(e,n,t){o_(qt(n,e),t)}function o_(e,n){if(!function kI(e){return 128==(128&e[ee])}(e))return;const t=e[R],r=e[ee];if(80&r&&0===n||1024&r||2===n)r_(t,e,t.template,e[Ge]);else if(e[Qo]>0){i_(e,1);const i=t.components;null!==i&&s_(e,i,1)}}function s_(e,n,t){for(let r=0;r<n.length;r++)_O(e,n[r],t)}class Ts{get rootNodes(){const n=this._lView,t=n[R];return Is(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ge]}set context(n){this._lView[Ge]=n}get destroyed(){return 256==(256&this._lView[ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Fe];if(Ct(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(dc(n,r),Xa(t,r))}this._attachedToViewContainer=!1}yd(this._lView[R],this._lView)}onDestroy(n){!function Om(e,n){if(256==(256&e[ee]))throw new E(911,!1);null===e[Dr]&&(e[Dr]=[]),e[Dr].push(n)}(this._lView,n)}markForCheck(){Ss(this._cdRefInjectingView||this._lView)}detach(){this._lView[ee]&=-129}reattach(){this._lView[ee]|=128}detectChanges(){kc(this._lView[R],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cA(e,n){vs(e,n,n[Y],2,null,null)}(this._lView[R],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=n}}class wO extends Ts{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;kc(n[R],n,n[Ge],!1)}checkNoChanges(){}get context(){return null}}class a_ extends Ic{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=de(n);return new As(t,this.ngModule)}}function c_(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class CO{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Na(r);const i=this.injector.get(n,Jd,r);return i!==Jd||t===Jd?i:this.parentInjector.get(n,t,r)}}class As extends hy{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=c_(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return c_(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function sI(e){return e.map(oI).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof Kt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new CO(n,o):n,a=s.get(gy,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:s.get(vx,null),effectManager:s.get(t_,null),afterRenderEventManager:s.get(tf,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function Gx(e,n,t,r){const o=r.get(Oy,!1)||t===yn.ShadowDom,s=e.selectRootElement(n,o);return function qx(e){Hy(e)}(s),s}(f,r,this.componentDef.encapsulation,s):lc(f,h,function bO(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=qd(p,s,!0));const M=cf(0,null,null,1,0,null,null,null,null,null,null),S=Oc(null,M,null,_,null,null,d,f,s,null,v);let I,ne;Zl(S);try{const Ke=this.componentDef;let he,Ve=null;Ke.findHostDirectiveDefs?(he=[],Ve=new Map,Ke.findHostDirectiveDefs(Ke,he,Ve),he.push(Ke)):he=[Ke];const Jn=function EO(e,n){const t=e[R],r=ue;return e[r]=n,ro(t,r,2,"#host",null)}(S,p),xn=function SO(e,n,t,r,i,o,s){const a=i[R];!function MO(e,n,t,r){for(const i of e)n.mergedAttrs=Zo(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Rc(n,n.mergedAttrs,!0),null!==t&&Bv(r,t,n))}(r,e,n,s);let c=null;null!==n&&(c=qd(n,i[Cr]));const u=o.rendererFactory.createRenderer(n,t);let l=16;t.signals?l=4096:t.onPush&&(l=64);const d=Oc(i,By(t),null,l,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&lf(a,e,r.length-1),Pc(i,d),i[e.index]=d}(Jn,p,Ke,he,S,d,f);ne=Im(M,ue),p&&function TO(e,n,t,r){if(r)Nl(e,t,["ng-version",yx.full]);else{const{attrs:i,classes:o}=function aI(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!_n(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Nl(e,t,i),o&&o.length>0&&Uv(e,t,o.join(" "))}}(f,Ke,p,r),void 0!==t&&function AO(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(ne,this.ngContentSelectors,t),I=function IO(e,n,t,r,i,o){const s=dt(),a=i[R],c=Lt(s,i);qy(a,i,s,t,null,r);for(let l=0;l<t.length;l++)mt(ei(i,a,s.directiveStart+l,s),i);Wy(a,i,s),c&&mt(c,i);const u=ei(i,a,s.directiveStart+s.componentOffset,s);if(e[Ge]=i[Ge]=u,null!==o)for(const l of o)l(u,n);return rf(a,s,e),u}(xn,Ke,he,Ve,S,[xO]),pf(M,S,null)}finally{Ql()}return new DO(this.componentType,I,eo(ne,S),S,ne)}}class DO extends dx{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new wO(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;hf(o[R],o,i,n,t),this.previousInputValues.set(n,t),Ss(qt(this._tNode.index,o))}}get injector(){return new It(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function xO(){const e=dt();Ga(C()[R],e)}function be(e){let n=function u_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Cn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new E(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const s=e;s.inputs=Nc(e.inputs),s.inputTransforms=Nc(e.inputTransforms),s.declaredInputs=Nc(e.declaredInputs),s.outputs=Nc(e.outputs);const a=i.hostBindings;a&&kO(e,a);const c=i.viewQuery,u=i.contentQueries;if(c&&PO(e,c),u&&RO(e,u),Aa(e.inputs,i.inputs),Aa(e.declaredInputs,i.declaredInputs),Aa(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Aa(s.inputTransforms,i.inputTransforms)),Cn(i)&&i.data.animation){const l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===be&&(t=!1)}}n=Object.getPrototypeOf(n)}!function OO(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Zo(i.hostAttrs,t=Zo(t,i.hostAttrs))}}(r)}function Nc(e){return e===Pn?{}:e===ge?[]:e}function PO(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function RO(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function kO(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function h_(e){const n=e.inputConfig,t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}e.inputTransforms=t}function Fc(e){return!!function gf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function vt(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function $n(e,n,t,r){const i=C();return vt(i,Ni(),n)&&(fe(),jn(je(),i,e,n,t,r)),$n}function K(e,n,t,r,i,o,s,a){const c=C(),u=fe(),l=e+ue,d=u.firstCreatePass?function o1(e,n,t,r,i,o,s,a,c){const u=n.consts,l=ro(n,e,4,s||null,Sr(u,a));uf(n,t,l,Sr(u,c)),Ga(n,l);const d=l.tView=cf(2,l,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return null!==n.queries&&(n.queries.template(n,l),d.queries=n.queries.embeddedTView(l)),l}(l,u,c,n,t,r,i,o,s):u.data[l];Fn(d,!1);const f=M_(u,c,d,e);za()&&hc(u,c,f,d),mt(f,c),Pc(c,c[l]=Jy(f,c,f,d)),$a(d)&&sf(u,c,d),null!=s&&af(c,d,a)}let M_=function I_(e,n,t,r){return Mr(!0),n[Y].createComment("")};function Ar(e){return function Ri(e,n){return e[n]}(function qI(){return G.lFrame.contextLView}(),ue+e)}function P(e,n,t){const r=C();return vt(r,Ni(),n)&&function Zt(e,n,t,r,i,o,s,a){const c=Lt(n,t);let l,u=n.inputs;!a&&null!=u&&(l=u[r])?(hf(e,t,l,r,i),Zr(n)&&function Xx(e,n){const t=qt(n,e);16&t[ee]||(t[ee]|=64)}(t,n.index)):3&n.type&&(r=function Qx(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(c,r,i))}(fe(),je(),r,e,n,r[Y],t,!1),P}function bf(e,n,t,r,i){const s=i?"class":"style";hf(e,t,n.inputs[s],s,r)}function T(e,n,t,r){const i=C(),o=fe(),s=ue+e,a=i[Y],c=o.firstCreatePass?function u1(e,n,t,r,i,o){const s=n.consts,c=ro(n,e,2,r,Sr(s,i));return uf(n,t,c,Sr(s,o)),null!==c.attrs&&Rc(c,c.attrs,!1),null!==c.mergedAttrs&&Rc(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(s,o,i,n,t,r):o.data[s],u=T_(o,i,c,a,n,e);i[s]=u;const l=$a(c);return Fn(c,!0),Bv(a,u,c),32!=(32&c.flags)&&za()&&hc(o,i,u,c),0===function jI(){return G.lFrame.elementDepthCount}()&&mt(u,i),function VI(){G.lFrame.elementDepthCount++}(),l&&(sf(o,i,c),rf(o,c,i)),null!==r&&af(i,c),T}function A(){let e=dt();ql()?Wl():(e=e.parent,Fn(e,!1));const n=e;(function UI(e){return G.skipHydrationRootTNode===e})(n)&&function GI(){G.skipHydrationRootTNode=null}(),function $I(){G.lFrame.elementDepthCount--}();const t=fe();return t.firstCreatePass&&(Ga(t,e),Ll(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function sT(e){return 0!=(8&e.flags)}(n)&&bf(t,n,C(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function aT(e){return 0!=(16&e.flags)}(n)&&bf(t,n,C(),n.stylesWithoutHost,!1),A}function j(e,n,t,r){return T(e,n,t,r),A(),j}let T_=(e,n,t,r,i,o)=>(Mr(!0),lc(r,i,function zm(){return G.lFrame.currentNamespace}()));function Ee(e,n,t){const r=C(),i=fe(),o=e+ue,s=i.firstCreatePass?function f1(e,n,t,r,i){const o=n.consts,s=Sr(o,r),a=ro(n,e,8,"ng-container",s);return null!==s&&Rc(a,s,!0),uf(n,t,a,Sr(o,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,i,r,n,t):i.data[o];Fn(s,!0);const a=x_(i,r,s,e);return r[o]=a,za()&&hc(i,r,a,s),mt(a,r),$a(s)&&(sf(i,r,s),rf(i,s,r)),null!=t&&af(r,s),Ee}function Se(){let e=dt();const n=fe();return ql()?Wl():(e=e.parent,Fn(e,!1)),n.firstCreatePass&&(Ga(n,e),Ll(e)&&n.queries.elementEnd(e)),Se}let x_=(e,n,t,r)=>(Mr(!0),vd(n[Y],""));function Tt(){return C()}function ks(e){return!!e&&"function"==typeof e.then}function O_(e){return!!e&&"function"==typeof e.subscribe}function Ce(e,n,t,r){const i=C(),o=fe(),s=dt();return function R_(e,n,t,r,i,o,s){const a=$a(r),u=e.firstCreatePass&&function Qy(e){return e.cleanup||(e.cleanup=[])}(e),l=n[Ge],d=function Zy(e){return e[Ii]||(e[Ii]=[])}(n);let f=!0;if(3&r.type||s){const g=Lt(r,n),m=s?s(g):g,_=d.length,v=s?S=>s(Ae(S[r.index])):r.index;let M=null;if(!s&&a&&(M=function g1(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[Ii],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,f=!1;else{o=N_(r,n,l,o,!1);const S=t.listen(m,i,o);d.push(o,S),u&&u.push(i,v,_,_+1)}}else o=N_(r,n,l,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const I=n[p[m]][p[m+1]].subscribe(o),ne=d.length;d.push(o,I),u&&u.push(i,r.index,ne,-(ne+1))}}}(o,i,i[Y],s,e,n,r),Ce}function k_(e,n,t,r){try{return Nn(6,n,t),!1!==t(r)}catch(i){return e_(e,i),!1}finally{Nn(7,n,t)}}function N_(e,n,t,r,i){return function o(s){if(s===Function)return r;Ss(e.componentOffset>-1?qt(e.index,n):n);let c=k_(n,t,r,s),u=o.__ngNextListenerFn__;for(;u;)c=k_(n,t,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function Q(e=1){return function ZI(e){return(G.lFrame.contextLView=function QI(e,n){for(;e>0;)n=n[Ai],e--;return n}(e,G.lFrame.contextLView))[Ge]}(e)}function Uc(e,n){return e<<17|n<<2}function xr(e){return e>>17&32767}function Df(e){return 2|e}function oi(e){return(131068&e)>>2}function Ef(e,n){return-131069&e|n<<2}function Sf(e){return 1|e}function G_(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?xr(o):oi(o),c=!1;for(;0!==a&&(!1===c||s);){const l=e[a+1];E1(e[a],n)&&(c=!0,e[a+1]=r?Sf(l):Df(l)),a=r?xr(l):oi(l)}c&&(e[t+1]=r?Df(o):Sf(o))}function E1(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Hi(e,n)>=0}function Bc(e,n){return function Dn(e,n,t,r){const i=C(),o=fe(),s=function rr(e){const n=G.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);o.firstUpdatePass&&function ew(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[Mt()],s=function X_(e,n){return n>=e.expandoStartIndex}(e,t);(function iw(e,n){return 0!=(e.flags&(n?8:16))})(o,r)&&null===n&&!s&&(n=!1),n=function R1(e,n,t,r){const i=function Jl(e){const n=G.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Ns(t=Mf(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=Mf(i,e,n,t,r),null===o){let c=function k1(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==oi(r))return e[xr(r)]}(e,n,r);void 0!==c&&Array.isArray(c)&&(c=Mf(null,e,n,c[1],r),c=Ns(c,n.attrs,r),function N1(e,n,t,r){e[xr(t?n.classBindings:n.styleBindings)]=r}(e,n,r,c))}else o=function F1(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Ns(r,e[o].hostAttrs,t);return Ns(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function C1(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=xr(s),c=oi(s);e[r]=t;let l,u=!1;if(Array.isArray(t)?(l=t[1],(null===l||Hi(t,l)>0)&&(u=!0)):l=t,i)if(0!==c){const f=xr(e[a+1]);e[r+1]=Uc(f,a),0!==f&&(e[f+1]=Ef(e[f+1],r)),e[a+1]=function w1(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=Uc(a,0),0!==a&&(e[a+1]=Ef(e[a+1],r)),a=r;else e[r+1]=Uc(c,0),0===a?a=r:e[c+1]=Ef(e[c+1],r),c=r;u&&(e[r+1]=Df(e[r+1])),G_(e,l,r,!0),G_(e,l,r,!1),function D1(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&Hi(o,n)>=0&&(t[r+1]=Sf(t[r+1]))}(n,l,e,r,o),s=Uc(a,c),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}(o,e,s,r),n!==Z&&vt(i,s,n)&&function nw(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const c=e.data,u=c[a+1],l=function b1(e){return 1==(1&e)}(u)?rw(c,n,t,i,oi(u),s):void 0;Hc(l)||(Hc(o)||function _1(e){return 2==(2&e)}(u)&&(o=rw(c,null,t,i,a,s)),function yA(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Ir.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ir.Important),e.setStyle(t,r,i,o))}}(r,s,Ha(Mt(),t),i,o))}(o,o.data[Mt()],i,i[Y],e,i[s+1]=function $1(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=nt(Tr(e)))),e}(n,t),r,s)}(e,n,null,!0),Bc}function Mf(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=Ns(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Ns(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wt(e,s,!!t||n[++o]))}return void 0===e?null:e}function rw(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let f=t[i+1];f===Z&&(f=d?ge:void 0);let h=d?ad(f,r):l===r?f:void 0;if(u&&!Hc(h)&&(h=ad(c,r)),Hc(h)&&(a=h,s))return a;const p=e[i+1];i=s?xr(p):oi(p)}if(null!==n){let c=o?n.residualClasses:n.residualStyles;null!=c&&(a=ad(c,r))}return a}function Hc(e){return void 0!==e}function oe(e,n=""){const t=C(),r=fe(),i=e+ue,o=r.firstCreatePass?ro(r,i,1,n,null):r.data[i],s=ow(r,t,o,n,e);t[i]=s,za()&&hc(r,t,s,o),Fn(o,!1)}let ow=(e,n,t,r,i)=>(Mr(!0),function uc(e,n){return e.createText(n)}(n[Y],r));function Fs(e){return go("",e,""),Fs}function go(e,n,t){const r=C(),i=function oo(e,n,t,r){return vt(e,Ni(),t)?n+J(t)+r:Z}(r,e,n,t);return i!==Z&&function ur(e,n,t){const r=Ha(n,e);!function Av(e,n,t){e.setValue(n,t)}(e[Y],r,t)}(r,Mt(),i),go}const vo="en-US";let Iw=vo;function Af(e,n,t,r,i){if(e=q(e),Array.isArray(e))for(let o=0;o<e.length;o++)Af(e[o],n,t,r,i);else{const o=fe(),s=C(),a=dt();let c=ni(e)?e:q(e.provide);const u=ay(e),l=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(ni(e)||!e.multi){const h=new as(u,i,D),p=Of(c,n,i?l:l+f,d);-1===p?(id(Ja(a,s),o,c),xf(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[p]=h,s[p]=h)}else{const h=Of(c,n,l+f,d),p=Of(c,n,l,l+f),m=p>=0&&t[p];if(i&&!m||!i&&!(h>=0&&t[h])){id(Ja(a,s),o,c);const _=function aR(e,n,t,r,i){const o=new as(e,t,D);return o.multi=[],o.index=n,o.componentProviders=0,Qw(o,i,r&&!t),o}(i?sR:oR,t.length,i,r,u);!i&&m&&(t[p].providerFactory=_),xf(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)}else xf(o,e,h>-1?h:p,Qw(t[i?p:h],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function xf(e,n,t,r){const i=ni(n),o=function KA(e){return!!e.useClass}(n);if(i||o){const c=(o?q(n.useClass):n).prototype.ngOnDestroy;if(c){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const l=u.indexOf(t);-1===l?u.push(t,[r,c]):u[l+1].push(r,c)}else u.push(t,c)}}}function Qw(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Of(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function oR(e,n,t,r){return Pf(this.multi,[])}function sR(e,n,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ei(t,t[R],this.providerFactory.index,r);o=a.slice(0,s),Pf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Pf(i,o);return o}function Pf(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Le(e,n=[]){return t=>{t.providersResolver=(r,i)=>function iR(e,n,t){const r=fe();if(r.firstCreatePass){const i=Cn(e);Af(t,r.data,r.blueprint,i,!0),Af(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class ai{}class Xw{}class Rf extends ai{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a_(this);const i=Gt(n);this._bootstrapComponents=cr(i.bootstrap),this._r3Injector=wy(n,t,[{provide:ai,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver},...r],nt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class kf extends Xw{constructor(n){super(),this.moduleType=n}create(n){return new Rf(this.moduleType,n,[])}}class eb extends ai{constructor(n){super(),this.componentFactoryResolver=new a_(this),this.instance=null;const t=new Yi([...n.providers,{provide:ai,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver}],n.parent||wc(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Nf(e,n,t=null){return new eb({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let lR=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=ry(0,t.type),i=r.length>0?Nf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(L(Kt))})}}return e})();function Kc(e){e.getStandaloneInjector=n=>n.get(lR).getOrCreateStandaloneInjector(e)}function jR(e,n,t,r=!0){const i=n[R];if(function lA(e,n,t,r){const i=ut+r,o=t.length;r>0&&(t[i-1][bn]=n),r<o-ut?(n[bn]=t[i],ov(t,ut+r,n)):(t.push(n),n[bn]=null),n[Fe]=t;const s=n[es];null!==s&&t!==s&&function dA(e,n){const t=e[Oi];n[qe]!==n[Fe][Fe][qe]&&(e[om]=!0),null===t?e[Oi]=[n]:t.push(n)}(s,n);const a=n[Rn];null!==a&&a.insertView(e),n[ee]|=128}(i,n,e,t),r){const o=Cd(t,e),s=n[Y],a=fc(s,e[kn]);null!==a&&function aA(e,n,t,r,i,o){r[Ue]=i,r[gt]=n,vs(e,r,t,1,i,o)}(i,e[gt],s,n,a,o)}}let lr=(()=>{class e{static{this.__NG_ELEMENT_ID__=UR}}return e})();const VR=lr,$R=class extends VR{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function LR(e,n,t,r){const i=n.tView,a=Oc(e,i,t,4096&e[ee]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[es]=e[n.index];const u=e[Rn];return null!==u&&(a[Rn]=u.createEmbeddedView(i)),pf(i,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:r});return new Ts(i)}};function UR(){return Jc(dt(),C())}function Jc(e,n){return 4&e.type?new $R(n,e,eo(e,n)):null}let Sn=(()=>{class e{static{this.__NG_ELEMENT_ID__=WR}}return e})();function WR(){return function yb(e,n){let t;const r=n[e.index];return Ct(r)?t=r:(t=Jy(r,n,null,e),n[e.index]=t,Pc(n,t)),_b(t,n,e,r),new mb(t,e,n)}(dt(),C())}const KR=Sn,mb=class extends KR{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return eo(this._hostTNode,this._hostLView)}get injector(){return new It(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ya(this._hostTNode,this._hostLView);if(td(n)){const t=us(n,this._hostLView),r=cs(n);return new It(t[R].data[r+8],t)}return new It(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=vb(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,o){const s=n&&!function ds(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const c=s?n:new As(de(n)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const m=(s?u:this.parentInjector).get(Kt,null);m&&(o=m)}de(c.componentType??{});const h=c.create(u,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView;if(function NI(e){return Ct(e[Fe])}(i)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const u=i[Fe],l=new mb(u,u[gt],u[Fe]);l.detach(l.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;return jR(a,i,s,!r),n.attachToViewContainerRef(),ov(jf(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=vb(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=dc(this._lContainer,t);r&&(Xa(jf(this._lContainer),t),yd(r[R],r))}detach(n){const t=this._adjustIndex(n,-1),r=dc(this._lContainer,t);return r&&null!=Xa(jf(this._lContainer),t)?new Ts(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function vb(e){return e[8]}function jf(e){return e[8]||(e[8]=[])}let _b=function wb(e,n,t,r){if(e[kn])return;let i;i=8&t.type?Ae(r):function JR(e,n){const t=e[Y],r=t.createComment(""),i=Lt(n,e);return ti(t,fc(t,i),r,function gA(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[kn]=i};function Or(e,n){return Jc(e,n)}const Jf=new N("Application Initializer");let Yf=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=k(Jf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(ks(o))t.push(o);else if(O_(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Gb=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const dr=new N("LocaleId",{providedIn:"root",factory:()=>k(dr,ce.Optional|ce.SkipSelf)||function Sk(){return typeof $localize<"u"&&$localize.locale||vo}()});let Qc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class Tk{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let qb=(()=>{class e{compileModuleSync(t){return new kf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=cr(Gt(t).declarations).reduce((s,a)=>{const c=de(a);return c&&s.push(new As(c)),s},[]);return new Tk(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Yb=new N(""),eu=new N("");let th,Xf=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,th||(function Yk(e){th=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(L(xe),L(eh),L(eu))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),eh=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return th?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Pr=null;const Zb=new N("AllowMultipleToken"),nh=new N("PlatformDestroyListeners"),rh=new N("appBootstrapListener");class Xb{constructor(n,t){this.name=n,this.token=t}}function t0(e,n,t=[]){const r=`Platform: ${n}`,i=new N(r);return(o=[])=>{let s=ih();if(!s||s.injector.get(Zb,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function Xk(e){if(Pr&&!Pr.get(Zb,!1))throw new E(400,!1);(function Qb(){!function wI(e){vm=e}(()=>{throw new E(600,!1)})})(),Pr=e;const n=e.get(r0);(function e0(e){e.get(cy,null)?.forEach(t=>t())})(e)}(function n0(e=[],n){return Yt.create({name:n,providers:[{provide:Nd,useValue:"platform"},{provide:nh,useValue:new Set([()=>Pr=null])},...e]})}(a,r))}return function tN(e){const n=ih();if(!n)throw new E(401,!1);return n}()}}function ih(){return Pr?.get(r0)??null}let r0=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function nN(e="zone.js",n){return"noop"===e?new Ox:"zone.js"===e?new xe(n):e}(r?.ngZone,function o0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function uR(e,n,t){return new Rf(e,n,t)}(t.moduleType,this.injector,function l0(e){return[{provide:xe,useFactory:e},{provide:bs,multi:!0,useFactory:()=>{const n=k(iN,{optional:!0});return()=>n.initialize()}},{provide:u0,useFactory:rN},{provide:Sy,useFactory:My}]}(()=>i)),s=o.injector.get(ar,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{tu(this._modules,o),a.unsubscribe()})}),function s0(e,n,t){try{const r=t();return ks(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Yf);return a.runInitializers(),a.donePromise.then(()=>(function Tw(e){on(e,"Expected localeId to be defined"),"string"==typeof e&&(Iw=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(dr,vo)||vo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=a0({},r);return function Zk(e,n,t){const r=new kf(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(wo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new E(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(nh,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(L(Yt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function a0(e,n){return Array.isArray(n)?n.reduce(a0,e):{...e,...n}}let wo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(u0),this.zoneIsStable=k(Sy),this.componentTypes=[],this.components=[],this.isStable=k(Qc).hasPendingTasks.pipe(vn(t=>t?H(!1):this.zoneIsStable),function OM(e,n=_r){return e=e??PM,et((t,r)=>{let i,o=!0;t.subscribe(Je(r,s=>{const a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Ng()),this._injector=k(Kt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof hy;if(!this._injector.get(Yf).done)throw!i&&function Mi(e){const n=de(e)||ct(e)||bt(e);return null!==n&&n.standalone}(t),new E(405,!1);let s;s=i?t:this._injector.get(Ic).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Qk(e){return e.isBoundToModule}(s)?void 0:this._injector.get(ai),u=s.create(Yt.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(Yb,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),tu(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;tu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(rh,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>tu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tu(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const u0=new N("",{providedIn:"root",factory:()=>k(ar).handleError.bind(void 0)});function rN(){const e=k(xe),n=k(ar);return t=>e.runOutsideAngular(()=>n.handleError(t))}let iN=(()=>{class e{constructor(){this.zone=k(xe),this.applicationRef=k(wo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let nu=(()=>{class e{static{this.__NG_ELEMENT_ID__=sN}}return e})();function sN(e){return function aN(e,n,t){if(Zr(e)&&!t){const r=qt(e.index,n);return new Ts(r,r)}return 47&e.type?new Ts(n[qe],n):null}(dt(),C(),16==(16&e))}class g0{constructor(){}supports(n){return Fc(n)}create(n){return new fN(n)}}const dN=(e,n)=>n;class fN{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||dN}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<v0(r,i,o)?t:r,a=v0(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let f=0;f<u;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;l<=p&&p<u&&(o[f]=h+1)}o[s.previousIndex]=l-u}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Fc(n))throw new E(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function UO(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new hN(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new m0),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new m0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class hN{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pN{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class m0{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new pN,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function v0(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function _0(){return new ou([new g0])}let ou=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:_0})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||_0()),deps:[[e,new nc,new tc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new E(901,!1)}}return e})();const _N=t0(null,"core",[]);let wN=(()=>{class e{constructor(t){}static{this.\u0275fac=function(r){return new(r||e)(L(wo))}}static{this.\u0275mod=wn({type:e})}static{this.\u0275inj=sn({})}}return e})();function bo(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let lh=null;function Rr(){return lh}class kN{}const Qt=new N("DocumentToken");let dh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return k(FN)},providedIn:"platform"})}}return e})();const NN=new N("Location Initialized");let FN=(()=>{class e extends dh{constructor(){super(),this._doc=k(Qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rr().getBaseHref(this._doc)}onPopState(t){const r=Rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function fh(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function A0(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function fr(e){return e&&"?"!==e[0]?"?"+e:e}let ui=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return k(O0)},providedIn:"root"})}}return e})();const x0=new N("appBaseHref");let O0=(()=>{class e extends ui{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fh(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+fr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+fr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(L(dh),L(x0,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LN=(()=>{class e extends ui{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=fh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+fr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+fr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(L(dh),L(x0,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),hh=(()=>{class e{constructor(t){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $N(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(A0(P0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fr(r))}normalize(t){return e.stripTrailingSlash(function VN(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,P0(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=fr}static{this.joinWithSlash=fh}static{this.stripTrailingSlash=A0}static{this.\u0275fac=function(r){return new(r||e)(L(ui))}}static{this.\u0275prov=V({token:e,factory:function(){return function jN(){return new hh(L(ui))}()},providedIn:"root"})}}return e})();function P0(e){return e.replace(/\/index.html$/,"")}function U0(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}class MF{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let z0=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new MF(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),G0(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{G0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(D(Sn),D(lr),D(ou))}}static{this.\u0275dir=W({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function G0(e,n){e.context.$implicit=n.item}let gr=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new IF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){q0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){q0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(D(Sn),D(lr))}}static{this.\u0275dir=W({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class IF{constructor(){this.$implicit=null,this.ngIf=null}}function q0(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${nt(n)}'.`)}let Th=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=wn({type:e})}static{this.\u0275inj=sn({})}}return e})();function Y0(e){return"server"===e}let tL=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new nL(L(Qt),window)})}}return e})();class nL{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function rL(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Z0{}class ML extends kN{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oh extends ML{static makeCurrent(){!function RN(e){lh||(lh=e)}(new Oh)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function IL(){return Ys=Ys||document.querySelector("base"),Ys?Ys.getAttribute("href"):null}();return null==t?null:function TL(e){_u=_u||document.createElement("a"),_u.setAttribute("href",e);const n=_u.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return U0(document.cookie,n)}}let _u,Ys=null,xL=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const Ph=new N("EventManagerPlugins");let nC=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(L(Ph),L(xe))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class rC{constructor(n){this._doc=n}}const Rh="ng-app-id";let iC=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Y0(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Rh}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Rh),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Rh,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(L(Qt),L(bc),L(uy,8),L(ri))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nh=/%COMP%/g,kL=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function sC(e,n){return n.map(t=>t.replace(Nh,e))}let aC=(()=>{class e{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Y0(a),this.defaultRenderer=new Fh(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yn.ShadowDom&&(r={...r,encapsulation:yn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof uC?i.applyToHost(t):i instanceof Lh&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case yn.Emulated:o=new uC(c,u,r,this.appId,l,s,a,d);break;case yn.ShadowDom:return new jL(c,u,t,r,s,a,this.nonce,d);default:o=new Lh(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(L(nC),L(iC),L(bc),L(kL),L(Qt),L(ri),L(xe),L(uy))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class Fh{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(kh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(cC(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(cC(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new E(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=kh[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=kh[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Ir.DashCase|Ir.Important)?n.style.setProperty(t,r,i&Ir.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Ir.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=Rr().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function cC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class jL extends Fh{constructor(n,t,r,i,o,s,a,c){super(n,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=sC(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lh extends Fh{constructor(n,t,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?sC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class uC extends Lh{constructor(n,t,r,i,o,s,a,c){const u=i+"-"+r.id;super(n,t,r,o,s,a,c,u),this.contentAttr=function NL(e){return"_ngcontent-%COMP%".replace(Nh,e)}(u),this.hostAttr=function FL(e){return"_nghost-%COMP%".replace(Nh,e)}(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let VL=(()=>{class e extends rC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(L(Qt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const lC=["alt","control","meta","shift"],$L={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let BL=(()=>{class e extends rC{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),lC.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=$L[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lC.forEach(s=>{s!==i&&(0,UL[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(L(Qt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const qL=t0(_N,"browser",[{provide:ri,useValue:"browser"},{provide:cy,useValue:function HL(){Oh.makeCurrent()},multi:!0},{provide:Qt,useFactory:function GL(){return function DA(e){Sd=e}(document),document},deps:[]}]),WL=new N(""),hC=[{provide:eu,useClass:class AL{addToWindow(n){Te.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new E(5103,!1);return o},Te.getAllAngularTestabilities=()=>n.getAllTestabilities(),Te.getAllAngularRootElements=()=>n.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(r=>{const i=Te.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Rr().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:Yb,useClass:Xf,deps:[xe,eh,eu]},{provide:Xf,useClass:Xf,deps:[xe,eh,eu]}],pC=[{provide:Nd,useValue:"root"},{provide:ar,useFactory:function zL(){return new ar},deps:[]},{provide:Ph,useClass:VL,multi:!0,deps:[Qt,xe,ri]},{provide:Ph,useClass:BL,multi:!0,deps:[Qt]},aC,iC,nC,{provide:gy,useExisting:aC},{provide:Z0,useClass:xL,deps:[]},[]];let KL=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:bc,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(L(WL,12))}}static{this.\u0275mod=wn({type:e})}static{this.\u0275inj=sn({providers:[...pC,...hC],imports:[Th,wN]})}}return e})(),gC=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(L(Qt))}}static{this.\u0275prov=V({token:e,factory:function(r){let i=null;return i=r?new r:function YL(){return new gC(L(Qt))}(),i},providedIn:"root"})}}return e})();typeof window<"u"&&window;const{isArray:nj}=Array,{getPrototypeOf:rj,prototype:ij,keys:oj}=Object;function _C(e){if(1===e.length){const n=e[0];if(nj(n))return{args:n,keys:null};if(function sj(e){return e&&"object"==typeof e&&rj(e)===ij}(n)){const t=oj(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:aj}=Array;function wC(e){return me(n=>function cj(e,n){return aj(n)?e(...n):e(n)}(e,n))}function bC(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Vh(...e){const n=Wo(e),t=Og(e),{args:r,keys:i}=_C(e);if(0===r.length)return tt([],n);const o=new ze(function uj(e,n,t=_r){return r=>{CC(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)CC(n,()=>{const u=tt(e[c],n);let l=!1;u.subscribe(Je(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>bC(i,s):_r));return t?o.pipe(wC(t)):o}function CC(e,n,t){e?Qn(t,e,n):n()}const wu=se(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function $h(...e){return function lj(){return Ei(1)}()(tt(e,Wo(e)))}function DC(e){return new ze(n=>{Ht(e()).subscribe(n)})}function Zs(e,n){const t=U(e)?e:()=>e,r=i=>i.error(t());return new ze(n?i=>n.schedule(r,0,i):r)}function Uh(){return et((e,n)=>{let t=null;e._refCount++;const r=Je(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class EC extends ze{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,mg(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new w;const t=this.getSubject();n.add(this.source.subscribe(Je(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=w.EMPTY)}return n}refCount(){return Uh()(this)}}function Do(e){return e<=0?()=>On:et((n,t)=>{let r=0;n.subscribe(Je(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function mr(e,n){return et((t,r)=>{let i=0;t.subscribe(Je(r,o=>e.call(n,o,i++)&&r.next(o)))})}function bu(e){return et((n,t)=>{let r=!1;n.subscribe(Je(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function SC(e=fj){return et((n,t)=>{let r=!1;n.subscribe(Je(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function fj(){return new wu}function li(e,n){const t=arguments.length>=2;return r=>r.pipe(e?mr((i,o)=>e(i,o,r)):_r,Do(1),t?bu(n):SC(()=>new wu))}function Eo(e,n){return U(n)?at(e,n,1):at(e,1)}function yt(e,n,t){const r=U(e)||n||t?{next:e,error:n,complete:t}:e;return r?et((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Je(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):_r}function di(e){return et((n,t)=>{let o,r=null,i=!1;r=n.subscribe(Je(t,void 0,void 0,s=>{o=Ht(e(s,di(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Bh(e){return e<=0?()=>On:et((n,t)=>{let r=[];n.subscribe(Je(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Qs(e){return et((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const te="primary",Xs=Symbol("RouteTitle");class yj{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function So(e){return new yj(e)}function _j(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Hn(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!MC(e[i],n[i]))return!1;return!0}function MC(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function IC(e){return e.length>0?e[e.length-1]:null}function Nr(e){return function tj(e){return!!e&&(e instanceof ze||U(e.lift)&&U(e.subscribe))}(e)?e:ks(e)?tt(Promise.resolve(e)):H(e)}const bj={exact:function xC(e,n,t){if(!fi(e.segments,n.segments)||!Cu(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!xC(e.children[r],n.children[r],t))return!1;return!0},subset:OC},TC={exact:function Cj(e,n){return Hn(e,n)},subset:function Dj(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>MC(e[t],n[t]))},ignored:()=>!0};function AC(e,n,t){return bj[t.paths](e.root,n.root,t.matrixParams)&&TC[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function OC(e,n,t){return PC(e,n,n.segments,t)}function PC(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!fi(i,t)||n.hasChildren()||!Cu(i,t,r))}if(e.segments.length===t.length){if(!fi(e.segments,t)||!Cu(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!OC(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(fi(e.segments,i)&&Cu(e.segments,i,r)&&e.children[te])&&PC(e.children[te],n,o,r)}}function Cu(e,n,t){return n.every((r,i)=>TC[t](e[i].parameters,r.parameters))}class Mo{constructor(n=new De([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=So(this.queryParams)),this._queryParamMap}toString(){return Mj.serialize(this)}}class De{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Du(this)}}class ea{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=So(this.parameters)),this._parameterMap}toString(){return NC(this)}}function fi(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let ta=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return new Hh},providedIn:"root"})}}return e})();class Hh{parse(n){const t=new Lj(n);return new Mo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${na(n.root,!0)}`,r=function Aj(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Eu(t)}=${Eu(i)}`).join("&"):`${Eu(t)}=${Eu(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function Ij(e){return encodeURI(e)}(n.fragment)}`:""}`}}const Mj=new Hh;function Du(e){return e.segments.map(n=>NC(n)).join("/")}function na(e,n){if(!e.hasChildren())return Du(e);if(n){const t=e.children[te]?na(e.children[te],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${na(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Sj(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===te&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==te&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===te?[na(e.children[te],!1)]:[`${i}:${na(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[te]?`${Du(e)}/${t[0]}`:`${Du(e)}/(${t.join("//")})`}}function RC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eu(e){return RC(e).replace(/%3B/gi,";")}function zh(e){return RC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Su(e){return decodeURIComponent(e)}function kC(e){return Su(e.replace(/\+/g,"%20"))}function NC(e){return`${zh(e.path)}${function Tj(e){return Object.keys(e).map(n=>`;${zh(n)}=${zh(e[n])}`).join("")}(e.parameters)}`}const xj=/^[^\/()?;#]+/;function Gh(e){const n=e.match(xj);return n?n[0]:""}const Oj=/^[^\/()?;=#]+/,Rj=/^[^=?&#]+/,Nj=/^[^&#]+/;class Lj{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[te]=new De(n,t)),r}parseSegment(){const n=Gh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(n),new ea(Su(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function Pj(e){const n=e.match(Oj);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Gh(this.remaining);i&&(r=i,this.capture(r))}n[Su(t)]=Su(r)}parseQueryParam(n){const t=function kj(e){const n=e.match(Rj);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Fj(e){const n=e.match(Nj);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=kC(t),o=kC(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=te);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[te]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new E(4011,!1)}}function FC(e){return e.segments.length>0?new De([],{[te]:e}):e}function LC(e){const n={};for(const r of Object.keys(e.children)){const o=LC(e.children[r]);if(r===te&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function jj(e){if(1===e.numberOfChildren&&e.children[te]){const n=e.children[te];return new De(e.segments.concat(n.segments),n.children)}return e}(new De(e.segments,n))}function hi(e){return e instanceof Mo}function jC(e){let n;const i=FC(function t(o){const s={};for(const c of o.children){const u=t(c);s[c.outlet]=u}const a=new De(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function VC(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return qh(i,i,i,t,r);const o=function $j(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new UC(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new UC(t,n,r)}(n);if(o.toRoot())return qh(i,i,new De([],{}),t,r);const s=function Uj(e,n,t){if(e.isAbsolute)return new Iu(n,!0,0);if(!t)return new Iu(n,!1,NaN);if(null===t.parent)return new Iu(t,!0,0);const r=Mu(e.commands[0])?0:1;return function Bj(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Iu(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?ia(s.segmentGroup,s.index,o.commands):BC(s.segmentGroup,s.index,o.commands);return qh(i,s.segmentGroup,a,t,r)}function Mu(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ra(e){return"object"==typeof e&&null!=e&&e.outlets}function qh(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=e===n?t:$C(e,n,t);const a=FC(LC(s));return new Mo(a,o,i)}function $C(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:$C(o,n,t)}),new De(e.segments,r)}class UC{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Mu(r[0]))throw new E(4003,!1);const i=r.find(ra);if(i&&i!==IC(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Iu{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function BC(e,n,t){if(e||(e=new De([],{})),0===e.segments.length&&e.hasChildren())return ia(e,n,t);const r=function zj(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(ra(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!zC(c,u,s))return o;r+=2}else{if(!zC(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new De(e.segments.slice(0,r.pathIndex),{});return o.children[te]=new De(e.segments.slice(r.pathIndex),e.children),ia(o,0,i)}return r.match&&0===i.length?new De(e.segments,{}):r.match&&!e.hasChildren()?Wh(e,n,t):r.match?ia(e,0,i):Wh(e,n,t)}function ia(e,n,t){if(0===t.length)return new De(e.segments,{});{const r=function Hj(e){return ra(e[0])?e[0].outlets:{[te]:e}}(t),i={};if(Object.keys(r).some(o=>o!==te)&&e.children[te]&&1===e.numberOfChildren&&0===e.children[te].segments.length){const o=ia(e.children[te],n,t);return new De(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=BC(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new De(e.segments,i)}}function Wh(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(ra(o)){const c=Gj(o.outlets);return new De(r,c)}if(0===i&&Mu(t[0])){r.push(new ea(e.segments[n].path,HC(t[0]))),i++;continue}const s=ra(o)?o.outlets[te]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Mu(a)?(r.push(new ea(s,HC(a))),i+=2):(r.push(new ea(s,{})),i++)}return new De(r,{})}function Gj(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=Wh(new De([],{}),0,r))}),n}function HC(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function zC(e,n,t){return e==t.path&&Hn(n,t.parameters)}const oa="imperative";class zn{constructor(n,t){this.id=n,this.url=t}}class Tu extends zn{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fr extends zn{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sa extends zn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Io extends zn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Au extends zn{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GC extends zn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qj extends zn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wj extends zn{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kj extends zn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jj extends zn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yj{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zj{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qj{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xj{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e2{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t2{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qC{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kh{}class Jh{constructor(n){this.url=n}}class n2{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new aa,this.attachRef=null}}let aa=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new n2,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class WC{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Yh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Yh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Zh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Zh(n,this._root).map(t=>t.value)}}function Yh(e,n){if(e===n.value)return n;for(const t of n.children){const r=Yh(e,t);if(r)return r}return null}function Zh(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Zh(e,t);if(r.length)return r.unshift(n),r}return[]}class vr{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function To(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class KC extends WC{constructor(n,t){super(n),this.snapshot=t,Qh(this,n)}toString(){return this.snapshot.toString()}}function JC(e,n){const t=function r2(e,n){const s=new xu([],{},{},"",{},te,n,null,{});return new ZC("",new vr(s,[]))}(0,n),r=new rn([new ea("",{})]),i=new rn({}),o=new rn({}),s=new rn({}),a=new rn(""),c=new hn(r,i,s,a,o,te,n,t.root);return c.snapshot=t.root,new KC(new vr(c,[]),t)}class hn{constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(me(u=>u[Xs]))??H(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(n=>So(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(n=>So(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YC(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function i2(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class xu{get title(){return this.data?.[Xs]}constructor(n,t,r,i,o,s,a,c,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=So(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=So(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZC extends WC{constructor(n,t){super(t),this.url=n,Qh(this,t)}toString(){return QC(this._root)}}function Qh(e,n){n.value._routerState=e,n.children.forEach(t=>Qh(e,t))}function QC(e){const n=e.children.length>0?` { ${e.children.map(QC).join(", ")} } `:"";return`${e.value}${n}`}function Xh(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Hn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Hn(n.params,t.params)||e.paramsSubject.next(t.params),function wj(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Hn(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Hn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ep(e,n){const t=Hn(e.params,n.params)&&function Ej(e,n){return fi(e,n)&&e.every((t,r)=>Hn(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||ep(e.parent,n.parent))}let tp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=k(aa),this.location=k(Sn),this.changeDetector=k(nu),this.environmentInjector=k(Kt),this.inputBinder=k(Ou,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new o2(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=W({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cn]})}}return e})();class o2{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===hn?this.route:n===aa?this.childContexts:this.parent.get(n,t)}}const Ou=new N("");let XC=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Vh([r.queryParams,r.params,r.data]).pipe(vn(([o,s,a],c)=>(a={...o,...s,...a},0===c?H(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function PN(e){const n=de(e);if(!n)return null;const t=new As(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function ca(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function a2(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ca(e,r,i);return ca(e,r)})}(e,n,t);return new vr(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ca(e,a)),s}}const r=function c2(e){return new hn(new rn(e.url),new rn(e.params),new rn(e.queryParams),new rn(e.fragment),new rn(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>ca(e,o));return new vr(r,i)}}const np="ngNavigationCancelingError";function eD(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=hi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=tD(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function tD(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[np]=!0,r.cancellationCode=n,t&&(r.url=t),r}function nD(e){return e&&e[np]}let rD=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=kt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Kc],decls:1,vars:0,template:function(r,i){1&r&&j(0,"router-outlet")},dependencies:[tp],encapsulation:2})}}return e})();function rp(e){const n=e.children&&e.children.map(rp),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=rD),t}function Tn(e){return e.outlet||te}function ua(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class m2{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Xh(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=To(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=To(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=To(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=To(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new t2(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Xj(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(Xh(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xh(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=ua(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class iD{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Pu{constructor(n,t){this.component=n,this.route=t}}function v2(e,n,t){const r=e._root;return la(r,n?n._root:null,t,[r.value])}function Ao(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function VM(e){return null!==Oa(e)}(e)?n.get(e):e:r}function la(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=To(n);return e.children.forEach(s=>{(function _2(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function w2(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!fi(e.url,n.url);case"pathParamsOrQueryParamsChange":return!fi(e.url,n.url)||!Hn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ep(e,n)||!Hn(e.queryParams,n.queryParams);default:return!ep(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new iD(r)):(o.data=s.data,o._resolvedData=s._resolvedData),la(e,n,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pu(a.outlet.component,s))}else s&&da(n,a,i),i.canActivateChecks.push(new iD(r)),la(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>da(a,t.getContext(s),i)),i}function da(e,n,t){const r=To(e),i=e.value;Object.entries(r).forEach(([o,s])=>{da(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new Pu(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function fa(e){return"function"==typeof e}function oD(e){return e instanceof wu||"EmptyError"===e?.name}const Ru=Symbol("INITIAL_VALUE");function xo(){return vn(e=>Vh(e.map(n=>n.pipe(Do(1),function dj(...e){const n=Wo(e);return et((t,r)=>{(n?$h(e,t,n):$h(e,t)).subscribe(r)})}(Ru)))).pipe(me(n=>{for(const t of n)if(!0!==t){if(t===Ru)return Ru;if(!1===t||t instanceof Mo)return t}return!0}),mr(n=>n!==Ru),Do(1)))}function sD(e){return function FS(...e){return hg(e)}(yt(n=>{if(hi(n))throw eD(0,n)}),me(n=>!0===n))}class ku{constructor(n){this.segmentGroup=n||null}}class aD{constructor(n){this.urlTree=n}}function Oo(e){return Zs(new ku(e))}function cD(e){return Zs(new aD(e))}class $2{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new E(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return H(r);if(i.numberOfChildren>1||!i.children[te])return Zs(new E(4e3,!1));i=i.children[te]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new Mo(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new De(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const ip={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function U2(e,n,t,r,i){const o=op(e,n,t);return o.matched?(r=function l2(e,n){return e.providers&&!e._injector&&(e._injector=Nf(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function L2(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?H(i.map(s=>{const a=Ao(s,e);return Nr(function M2(e){return e&&fa(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(xo(),sD()):H(!0)}(r,n,t).pipe(me(s=>!0===s?o:{...ip}))):H(o)}function op(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...ip}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||_j)(t,e,n);if(!i)return{...ip};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function uD(e,n,t,r){return t.length>0&&function z2(e,n,t){return t.some(r=>Nu(e,n,r)&&Tn(r)!==te)}(e,t,r)?{segmentGroup:new De(n,H2(r,new De(t,e.children))),slicedSegments:[]}:0===t.length&&function G2(e,n,t){return t.some(r=>Nu(e,n,r))}(e,t,r)?{segmentGroup:new De(e.segments,B2(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new De(e.segments,e.children),slicedSegments:t}}function B2(e,n,t,r,i){const o={};for(const s of r)if(Nu(e,t,s)&&!i[Tn(s)]){const a=new De([],{});o[Tn(s)]=a}return{...i,...o}}function H2(e,n){const t={};t[te]=n;for(const r of e)if(""===r.path&&Tn(r)!==te){const i=new De([],{});t[Tn(r)]=i}return t}function Nu(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class J2{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new $2(this.urlSerializer,this.urlTree)}noMatchError(n){return new E(4002,!1)}recognize(){const n=uD(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,te).pipe(di(t=>{if(t instanceof aD)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof ku?this.noMatchError(t):t}),me(t=>{const r=new xu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new vr(r,t),o=new ZC("",i),s=function Vj(e,n,t=null,r=null){return VC(jC(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,te).pipe(di(r=>{throw r instanceof ku?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=YC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return tt(i).pipe(Eo(o=>{const s=r.children[o],a=function p2(e,n){const t=e.filter(r=>Tn(r)===n);return t.push(...e.filter(r=>Tn(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function pj(e,n){return et(function hj(e,n,t,r,i){return(o,s)=>{let a=t,c=n,u=0;o.subscribe(Je(s,l=>{const d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),bu(null),function gj(e,n){const t=arguments.length>=2;return r=>r.pipe(e?mr((i,o)=>e(i,o,r)):_r,Bh(1),t?bu(n):SC(()=>new wu))}(),at(o=>{if(null===o)return Oo(r);const s=lD(o);return function Y2(e){e.sort((n,t)=>n.value.outlet===te?-1:t.value.outlet===te?1:n.value.outlet.localeCompare(t.value.outlet))}(s),H(s)}))}processSegment(n,t,r,i,o,s){return tt(t).pipe(Eo(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(di(c=>{if(c instanceof ku)return H(null);throw c}))),li(a=>!!a),di(a=>{if(oD(a))return function W2(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?H([]):Oo(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function q2(e,n,t,r){return!!(Tn(e)===r||r!==te&&Nu(n,t,e))&&("**"===e.path||op(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):Oo(i):Oo(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?cD(o):this.applyRedirects.lineralizeSegments(r,o).pipe(at(s=>{const a=new De(s,{});return this.processSegment(n,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=op(t,i,o);if(!a)return Oo(t);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?cD(d):this.applyRedirects.lineralizeSegments(i,d).pipe(at(f=>this.processSegment(n,r,t,f.concat(u),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?IC(i).parameters:{};a=H({snapshot:new xu(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dD(r),Tn(r),r.component??r._loadedComponent??null,r,fD(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=U2(t,r,i,n).pipe(me(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new xu(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dD(r),Tn(r),r.component??r._loadedComponent??null,r,fD(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(vn(c=>null===c?Oo(t):this.getChildConfig(n=r._injector??n,r,i).pipe(vn(({routes:u})=>{const l=r._loadedInjector??n,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=uD(t,f,h,u);if(0===g.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(me(_=>null===_?null:[new vr(d,_)]));if(0===u.length&&0===g.length)return H([new vr(d,[])]);const m=Tn(r)===o;return this.processSegment(l,u,p,g,m?te:o,!0).pipe(me(_=>[new vr(d,_)]))}))))}getChildConfig(n,t,r){return t.children?H({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?H({routes:t._loadedRoutes,injector:t._loadedInjector}):function F2(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?H(!0):H(i.map(s=>{const a=Ao(s,e);return Nr(function C2(e){return e&&fa(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(xo(),sD())}(n,t,r).pipe(at(i=>i?this.configLoader.loadChildren(n,t).pipe(yt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function V2(e){return Zs(tD(!1,3))}())):H({routes:[],injector:n})}}function Z2(e){const n=e.value.routeConfig;return n&&""===n.path}function lD(e){const n=[],t=new Set;for(const r of e){if(!Z2(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=lD(r.children);n.push(new vr(r.value,i))}return n.filter(r=>!t.has(r))}function dD(e){return e.data||{}}function fD(e){return e.resolve||{}}function hD(e){return"string"==typeof e.title||null===e.title}function sp(e){return vn(n=>{const t=e(n);return t?tt(t).pipe(me(()=>n)):H(n)})}const Po=new N("ROUTES");let ap=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(qb)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return H(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Nr(t.loadComponent()).pipe(me(pD),yt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Qs(()=>{this.componentLoaders.delete(t)})),i=new EC(r,()=>new mn).pipe(Uh());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function iV(e,n,t,r){return Nr(e.loadChildren()).pipe(me(pD),at(i=>i instanceof Xw||Array.isArray(i)?H(i):tt(n.compileModuleAsync(i))),me(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Po,[],{optional:!0,self:!0}).flat()),{routes:s.map(rp),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Qs(()=>{this.childrenLoaders.delete(r)})),s=new EC(o,()=>new mn).pipe(Uh());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function pD(e){return function oV(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Fu=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mn,this.transitionAbortSubject=new mn,this.configLoader=k(ap),this.environmentInjector=k(Kt),this.urlSerializer=k(ta),this.rootContexts=k(aa),this.inputBindingEnabled=null!==k(Ou,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Zj(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Yj(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new rn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mr(o=>0!==o.id),me(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),vn(o=>{this.currentTransition=o;let s=!1,a=!1;return H(o).pipe(yt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(c=>{const u=c.currentBrowserUrl.toString(),l=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new Io(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),On}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return H(c).pipe(vn(f=>{const h=this.transitions?.getValue();return this.events.next(new Tu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?On:Promise.resolve(f)}),function Q2(e,n,t,r,i,o){return at(s=>function K2(e,n,t,r,i,o,s="emptyOnly"){return new J2(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),yt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new GC(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=c,_=new Tu(f,this.urlSerializer.serialize(h),p,g);this.events.next(_);const v=JC(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:v,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},H(o)}{const f="";return this.events.next(new Io(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),On}}),yt(c=>{const u=new qj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),me(c=>(this.currentTransition=o={...c,guards:v2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function T2(e,n){return at(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?H({...t,guardsResult:!0}):function A2(e,n,t,r){return tt(e).pipe(at(i=>function N2(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?H(o.map(a=>{const c=ua(n)??i,u=Ao(a,c);return Nr(function S2(e){return e&&fa(e.canDeactivate)}(u)?u.canDeactivate(e,n,t,r):c.runInContext(()=>u(e,n,t,r))).pipe(li())})).pipe(xo()):H(!0)}(i.component,i.route,t,n,r)),li(i=>!0!==i,!0))}(s,r,i,e).pipe(at(a=>a&&function b2(e){return"boolean"==typeof e}(a)?function x2(e,n,t,r){return tt(n).pipe(Eo(i=>$h(function P2(e,n){return null!==e&&n&&n(new Qj(e)),H(!0)}(i.route.parent,r),function O2(e,n){return null!==e&&n&&n(new e2(e)),H(!0)}(i.route,r),function k2(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function y2(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>DC(()=>H(s.guards.map(c=>{const u=ua(s.node)??t,l=Ao(c,u);return Nr(function E2(e){return e&&fa(e.canActivateChild)}(l)?l.canActivateChild(r,e):u.runInContext(()=>l(r,e))).pipe(li())})).pipe(xo())));return H(o).pipe(xo())}(e,i.path,t),function R2(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return H(!0);const i=r.map(o=>DC(()=>{const s=ua(n)??t,a=Ao(o,s);return Nr(function D2(e){return e&&fa(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(li())}));return H(i).pipe(xo())}(e,i.route,t))),li(i=>!0!==i,!0))}(r,o,e,n):H(a)),me(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),yt(c=>{if(o.guardsResult=c.guardsResult,hi(c.guardsResult))throw eD(0,c.guardsResult);const u=new Wj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),mr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),sp(c=>{if(c.guards.canActivateChecks.length)return H(c).pipe(yt(u=>{const l=new Kj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),vn(u=>{let l=!1;return H(u).pipe(function X2(e,n){return at(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let o=0;return tt(i).pipe(Eo(s=>function eV(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!hD(i)&&(o[Xs]=i.title),function tV(e,n,t,r){const i=function nV(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return H({});const o={};return tt(i).pipe(at(s=>function rV(e,n,t,r){const i=ua(n)??r,o=Ao(e,i);return Nr(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[s],n,t,r).pipe(li(),yt(a=>{o[s]=a}))),Bh(1),function mj(e){return me(()=>e)}(o),di(s=>oD(s)?On:Zs(s)))}(o,e,n,r).pipe(me(s=>(e._resolvedData=s,e.data=YC(e,t).resolve,i&&hD(i)&&(e.data[Xs]=i.title),null)))}(s.route,r,e,n)),yt(()=>o++),Bh(1),at(s=>o===i.length?H(t):On))})}(t.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),yt(u=>{const l=new Jj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),sp(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(yt(f=>{l.component=f}),me(()=>{})));for(const f of l.children)d.push(...u(f));return d};return Vh(u(c.targetSnapshot.root)).pipe(bu(),Do(1))}),sp(()=>this.afterPreactivation()),me(c=>{const u=function s2(e,n,t){const r=ca(e,n._root,t?t._root:void 0);return new KC(r,n)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),yt(()=>{this.events.next(new Kh)}),((e,n,t,r)=>me(i=>(new m2(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Do(1),yt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function vj(e){return et((n,t)=>{Ht(e).subscribe(Je(t,()=>t.complete(),le)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(yt(c=>{throw c}))),Qs(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),di(c=>{if(a=!0,nD(c))this.events.next(new sa(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function u2(e){return nD(e)&&hi(e.url)}(c)?this.events.next(new Jh(c.url)):o.resolve(!1);else{this.events.next(new Au(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){o.reject(u)}}return On}))}))}cancelNavigationTransition(t,r,i){const o=new sa(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function gD(e){return e!==oa}let mD=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[Xs]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return k(sV)},providedIn:"root"})}}return e})(),sV=(()=>{class e extends mD{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(L(gC))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),aV=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return k(uV)},providedIn:"root"})}}return e})();class cV{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let uV=(()=>{class e extends cV{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(e)))(i||e)}}()}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Lu=new N("",{providedIn:"root",factory:()=>({})});let lV=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return k(dV)},providedIn:"root"})}}return e})(),dV=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ha=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ha||{});function vD(e,n){e.events.pipe(mr(t=>t instanceof Fr||t instanceof sa||t instanceof Au||t instanceof Io),me(t=>t instanceof Fr||t instanceof Io?ha.COMPLETE:t instanceof sa&&(0===t.code||1===t.code)?ha.REDIRECTING:ha.FAILED),mr(t=>t!==ha.REDIRECTING),Do(1)).subscribe(()=>{n()})}function fV(e){throw e}function hV(e,n,t){return n.parse("/")}const pV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ut=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=k(Gb),this.isNgZoneEnabled=!1,this._events=new mn,this.options=k(Lu,{optional:!0})||{},this.pendingTasks=k(Qc),this.errorHandler=this.options.errorHandler||fV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=k(lV),this.routeReuseStrategy=k(aV),this.titleStrategy=k(mD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=k(Po,{optional:!0})?.flat()??[],this.navigationTransitions=k(Fu),this.urlSerializer=k(ta),this.location=k(hh),this.componentInputBindingEnabled=!!k(Ou,{optional:!0}),this.eventsSubscription=new w,this.isNgZoneEnabled=k(xe)instanceof xe&&xe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=JC(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(yD(r)&&this._events.next(r));if(r instanceof Tu)gD(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Io)this.rawUrlTree=i.rawUrl;else if(r instanceof GC){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Kh)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof sa)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Jh){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gD(i.source)};this.scheduleNavigation(o,oa,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Au&&this.restoreHistory(i,!0),r instanceof Fr&&(this.navigated=!0),yD(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),oa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(rp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=jC(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return VC(d,t,l,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=hi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,oa,null,r)}navigate(t,r={skipLocationChange:!1}){return function mV(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new E(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...pV}:!1===r?{...gV}:r,hi(t))return AC(this.currentUrlTree,t,i);const o=this.parseUrl(t);return AC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,c=f});const l=this.pendingTasks.add();return vD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function yD(e){return!(e instanceof Kh||e instanceof Jh)}let pn=(()=>{class e{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new mn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Fr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function ey(e,n,t){return function GA(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Xv:or}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(D(Ut),D(hn),function Qa(e){return function dT(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Wg(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===n)return t[i+1];i+=2}}}return null}(dt(),e)}("tabindex"),D(sr),D(Jt),D(ui))}}static{this.\u0275dir=W({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Ce("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&$n("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",bo],skipLocationChange:["skipLocationChange","skipLocationChange",bo],replaceUrl:["replaceUrl","replaceUrl",bo],routerLink:"routerLink"},standalone:!0,features:[h_,cn]})}}return e})();class _D{}let _V=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(mr(t=>t instanceof Fr),Eo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Nf(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return tt(i).pipe(Ei())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):H(null);const o=i.pipe(at(s=>null===s?H(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?tt([o,this.loader.loadComponent(r)]).pipe(Ei()):o})}static{this.\u0275fac=function(r){return new(r||e)(L(Ut),L(qb),L(Kt),L(_D),L(ap))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const cp=new N("");let wD=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Io&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function $y(){throw new Error("invalid")}()}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function yr(e,n){return{\u0275kind:e,\u0275providers:n}}function CD(){const e=k(Yt);return n=>{const t=e.get(wo);if(n!==t.components[0])return;const r=e.get(Ut),i=e.get(DD);1===e.get(up)&&r.initialNavigation(),e.get(ED,null,ce.Optional)?.setUpPreloading(),e.get(cp,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const DD=new N("",{factory:()=>new mn}),up=new N("",{providedIn:"root",factory:()=>1}),ED=new N("");function DV(e){return yr(0,[{provide:ED,useExisting:_V},{provide:_D,useExisting:e}])}const SD=new N("ROUTER_FORROOT_GUARD"),SV=[hh,{provide:ta,useClass:Hh},Ut,aa,{provide:hn,useFactory:function bD(e){return e.routerState.root},deps:[Ut]},ap,[]];function MV(){return new Xb("Router",Ut)}let MD=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[SV,[],{provide:Po,multi:!0,useValue:t},{provide:SD,useFactory:xV,deps:[[Ut,new tc,new nc]]},{provide:Lu,useValue:r||{}},r?.useHash?{provide:ui,useClass:LN}:{provide:ui,useClass:O0},{provide:cp,useFactory:()=>{const e=k(tL),n=k(xe),t=k(Lu),r=k(Fu),i=k(ta);return t.scrollOffset&&e.setOffset(t.scrollOffset),new wD(i,r,e,n,t)}},r?.preloadingStrategy?DV(r.preloadingStrategy).\u0275providers:[],{provide:Xb,multi:!0,useFactory:MV},r?.initialNavigation?OV(r):[],r?.bindToComponentInputs?yr(8,[XC,{provide:Ou,useExisting:XC}]).\u0275providers:[],[{provide:ID,useFactory:CD},{provide:rh,multi:!0,useExisting:ID}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Po,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(L(SD,8))}}static{this.\u0275mod=wn({type:e})}static{this.\u0275inj=sn({})}}return e})();function xV(e){return"guarded"}function OV(e){return["disabled"===e.initialNavigation?yr(3,[{provide:Jf,multi:!0,useFactory:()=>{const n=k(Ut);return()=>{n.setUpLocationChangeListener()}}},{provide:up,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?yr(2,[{provide:up,useValue:0},{provide:Jf,multi:!0,deps:[Yt],useFactory:n=>{const t=n.get(NN,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Ut),o=n.get(DD);vD(i,()=>{r(!0)}),n.get(Fu).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const ID=new N("");let RV=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=kt({type:e,selectors:[["app-bienvenida"]],decls:21,vars:0,consts:[[1,"sky"],[1,"card-bienvenida"],["src","assets/img/bienvenida.png","alt","Echo saludando",1,"echo"],[1,"texto"],["routerLink","/login",1,"btn","btn--start"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1),j(2,"img",2),T(3,"div",3)(4,"h2"),oe(5,"\xa1Hola! Soy Echo, un robot explorador."),A(),T(6,"p"),oe(7,"He viajado desde muy lejos porque mis amigos robots est\xe1n atrapados en diferentes lugares de Colombia."),A(),T(8,"p")(9,"strong"),oe(10,"\xa1Necesitan ayuda urgente!"),A()(),T(11,"p"),oe(12,"Un mapache travieso llamado Max me est\xe1 persiguiendo y no me deja ayudarlos. "),A(),T(13,"p"),oe(14,"Por eso busco a alguien como t\xfa: curioso, valiente y con ganas de aprender a programar. "),A(),T(15,"p"),oe(16,"Juntos, usando Scratch, podremos viajar por Colombia, superar retos y \xa1rescatar a todos mis amigos robots! "),A(),T(17,"p"),oe(18,"\xbfTe unes a esta gran aventura? "),A(),T(19,"a",4),oe(20,"\u{1f9ed} Unirse a la aventura"),A()()()())},dependencies:[pn],styles:[".sky[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;background:url(nubes_portada.783bd1537aa19cdb.png) center/cover no-repeat}.card-bienvenida[_ngcontent-%COMP%]{background:var(--panel);border:3px solid var(--border);border-radius:var(--radius-xl);box-shadow:var(--shadow);width:min(900px,92%);padding:20px;display:grid;grid-template-columns:260px 1fr;gap:20px;align-items:center}.echo[_ngcontent-%COMP%]{width:100%;height:auto}.texto[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px;font-size:2rem;font-weight:700}.texto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6}.btn[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;background:#FF6F61;color:#26100e;font-weight:700;border-radius:50px;text-decoration:none;box-shadow:var(--shadow)}"]})}}return e})(),TD=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||e)(D(sr),D(Jt))}}static{this.\u0275dir=W({type:e})}}return e})(),pi=(()=>{class e extends TD{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(e)))(i||e)}}()}static{this.\u0275dir=W({type:e,features:[be]})}}return e})();const Gn=new N("NgValueAccessor"),FV={provide:Gn,useExisting:Ie(()=>pa),multi:!0},jV=new N("CompositionEventMode");let pa=(()=>{class e extends TD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LV(){const e=Rr()?Rr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||e)(D(sr),D(Jt),D(jV,8))}}static{this.\u0275dir=W({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ce("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Le([FV]),be]})}}return e})();function Lr(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function xD(e){return null!=e&&"number"==typeof e.length}const _t=new N("NgValidators"),jr=new N("NgAsyncValidators"),VV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vr{static min(n){return function OD(e){return n=>{if(Lr(n.value)||Lr(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function PD(e){return n=>{if(Lr(n.value)||Lr(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return RD(n)}static requiredTrue(n){return function kD(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function ND(e){return Lr(e.value)||VV.test(e.value)?null:{email:!0}}(n)}static minLength(n){return FD(n)}static maxLength(n){return function LD(e){return n=>xD(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function jD(e){if(!e)return ju;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Lr(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return zD(n)}static composeAsync(n){return GD(n)}}function RD(e){return Lr(e.value)?{required:!0}:null}function FD(e){return n=>Lr(n.value)||!xD(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function ju(e){return null}function VD(e){return null!=e}function $D(e){return ks(e)?tt(e):e}function UD(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function BD(e,n){return n.map(t=>t(e))}function HD(e){return e.map(n=>function $V(e){return!e.validate}(n)?n:t=>n.validate(t))}function zD(e){if(!e)return null;const n=e.filter(VD);return 0==n.length?null:function(t){return UD(BD(t,n))}}function lp(e){return null!=e?zD(HD(e)):null}function GD(e){if(!e)return null;const n=e.filter(VD);return 0==n.length?null:function(t){return function kV(...e){const n=Og(e),{args:t,keys:r}=_C(e),i=new ze(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;Ht(t[l]).subscribe(Je(o,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?bC(r,a):a),o.complete())}))}});return n?i.pipe(wC(n)):i}(BD(t,n).map($D)).pipe(me(UD))}}function dp(e){return null!=e?GD(HD(e)):null}function qD(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function WD(e){return e._rawValidators}function KD(e){return e._rawAsyncValidators}function fp(e){return e?Array.isArray(e)?e:[e]:[]}function Vu(e,n){return Array.isArray(e)?e.includes(n):e===n}function JD(e,n){const t=fp(n);return fp(e).forEach(i=>{Vu(t,i)||t.push(i)}),t}function YD(e,n){return fp(n).filter(t=>!Vu(e,t))}class ZD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=lp(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=dp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Pt extends ZD{get formDirective(){return null}get path(){return null}}class $r extends ZD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QD{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hp=(()=>{class e extends QD{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(D($r,2))}}static{this.\u0275dir=W({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Bc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[be]})}}return e})(),pp=(()=>{class e extends QD{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(D(Pt,10))}}static{this.\u0275dir=W({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Bc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[be]})}}return e})();const ga="VALID",Uu="INVALID",Ro="PENDING",ma="DISABLED";function vp(e){return(Bu(e)?e.validators:e)||null}function yp(e,n){return(Bu(n)?n.asyncValidators:e)||null}function Bu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function eE(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new E(1e3,"");if(!r[t])throw new E(1001,"")}function tE(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new E(1002,"")})}class Hu{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ga}get invalid(){return this.status===Uu}get pending(){return this.status==Ro}get disabled(){return this.status===ma}get enabled(){return this.status!==ma}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(JD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(JD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(YD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(YD(n,this._rawAsyncValidators))}hasValidator(n){return Vu(this._rawValidators,n)}hasAsyncValidator(n){return Vu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Ro,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=ma,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=ga,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ga||this.status===Ro)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ma:ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Ro,this._hasOwnPendingAsyncValidator=!0;const t=$D(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?ma:this.errors?Uu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ro)?Ro:this._anyControlsHaveStatus(Uu)?Uu:ga}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Bu(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function zV(e){return Array.isArray(e)?lp(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function GV(e){return Array.isArray(e)?dp(e):e||null}(this._rawAsyncValidators)}}class va extends Hu{constructor(n,t,r){super(vp(t),yp(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){tE(this,0,n),Object.keys(n).forEach(r=>{eE(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class nE extends va{}const ko=new N("CallSetDisabledState",{providedIn:"root",factory:()=>zu}),zu="always";function ya(e,n,t=zu){_p(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function WV(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&rE(e,n)})}(e,n),function JV(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function KV(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&rE(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function qV(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function qu(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Ku(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Wu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function _p(e,n){const t=WD(e);null!==n.validator?e.setValidators(qD(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=KD(e);null!==n.asyncValidator?e.setAsyncValidators(qD(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Wu(n._rawValidators,i),Wu(n._rawAsyncValidators,i)}function Ku(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=WD(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(null!==n.asyncValidator){const i=KD(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}const r=()=>{};return Wu(n._rawValidators,r),Wu(n._rawAsyncValidators,r),t}function rE(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sE(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function aE(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const wa=class extends Hu{constructor(n=null,t,r){super(vp(t),yp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=aE(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){sE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){sE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){aE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let Ep=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=W({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),hE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=wn({type:e})}static{this.\u0275inj=sn({})}}return e})();const Sp=new N("NgModelWithFormControlWarning"),u$={provide:Pt,useExisting:Ie(()=>ba)};let ba=(()=>{class e extends Pt{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Be,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ku(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ya(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){qu(t.control||null,t,!1),function XV(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function oE(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(qu(r||null,t),(e=>e instanceof wa)(i)&&(ya(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function iE(e,n){_p(e,n)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function YV(e,n){return Ku(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_p(this.form,this),this._oldForm&&Ku(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||e)(D(_t,10),D(jr,10),D(ko,8))}}static{this.\u0275dir=W({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Le([u$]),be,cn]})}}return e})();const f$={provide:$r,useExisting:Ie(()=>Ju)};let Ju=(()=>{class e extends $r{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Be,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Cp(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===pa?t=o:function QV(e){return Object.getPrototypeOf(e.constructor)===pi}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){this._added||this._setUpControl(),function bp(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Gu(e,n){return[...n.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(D(Pt,13),D(_t,10),D(jr,10),D(Gn,10),D(Sp,8))}}static{this.\u0275dir=W({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Le([f$]),be,cn]})}}return e})();let gi=(()=>{class e{constructor(){this._validator=ju}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ju,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=W({type:e,features:[cn]})}}return e})();const b$={provide:_t,useExisting:Ie(()=>Ca),multi:!0};let Ca=(()=>{class e extends gi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=bo,this.createValidator=t=>RD}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(e)))(i||e)}}()}static{this.\u0275dir=W({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&$n("required",i._enabled?"":null)},inputs:{required:"required"},features:[Le([b$]),be]})}}return e})();const E$={provide:_t,useExisting:Ie(()=>Yu),multi:!0};let Yu=(()=>{class e extends gi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function wE(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>FD(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(e)))(i||e)}}()}static{this.\u0275dir=W({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&$n("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Le([E$]),be]})}}return e})(),I$=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=wn({type:e})}static{this.\u0275inj=sn({imports:[hE]})}}return e})();class TE extends Hu{constructor(n,t,r){super(vp(t),yp(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){tE(this,0,n),n.forEach((r,i)=>{eE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function AE(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let xE=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return AE(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new va(i,o)}record(t,r=null){const i=this._reduceControls(t);return new nE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(AE(r)?o=r:(o.validators=r,o.asyncValidators=i),new wa(t,{...o,nonNullable:!0})):new wa(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new TE(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof wa||t instanceof Hu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),OE=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Sp,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ko,useValue:t.callSetDisabledState??zu}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=wn({type:e})}static{this.\u0275inj=sn({imports:[I$]})}}return e})();class xp extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}}class PE extends xp{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class RE extends xp{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class kE extends xp{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var NE=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(NE||{});class x${constructor(n,{headers:t={},customFetch:r,region:i=NE.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=(e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(ie.bind(ie,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)})(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(this,arguments,void 0,function*(t,r={}){var i;try{const{headers:o,method:s,body:a,signal:c}=r;let u={},{region:l}=r;l||(l=this.region);const d=new URL(`${this.url}/${t}`);let f;l&&"any"!==l&&(u["x-region"]=l,d.searchParams.set("forceFunctionRegion",l)),a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):"string"==typeof a?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)));const h=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:f,signal:c}).catch(_=>{throw"AbortError"===_.name?_:new PE(_)}),p=h.headers.get("x-relay-error");if(p&&"true"===p)throw new RE(h);if(!h.ok)throw new kE(h);let m,g=(null!==(i=h.headers.get("Content-Type"))&&void 0!==i?i:"text/plain").split(";")[0].trim();return m="application/json"===g?yield h.json():"application/octet-stream"===g?yield h.blob():"text/event-stream"===g?h:"multipart/form-data"===g?yield h.formData():yield h.text(),{data:m,error:null,response:h}}catch(o){return o instanceof Error&&"AbortError"===o.name?{data:null,error:new PE(o)}:{data:null,error:o,response:o instanceof kE||o instanceof RE?o.context:void 0}}})}}var O$=ie(60);const{PostgrestClient:FE}=O$;function LE(e,n,t,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void t(u)}a.done?n(c):Promise.resolve(c).then(r,i)}function y(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(c){LE(o,r,i,s,a,"next",c)}function a(c){LE(o,r,i,s,a,"throw",c)}s(void 0)})}}const j$=class L${static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(n=navigator.userAgent)&&void 0!==n&&n.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=parseInt(t.node.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`\n\nSuggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){return new(this.getWebSocketConstructor())(n,t)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return"native"===n.type||"ws"===n.type}catch{return!1}}};var Zu=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Zu||{}),st=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(st||{}),qn=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(qn||{}),jE=function(e){return e.websocket="websocket",e}(jE||{}),No=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(No||{});class H${constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t("string"==typeof n?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){const i=t.getUint8(1),o=t.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(n.slice(s,s+i));s+=i;const c=r.decode(n.slice(s,s+o));return s+=o,{ref:null,topic:a,event:c,payload:JSON.parse(r.decode(n.slice(s,n.byteLength)))}}}class VE{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ke||{});const $E=(e,n,t={})=>{var r;const i=null!==(r=t.skipTypes)&&void 0!==r?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=z$(s,e,n,i),o),{}):{}},z$=(e,n,t,r)=>{const i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?UE(o,s):Pp(s)},UE=(e,n)=>{if("_"===e.charAt(0)){const t=e.slice(1,e.length);return K$(n,t)}switch(e){case ke.bool:return G$(n);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return q$(n);case ke.json:case ke.jsonb:return W$(n);case ke.timestamp:return J$(n);default:return Pp(n)}},Pp=e=>e,G$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},q$=e=>{if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},W$=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},K$=(e,n)=>{if("string"!=typeof e)return e;const t=e.length-1;if("{"===e[0]&&"}"===e[t]){let o;const s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>UE(n,a))}return e},J$=e=>"string"==typeof e?e.replace(" ","T"):e,BE=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Rp{constructor(n,t,r={},i=1e4){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}class Da{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Da.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=Da.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Da.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){const o=this.cloneDeep(n),s=this.transformState(t),a={},c={};return this.map(o,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{const d=o[u];if(d){const f=l.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),p=l.filter(m=>h.indexOf(m.presence_ref)<0),g=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=l}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(n,t,r,i){const{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var u;const l=null!==(u=n[a])&&void 0!==u?u:[];if(n[a]=this.cloneDeep(c),l.length>0){const d=n[a].map(h=>h.presence_ref),f=l.filter(h=>d.indexOf(h.presence_ref)<0);n[a].unshift(...f)}r(a,l,c)}),this.map(s,(a,c)=>{let u=n[a];if(!u)return;const l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),n[a]=u,i(a,u,c),0===u.length&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{const i=n[r];return t[r]="metas"in i?i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qu=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(Qu||{}),Ur=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Ur||{});class kp{constructor(n,t={config:{}},r){var i,o;if(this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Rp(this,qn.join,this.params,this.timeout),this.rejoinTimer=new VE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Da(this),this.broadcastEndpointURL=BE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(o=null===(i=this.params.config)||void 0===i?void 0:i.broadcast)&&void 0!==o&&o.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,t=this.timeout){var i,o,s,r=this;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:a,presence:c,private:u}}=this.params,l=null!==(o=null===(i=this.bindings.postgres_changes)||void 0===i?void 0:i.map(p=>p.filter))&&void 0!==o?o:[],d=!!this.bindings[Qu.PRESENCE]&&this.bindings[Qu.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),f={},h={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:d}),postgres_changes:l,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>n?.(Ur.CHANNEL_ERROR,p)),this._onClose(()=>n?.(Ur.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",function(){var p=y(function*({postgres_changes:g}){var m;if(r.socket.setAuth(),void 0!==g){const _=r.bindings.postgres_changes,v=null!==(m=_?.length)&&void 0!==m?m:0,M=[];for(let S=0;S<v;S++){const I=_[S],{filter:{event:ne,schema:Ke,table:he,filter:Ve}}=I,Jn=g&&g[S];if(!Jn||Jn.event!==ne||Jn.schema!==Ke||Jn.table!==he||Jn.filter!==Ve)return r.unsubscribe(),r.state=st.errored,void n?.(Ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));M.push(Object.assign(Object.assign({},I),{id:Jn.id}))}return r.bindings.postgres_changes=M,void(n&&n(Ur.SUBSCRIBED))}n?.(Ur.SUBSCRIBED)});return function(g){return p.apply(this,arguments)}}()).receive("error",p=>{this.state=st.errored,n?.(Ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{n?.(Ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){var t=this;return y(function*(r,i={}){return yield t.send({type:"presence",event:"track",payload:r},i.timeout||t.timeout)}).apply(this,arguments)}untrack(){var n=this;return y(function*(t={}){return yield n.send({type:"presence",event:"untrack"},t)}).apply(this,arguments)}on(n,t,r){return this.state===st.joined&&n===Qu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,t,r)}send(n){var t=this;return y(function*(r,i={}){var o,s;if(t._canPush()||"broadcast"!==r.type)return new Promise(a=>{var c,u,l;const d=t._push(r.type,r,i.timeout||t.timeout);"broadcast"===r.type&&!(null!==(l=null===(u=null===(c=t.params)||void 0===c?void 0:c.config)||void 0===u?void 0:u.broadcast)&&void 0!==l&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))});{const{event:a,payload:c}=r,l={method:"POST",headers:{Authorization:t.socket.accessTokenValue?`Bearer ${t.socket.accessTokenValue}`:"",apikey:t.socket.apiKey?t.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:t.subTopic,event:a,payload:c,private:t.private}]})};try{const d=yield t._fetchWithTimeout(t.broadcastEndpointURL,l,null!==(o=i.timeout)&&void 0!==o?o:t.timeout);return yield null===(s=d.body)||void 0===s?void 0:s.cancel(),d.ok?"ok":"error"}catch(d){return"AbortError"===d.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=st.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Rp(this,qn.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}_fetchWithTimeout(n,t,r){var i=this;return y(function*(){const o=new AbortController,s=setTimeout(()=>o.abort(),r),a=yield i.socket.fetch(n,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(s),a})()}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rp(this,n,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>100){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;const s=n.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=qn;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(h=>{var p,g,m;return"*"===(null===(p=h.filter)||void 0===p?void 0:p.event)||(null===(m=null===(g=h.filter)||void 0===g?void 0:g.event)||void 0===m?void 0:m.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):null===(o=this.bindings[s])||void 0===o||o.filter(h=>{var p,g,m,_,v,M;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in h){const S=h.id,I=null===(p=h.filter)||void 0===p?void 0:p.event;return S&&(null===(g=t.ids)||void 0===g?void 0:g.includes(S))&&("*"===I||I?.toLocaleLowerCase()===(null===(m=t.data)||void 0===m?void 0:m.type.toLocaleLowerCase()))}{const S=null===(v=null===(_=h?.filter)||void 0===_?void 0:_.event)||void 0===v?void 0:v.toLocaleLowerCase();return"*"===S||S===(null===(M=t?.event)||void 0===M?void 0:M.toLocaleLowerCase())}}return h.type.toLocaleLowerCase()===s}).map(h=>{if("object"==typeof f&&"ids"in f){const p=f.data,{schema:g,table:m,commit_timestamp:_,type:v,errors:M}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:_,eventType:v,new:{},old:{},errors:M}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){const i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!((null===(o=i.type)||void 0===o?void 0:o.toLocaleLowerCase())===r&&kp.isEqual(i.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(qn.close,{},n)}_onError(n){this._on(qn.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return("INSERT"===n.type||"UPDATE"===n.type)&&(t.new=$E(n.columns,n.record)),("UPDATE"===n.type||"DELETE"===n.type)&&(t.old=$E(n.columns,n.old_record)),t}}const Np=()=>{},Q$=[1e3,2e3,5e3,1e4];class tU{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Np,this.ref=0,this.reconnectTimer=null,this.logger=Np,this.conn=null,this.sendBuffer=[],this.serializer=new H$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return o=i||(typeof fetch>"u"?(...s)=>Promise.resolve().then(ie.bind(ie,286)).then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...s)=>o(...s)},null===(r=t?.params)||void 0===r||!r.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${jE.websocket}`,this.httpEndpoint=BE(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j$.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const t=n.message;throw t.includes("Node.js")?new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},n?this.conn.close(n,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){var t=this;return y(function*(){const r=yield n.unsubscribe();return 0===t.channels.length&&t.disconnect(),r})()}removeAllChannels(){var n=this;return y(function*(){const t=yield Promise.all(n.channels.map(r=>r.unsubscribe()));return n.channels=[],n.disconnect(),t})()}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zu.connecting:return No.Connecting;case Zu.open:return No.Open;case Zu.closing:return No.Closing;default:return No.Closed}}isConnected(){return this.connectionState()===No.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(n,t={config:{}}){const r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new kp(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){const{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var c;null===(c=this.conn)||void 0===c||c.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(){var n=this;return y(function*(t=null){n._authPromise=n._performAuth(t);try{yield n._authPromise}finally{n._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var n=this;return y(function*(){var t;if(n.isConnected()){if(n.pendingHeartbeatRef){n.pendingHeartbeatRef=null,n.log("transport","heartbeat timeout. Attempting to re-establish connection");try{n.heartbeatCallback("timeout")}catch(r){n.log("error","error in heartbeat callback",r)}return n._wasManualDisconnect=!1,null===(t=n.conn)||void 0===t||t.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var r;n.isConnected()||null===(r=n.reconnectTimer)||void 0===r||r.scheduleTimeout()},100)}n.pendingHeartbeatRef=n._makeRef(),n.push({topic:"phoenix",event:"heartbeat",payload:{},ref:n.pendingHeartbeatRef});try{n.heartbeatCallback("sent")}catch(r){n.log("error","error in heartbeat callback",r)}n._setAuthSafely("heartbeat")}else try{n.heartbeatCallback("disconnected")}catch(r){n.log("error","error in heartbeat callback",r)}})()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return this.ref=n===this.ref?0:n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if("phoenix"===t.topic&&"phx_reply"===t.event)try{this.heartbeatCallback("ok"===t.payload.status?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=t;this.log("receive",`${o.status||""} ${r} ${i} ${s?`(${s})`:""}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;"heartbeat"===n&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===n&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{"keepAlive"===t.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(qn.error))}_appendParams(n,t){if(0===Object.keys(t).length)return n;const r=n.match(/\?/)?"&":"?";return`${n}${r}${new URLSearchParams(t)}`}_workerObjectUrl(n){let t;if(n)t=n;else{const r=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,"connecting"===n?this._wasManualDisconnect=!1:"disconnecting"===n&&(this._wasManualDisconnect=t)}_performAuth(){var n=this;return y(function*(t=null){let r;r=t||(n.accessToken?yield n.accessToken():n.accessTokenValue),n.accessTokenValue!=r&&(n.accessTokenValue=r,n.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r,version:"realtime-js/2.75.0"}),i.joinedOnce&&i._isJoined()&&i._push(qn.access_token,{access_token:r})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var n=this;return y(function*(){n._authPromise&&(yield n._authPromise)})()}_setAuthSafely(n="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){var n=this;this.reconnectTimer=new VE(y(function*(){setTimeout(y(function*(){yield n._waitForAuthIfNeeded(),n.isConnected()||n.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(n){var t,r,i,o,s,a,c,u,l;if(this.transport=null!==(t=n?.transport)&&void 0!==t?t:null,this.timeout=null!==(r=n?.timeout)&&void 0!==r?r:1e4,this.heartbeatIntervalMs=null!==(i=n?.heartbeatIntervalMs)&&void 0!==i?i:25e3,this.worker=null!==(o=n?.worker)&&void 0!==o&&o,this.accessToken=null!==(s=n?.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(a=n?.heartbeatCallback)&&void 0!==a?a:Np,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(c=n?.reconnectAfterMs)&&void 0!==c?c:d=>Q$[d-1]||1e4,this.encode=null!==(u=n?.encode)&&void 0!==u?u:(d,f)=>f(JSON.stringify(d)),this.decode=null!==(l=n?.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class Fp extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ze(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class nU extends Fp{constructor(n,t,r){super(n),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lp extends Fp{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}const HE=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(ie.bind(ie,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},jp=e=>{if(Array.isArray(e))return e.map(t=>jp(t));if("function"==typeof e||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=jp(r)}),n};var mi=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})};const Vp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sU=(e,n,t)=>mi(void 0,void 0,void 0,function*(){const r=yield function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(ie.bind(ie,286))).Response:Response});e instanceof r&&!t?.noResolveJson?e.json().then(i=>{const o=e.status||500,s=i?.statusCode||o+"";n(new nU(Vp(i),o,s))}).catch(i=>{n(new Lp(Vp(i),i))}):n(new Lp(Vp(e),e))}),aU=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const n=Object.getPrototypeOf(e);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),t)):i};function Ea(e,n,t,r,i,o){return mi(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,aU(n,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>sU(c,a,r))})})}function el(e,n,t,r){return mi(this,void 0,void 0,function*(){return Ea(e,"GET",n,t,r)})}function Wn(e,n,t,r,i){return mi(this,void 0,void 0,function*(){return Ea(e,"POST",n,r,i,t)})}function $p(e,n,t,r,i){return mi(this,void 0,void 0,function*(){return Ea(e,"PUT",n,r,i,t)})}function zE(e,n,t,r,i){return mi(this,void 0,void 0,function*(){return Ea(e,"DELETE",n,r,i,t)})}class lU{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}execute(){return e=this,n=void 0,r=function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}},new((t=void 0)||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())});var e,n,t,r}}class fU{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}asStream(){return new lU(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.execute().then(n,t)}execute(){return e=this,n=void 0,r=function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}},new((t=void 0)||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())});var e,n,t,r}}var Bt=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})};const hU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pU{constructor(n,t={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=r,this.fetch=HE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,t,r,i){return Bt(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},GE),i);let a=Object.assign(Object.assign({},this.headers),"POST"===n&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(t),l=this._getFinalPath(u),d=yield("PUT"==n?$p:Wn)(this.fetch,`${this.url}/object/${l}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}})}upload(n,t,r){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return Bt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:GE.upsert},i),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType),{data:{path:o,fullPath:(yield $p(this.fetch,a.toString(),c,{headers:l})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return Bt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const o=yield Wn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Fp("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}update(n,t,r){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return Bt(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}copy(n,t,r){return Bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return Bt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Wn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return Bt(this,void 0,void 0,function*(){try{const i=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}download(n,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(n);return new fU(()=>el(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(n){return Bt(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{const r=yield el(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:jp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}exists(n){return Bt(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{return yield function cU(e,n,t,r){return mi(this,void 0,void 0,function*(){return Ea(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r)&&r instanceof Lp){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){const r=this._getFinalPath(n),i=[],o=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==o&&i.push(o);const a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});""!==c&&i.push(c);let u=i.join("&");return""!==u&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(n){return Bt(this,void 0,void 0,function*(){try{return{data:yield zE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}list(n,t,r){return Bt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},hU),t),{prefix:n||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}listV2(n,t){return Bt(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield Wn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const gU={"X-Client-Info":"storage-js/2.75.0"};var Fo=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})};class mU{constructor(n,t={},r,i){this.shouldThrowOnError=!1;const o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gU),t),this.fetch=HE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Fo(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}getBucket(n){return Fo(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}createBucket(n){return Fo(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}updateBucket(n,t){return Fo(this,void 0,void 0,function*(){try{return{data:yield $p(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Fo(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Fo(this,void 0,void 0,function*(){try{return{data:yield zE(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}}class vU extends mU{constructor(n,t={},r,i){super(n,t,r,i)}from(n){return new pU(this.url,this.headers,n,this.fetch)}}let Sa="";Sa=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const _U={headers:{"X-Client-Info":`supabase-js-${Sa}/2.75.0`}},wU={schema:"public"},bU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CU={};var qE=ie(286);const MU=(e,n,t)=>{const r=(e=>{let n;return n=e||(typeof fetch>"u"?qE.default:fetch),(...t)=>n(...t)})(t),i=typeof Headers>"u"?qE.Headers:Headers;return(o,s)=>function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){var a;const c=null!==(a=yield n())&&void 0!==a?a:e;let u=new i(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:u}))})};const Lo=3e4,Hp="X-Supabase-Api-Version",KE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ma extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function $(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class FU extends Ma{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class vi extends Ma{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class Br extends Ma{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}}class Hr extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class jo extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tl extends Br{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class nl extends Br{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JE extends Br{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zp extends Br{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}}function Gp(e){return $(e)&&"AuthRetryableFetchError"===e.name}class YE extends Br{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class qp extends Br{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZE=" \t\n\r=".split(""),$U=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<ZE.length;n+=1)e[ZE[n].charCodeAt(0)]=-2;for(let n=0;n<rl.length;n+=1)e[rl[n].charCodeAt(0)]=n;return e})();function il(e,n,t){if(null!==e)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;)t(rl[n.queue>>n.queuedBits-6&63]),n.queuedBits-=6;else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;)t(rl[n.queue>>n.queuedBits-6&63]),n.queuedBits-=6}function QE(e,n,t){const r=$U[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8}function XE(e){const n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{!function BU(e,n,t){if(0===n.utf8seq){if(e<=127)return void t(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){n.utf8seq=r;break}if(2===n.utf8seq)n.codepoint=31&e;else if(3===n.utf8seq)n.codepoint=15&e;else{if(4!==n.utf8seq)throw new Error("Invalid UTF-8 sequence");n.codepoint=7&e}n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|63&e,n.utf8seq-=1,0===n.utf8seq&&t(n.codepoint)}}(s,r,t)};for(let s=0;s<e.length;s+=1)QE(e.charCodeAt(s),i,o);return n.join("")}function UU(e,n){if(!(e<=127)){if(e<=2047)return n(192|e>>6),void n(128|63&e);if(e<=65535)return n(224|e>>12),n(128|e>>6&63),void n(128|63&e);if(e<=1114111)return n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),void n(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}n(e)}function Vo(e){const n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)QE(e.charCodeAt(i),t,r);return new Uint8Array(n)}function yi(e){const n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>il(i,t,r)),il(null,t,r),n.join("")}const en=()=>typeof window<"u"&&typeof document<"u",_i={tested:!1,writable:!1},tS=()=>{if(!en())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(_i.tested)return _i.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_i.tested=!0,_i.writable=!0}catch{_i.tested=!0,_i.writable=!1}return _i.writable},nS=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(ie.bind(ie,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},WU=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,$o=function(){var e=y(function*(n,t,r){yield n.setItem(t,JSON.stringify(r))});return function(t,r,i){return e.apply(this,arguments)}}(),wi=function(){var e=y(function*(n,t){const r=yield n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(t,r){return e.apply(this,arguments)}}(),zr=function(){var e=y(function*(n,t){yield n.removeItem(t)});return function(t,r){return e.apply(this,arguments)}}();class ol{constructor(){this.promise=new ol.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}function Wp(e){const n=e.split(".");if(3!==n.length)throw new qp("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!kU.test(n[r]))throw new qp("JWT not in base64url format");return{header:JSON.parse(XE(n[0])),payload:JSON.parse(XE(n[1])),signature:Vo(n[2]),raw:{header:n[0],payload:n[1]}}}function Kp(){return(Kp=y(function*(e){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})).apply(this,arguments)}function YU(e){return("0"+e.toString(16)).substr(-2)}function Jp(){return(Jp=y(function*(e){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})).apply(this,arguments)}function Yp(){return Yp=y(function*(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=yield function QU(e){return Jp.apply(this,arguments)}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),Yp.apply(this,arguments)}function Uo(e,n){return Zp.apply(this,arguments)}function Zp(){return Zp=y(function*(e,n,t=!1){const r=function ZU(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,YU).join("")}();let i=r;t&&(i+="/PASSWORD_RECOVERY"),yield $o(e,`${n}-code-verifier`,i);const o=yield function XU(e){return Yp.apply(this,arguments)}(r);return[o,r===o?"plain":"s256"]}),Zp.apply(this,arguments)}ol.promiseConstructor=Promise;const eB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,iB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bo(e){if(!iB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qp(){return new Proxy({},{get:(n,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const r=t.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rS(e){return JSON.parse(JSON.stringify(e))}const bi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sB=[502,503,504];function iS(e){return Xp.apply(this,arguments)}function Xp(){return(Xp=y(function*(e){var n;if(!WU(e))throw new zp(bi(e),0);if(sB.includes(e.status))throw new zp(bi(e),e.status);let t,r;try{t=yield e.json()}catch(o){throw new vi(bi(o),o)}const i=function tB(e){const n=e.headers.get(Hp);if(!n||!n.match(eB))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}(e);if(i&&i.getTime()>=KE["2024-01-01"].timestamp&&"object"==typeof t&&t&&"string"==typeof t.code?r=t.code:"object"==typeof t&&t&&"string"==typeof t.error_code&&(r=t.error_code),r){if("weak_password"===r)throw new YE(bi(t),e.status,(null===(n=t.weak_password)||void 0===n?void 0:n.reasons)||[]);if("session_not_found"===r)throw new Hr}else if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&"string"==typeof s,!0))throw new YE(bi(t),e.status,t.weak_password.reasons);throw new FU(bi(t),e.status||500,r)})).apply(this,arguments)}const aB=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function X(e,n,t,r){return eg.apply(this,arguments)}function eg(){return eg=y(function*(e,n,t,r){var i;const o=Object.assign({},r?.headers);o[Hp]||(o[Hp]=KE["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield function cB(e,n,t,r,i,o){return tg.apply(this,arguments)}(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}),eg.apply(this,arguments)}function tg(){return(tg=y(function*(e,n,t,r,i,o){const s=aB(n,r,i,o);let a;try{a=yield e(t,Object.assign({},s))}catch(c){throw console.error(c),new zp(bi(c),0)}if(a.ok||(yield iS(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield iS(c)}})).apply(this,arguments)}function An(e){var n;let t=null;return function dB(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=function zU(e){return Math.round(Date.now()/1e3)+e}(e.expires_in))),{data:{session:t,user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function oS(e){const n=An(e);return!n.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)&&(n.data.weak_password=e.weak_password),n}function Gr(e){var n;return{data:{user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function uB(e){return{data:e,error:null}}function lB(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}function sS(e){return e}const ng=["global","local","others"];class hB{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=nS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(n){var t=this;return y(function*(r,i=ng[0]){if(ng.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ng.join(", ")}`);try{return yield X(t.fetch,"POST",`${t.url}/logout?scope=${i}`,{headers:t.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if($(o))return{data:null,error:o};throw o}}).apply(this,arguments)}inviteUserByEmail(n){var t=this;return y(function*(r,i={}){try{return yield X(t.fetch,"POST",`${t.url}/invite`,{body:{email:r,data:i.data},headers:t.headers,redirectTo:i.redirectTo,xform:Gr})}catch(o){if($(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}generateLink(n){var t=this;return y(function*(){try{const{options:r}=n,i=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(n,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),yield X(t.fetch,"POST",`${t.url}/admin/generate_link`,{body:o,headers:t.headers,xform:lB,redirectTo:r?.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(n){var t=this;return y(function*(){try{return yield X(t.fetch,"POST",`${t.url}/admin/users`,{body:n,headers:t.headers,xform:Gr})}catch(r){if($(r))return{data:{user:null},error:r};throw r}})()}listUsers(n){var t=this;return y(function*(){var r,i,o,s,a,c,u;try{const l={nextPage:null,lastPage:0,total:0},d=yield X(t.fetch,"GET",`${t.url}/admin/users`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=n?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:sS});if(d.error)throw d.error;const f=yield d.json(),h=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(u=null===(c=d.headers.get("link"))||void 0===c?void 0:c.split(","))&&void 0!==u?u:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);l[`${_}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if($(l))return{data:{users:[]},error:l};throw l}})()}getUserById(n){var t=this;return y(function*(){Bo(n);try{return yield X(t.fetch,"GET",`${t.url}/admin/users/${n}`,{headers:t.headers,xform:Gr})}catch(r){if($(r))return{data:{user:null},error:r};throw r}})()}updateUserById(n,t){var r=this;return y(function*(){Bo(n);try{return yield X(r.fetch,"PUT",`${r.url}/admin/users/${n}`,{body:t,headers:r.headers,xform:Gr})}catch(i){if($(i))return{data:{user:null},error:i};throw i}})()}deleteUser(n){var t=this;return y(function*(r,i=!1){Bo(r);try{return yield X(t.fetch,"DELETE",`${t.url}/admin/users/${r}`,{headers:t.headers,body:{should_soft_delete:i},xform:Gr})}catch(o){if($(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}_listFactors(n){var t=this;return y(function*(){Bo(n.userId);try{const{data:r,error:i}=yield X(t.fetch,"GET",`${t.url}/admin/users/${n.userId}/factors`,{headers:t.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if($(r))return{data:null,error:r};throw r}})()}_deleteFactor(n){var t=this;return y(function*(){Bo(n.userId),Bo(n.id);try{return{data:yield X(t.fetch,"DELETE",`${t.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:t.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}})()}_listOAuthClients(n){var t=this;return y(function*(){var r,i,o,s,a,c,u;try{const l={nextPage:null,lastPage:0,total:0},d=yield X(t.fetch,"GET",`${t.url}/admin/oauth/clients`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=n?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:sS});if(d.error)throw d.error;const f=yield d.json(),h=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(u=null===(c=d.headers.get("link"))||void 0===c?void 0:c.split(","))&&void 0!==u?u:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);l[`${_}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if($(l))return{data:{clients:[]},error:l};throw l}})()}_createOAuthClient(n){var t=this;return y(function*(){try{return yield X(t.fetch,"POST",`${t.url}/admin/oauth/clients`,{body:n,headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}})()}_getOAuthClient(n){var t=this;return y(function*(){try{return yield X(t.fetch,"GET",`${t.url}/admin/oauth/clients/${n}`,{headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}})()}_deleteOAuthClient(n){var t=this;return y(function*(){try{return yield X(t.fetch,"DELETE",`${t.url}/admin/oauth/clients/${n}`,{headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}})()}_regenerateOAuthClientSecret(n){var t=this;return y(function*(){try{return yield X(t.fetch,"POST",`${t.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}})()}}function aS(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}const Ho={debug:!!(globalThis&&tS()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class cS extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class pB extends cS{}function mB(e,n,t){return rg.apply(this,arguments)}function rg(){return rg=y(function*(e,n,t){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===n?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},function(){var i=y(function*(o){if(!o){if(0===n)throw Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ho.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield t()}finally{Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}});return function(o){return i.apply(this,arguments)}}()))}),rg.apply(this,arguments)}function lS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _B(e){const n=(new TextEncoder).encode(e);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}class Qe extends Error{constructor({message:n,code:t,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(o=i??(r instanceof Error?r.name:void 0))&&void 0!==o?o:"Unknown Error",this.code=t}}class sl extends Qe{constructor(n,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:n}),this.name="WebAuthnUnknownError",this.originalError=t}}function bB({error:e,options:n}){var t,r,i;const{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(n.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(t=o.authenticatorSelection)||void 0===t?void 0:t.requireResidentKey))return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===n.mediation&&"required"===(null===(r=o.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(i=o.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name)return 0===o.pubKeyCredParams.filter(a=>"public-key"===a.type).length?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if("SecurityError"===e.name){const s=window.location.hostname;if(!fS(s))return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(o.rp.id!==s)return new Qe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function CB({error:e,options:n}){const{publicKey:t}=n;if(!t)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(n.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const r=window.location.hostname;if(!fS(r))return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(t.rpId!==r)return new Qe({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var dS=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t};const EB=new class DB{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}};function SB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:n,user:t,excludeCredentials:r}=e,i=dS(e,["challenge","user","excludeCredentials"]),o=Vo(n).buffer,s=Object.assign(Object.assign({},t),{id:Vo(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Vo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function MB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:n,allowCredentials:t}=e,r=dS(e,["challenge","allowCredentials"]),i=Vo(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){const a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Vo(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function IB(e){var n;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const t=e;return{id:e.id,rawId:e.id,response:{attestationObject:yi(new Uint8Array(e.response.attestationObject)),clientDataJSON:yi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(n=t.authenticatorAttachment)&&void 0!==n?n:void 0}}function TB(e){var n;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const t=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:yi(new Uint8Array(i.authenticatorData)),clientDataJSON:yi(new Uint8Array(i.clientDataJSON)),signature:yi(new Uint8Array(i.signature)),userHandle:i.userHandle?yi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(n=t.authenticatorAttachment)&&void 0!==n?n:void 0}}function fS(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hS(){var e,n;return!!(en()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=navigator?.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(n=navigator?.credentials)||void 0===n?void 0:n.get))}function og(){return(og=y(function*(e){try{const n=yield navigator.credentials.create(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new sl("Browser returned unexpected credential type",n)}:{data:null,error:new sl("Empty credential response",n)}}catch(n){return{data:null,error:bB({error:n,options:e})}}})).apply(this,arguments)}function sg(){return(sg=y(function*(e){try{const n=yield navigator.credentials.get(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new sl("Browser returned unexpected credential type",n)}:{data:null,error:new sl("Empty credential response",n)}}catch(n){return{data:null,error:CB({error:n,options:e})}}})).apply(this,arguments)}const OB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},PB={userVerification:"preferred",hints:["security-key"]};function al(...e){const n=i=>null!==i&&"object"==typeof i&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const s=i[o];if(void 0!==s)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(n(s)){const a=r[o];r[o]=n(a)?al(a,s):al(s)}else r[o]=s}return r}class NB{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(n){var t=this;return y(function*(){return t.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))})()}_challenge(n,t){var r=this;return y(function*({factorId:i,webauthn:o,friendlyName:s,signal:a},c){try{const{data:u,error:l}=yield r.client.mfa.challenge({factorId:i,webauthn:o});if(!u)return{data:null,error:l};const d=a??EB.createNewAbortSignal();if("create"===u.webauthn.type){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=function RB(e,n){return al(OB,e,n||{})}(u.webauthn.credential_options.publicKey,c?.create),{data:h,error:p}=yield function AB(e){return og.apply(this,arguments)}({publicKey:f,signal:d});return h?{data:{factorId:i,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=function kB(e,n){return al(PB,e,n||{})}(u.webauthn.credential_options.publicKey,c?.request),{data:h,error:p}=yield function xB(e){return sg.apply(this,arguments)}(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:d}));return h?{data:{factorId:i,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(u){return $(u)?{data:null,error:u}:{data:null,error:new vi("Unexpected error in challenge",u)}}}).apply(this,arguments)}_verify(n){var t=this;return y(function*({challengeId:r,factorId:i,webauthn:o}){return t.client.mfa.verify({factorId:i,challengeId:r,webauthn:o})}).apply(this,arguments)}_authenticate(n,t){var r=this;return y(function*({factorId:i,webauthn:{rpId:o=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a}},c){if(!o)return{data:null,error:new Ma("rpId is required for WebAuthn authentication")};try{if(!hS())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:u,error:l}=yield r.challenge({factorId:i,webauthn:{rpId:o,rpOrigins:s},signal:a},{request:c});if(!u)return{data:null,error:l};const{webauthn:d}=u;return r._verify({factorId:i,challengeId:u.challengeId,webauthn:{type:d.type,rpId:o,rpOrigins:s,credential_response:d.credential_response}})}catch(u){return $(u)?{data:null,error:u}:{data:null,error:new vi("Unexpected error in authenticate",u)}}}).apply(this,arguments)}_register(n,t){var r=this;return y(function*({friendlyName:i,rpId:o=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a},c){if(!o)return{data:null,error:new Ma("rpId is required for WebAuthn registration")};try{if(!hS())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:u,error:l}=yield r._enroll({friendlyName:i});if(!u)return yield r.client.mfa.listFactors().then(h=>{var p;return null===(p=h.data)||void 0===p?void 0:p.all.find(g=>"webauthn"===g.factor_type&&g.friendly_name===i&&"unverified"!==g.status)}).then(h=>h?r.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:d,error:f}=yield r._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:o,rpOrigins:s},signal:a},{create:c});return d?r._verify({factorId:u.id,challengeId:d.challengeId,webauthn:{rpId:o,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(u){return $(u)?{data:null,error:u}:{data:null,error:new vi("Unexpected error in register",u)}}}).apply(this,arguments)}}!function vB(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const FB={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.75.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function pS(e,n,t){return ag.apply(this,arguments)}function ag(){return(ag=y(function*(e,n,t){return yield t()})).apply(this,arguments)}const zo={},jB=(()=>{class e{get jwks(){var t,r;return null!==(r=null===(t=zo[this.storageKey])||void 0===t?void 0:t.jwks)&&void 0!==r?r:{keys:[]}}set jwks(t){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return null!==(r=null===(t=zo[this.storageKey])||void 0===t?void 0:t.cachedAt)&&void 0!==r?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{cachedAt:t})}constructor(t){var i,o,r=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},FB),t);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hB({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=nS(s.fetch),this.lock=s.lock||pS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.lock=s.lock?s.lock:en()&&null!==(i=globalThis?.navigator)&&void 0!==i&&i.locks?mB:pS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new NB(this)},this.persistSession?(s.storage?this.storage=s.storage:tS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=aS(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=aS(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(o=this.broadcastChannel)||void 0===o||o.addEventListener("message",function(){var a=y(function*(c){r._debug("received broadcast notification from other tab or client",c),yield r._notifyAllSubscribers(c.data.event,c.data.session,!1)});return function(c){return a.apply(this,arguments)}}())}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.75.0) ${(new Date).toISOString()}`,...t),this}initialize(){var t=this;return y(function*(){return t.initializePromise||(t.initializePromise=y(function*(){return yield t._acquireLock(-1,y(function*(){return yield t._initialize()}))})()),yield t.initializePromise})()}_initialize(){var t=this;return y(function*(){var r;try{const i=function qU(e){const n={},t=new URL(e);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}(window.location.href);let o="none";if(t._isImplicitGrantCallback(i)?o="implicit":(yield t._isPKCECallback(i))&&(o="pkce"),en()&&t.detectSessionInUrl&&"none"!==o){const{data:s,error:a}=yield t._getSessionFromURL(i,o);if(a){if(t._debug("#_initialize()","error detecting session from URL",a),function VU(e){return $(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const l=null===(r=a.details)||void 0===r?void 0:r.code;if("identity_already_exists"===l||"identity_not_found"===l||"single_identity_not_deletable"===l)return{error:a}}return yield t._removeSession(),{error:a}}const{session:c,redirectType:u}=s;return t._debug("#_initialize()","detected session in URL",c,"redirect type",u),yield t._saveSession(c),setTimeout(y(function*(){"recovery"===u?yield t._notifyAllSubscribers("PASSWORD_RECOVERY",c):yield t._notifyAllSubscribers("SIGNED_IN",c)}),0),{error:null}}return yield t._recoverAndRefresh(),{error:null}}catch(i){return $(i)?{error:i}:{error:new vi("Unexpected error during initialization",i)}}finally{yield t._handleVisibilityChange(),t._debug("#_initialize()","end")}})()}signInAnonymously(t){var r=this;return y(function*(){var i,o,s;try{const a=yield X(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{data:null!==(o=null===(i=t?.options)||void 0===i?void 0:i.data)&&void 0!==o?o:{},gotrue_meta_security:{captcha_token:null===(s=t?.options)||void 0===s?void 0:s.captchaToken}},xform:An}),{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const l=c.session,d=c.user;return c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}})()}signUp(t){var r=this;return y(function*(){var i,o,s;try{let a;if("email"in t){const{email:f,password:h,options:p}=t;let g=null,m=null;"pkce"===r.flowType&&([g,m]=yield Uo(r.storage,r.storageKey)),a=yield X(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:h,data:null!==(i=p?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:m},xform:An})}else{if(!("phone"in t))throw new tl("You must provide either an email or phone number and a password");{const{phone:f,password:h,options:p}=t;a=yield X(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:f,password:h,data:null!==(o=p?.data)&&void 0!==o?o:{},channel:null!==(s=p?.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:An})}}const{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const l=c.session,d=c.user;return c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(t){var r=this;return y(function*(){try{let i;if("email"in t){const{email:a,password:c,options:u}=t;i=yield X(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:oS})}else{if(!("phone"in t))throw new tl("You must provide either an email or phone number and a password");{const{phone:a,password:c,options:u}=t;i=yield X(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:oS})}}const{data:o,error:s}=i;return s?{data:{user:null,session:null},error:s}:o&&o.session&&o.user?(o.session&&(yield r._saveSession(o.session),yield r._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s}):{data:{user:null,session:null},error:new jo}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOAuth(t){var r=this;return y(function*(){var i,o,s,a;return yield r._handleProviderSignIn(t.provider,{redirectTo:null===(i=t.options)||void 0===i?void 0:i.redirectTo,scopes:null===(o=t.options)||void 0===o?void 0:o.scopes,queryParams:null===(s=t.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=t.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(t){var r=this;return y(function*(){return yield r.initializePromise,r._acquireLock(-1,y(function*(){return r._exchangeCodeForSession(t)}))})()}signInWithWeb3(t){var r=this;return y(function*(){const{chain:i}=t;switch(i){case"ethereum":return yield r.signInWithEthereum(t);case"solana":return yield r.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}})()}signInWithEthereum(t){var r=this;return y(function*(){var i,o,s,a,c,u,l,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{wallet:v,statement:M,options:S}=t;let I;if(en())if("object"==typeof v)I=v;else{const xn=window;if(!("ethereum"in xn)||"object"!=typeof xn.ethereum||!("request"in xn.ethereum)||"function"!=typeof xn.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");I=xn.ethereum}else{if("object"!=typeof v||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=v}const ne=new URL(null!==(i=S?.url)&&void 0!==i?i:window.location.href),Ke=yield I.request({method:"eth_requestAccounts"}).then(xn=>xn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ke||0===Ke.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const he=lS(Ke[0]);let Ve=null===(o=S?.signInWithEthereum)||void 0===o?void 0:o.chainId;Ve||(Ve=function yB(e){return parseInt(e,16)}(yield I.request({method:"eth_chainId"}))),g=function wB(e){var n;const{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:f}=e;if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==f)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(null!==(n=e.statement)&&void 0!==n&&n.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const m=`${l?`${l}://${r}`:r} wants you to sign in with your Ethereum account:\n${lS(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let _=`URI: ${d}\nVersion: ${f}\nChain ID: ${t}${s?`\nNonce: ${s}`:""}\nIssued At: ${o.toISOString()}`;if(i&&(_+=`\nExpiration Time: ${i.toISOString()}`),a&&(_+=`\nNot Before: ${a.toISOString()}`),c&&(_+=`\nRequest ID: ${c}`),u){let v="\nResources:";for(const M of u){if(!M||"string"!=typeof M)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);v+=`\n- ${M}`}_+=v}return`${m}\n${_}`}({domain:ne.host,address:he,statement:M,uri:ne.href,version:"1",chainId:Ve,nonce:null===(s=S?.signInWithEthereum)||void 0===s?void 0:s.nonce,issuedAt:null!==(c=null===(a=S?.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==c?c:new Date,expirationTime:null===(u=S?.signInWithEthereum)||void 0===u?void 0:u.expirationTime,notBefore:null===(l=S?.signInWithEthereum)||void 0===l?void 0:l.notBefore,requestId:null===(d=S?.signInWithEthereum)||void 0===d?void 0:d.requestId,resources:null===(f=S?.signInWithEthereum)||void 0===f?void 0:f.resources}),m=yield I.request({method:"personal_sign",params:[_B(g),he]})}try{const{data:_,error:v}=yield X(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},null!==(h=t.options)&&void 0!==h&&h.captchaToken?{gotrue_meta_security:{captcha_token:null===(p=t.options)||void 0===p?void 0:p.captchaToken}}:null),xform:An});if(v)throw v;return _&&_.session&&_.user?(_.session&&(yield r._saveSession(_.session),yield r._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:v}):{data:{user:null,session:null},error:new jo}}catch(_){if($(_))return{data:{user:null,session:null},error:_};throw _}})()}signInWithSolana(t){var r=this;return y(function*(){var i,o,s,a,c,u,l,d,f,h,p,g;let m,_;if("message"in t)m=t.message,_=t.signature;else{const{wallet:M,statement:S,options:I}=t;let ne;if(en())if("object"==typeof M)ne=M;else{const he=window;if(!("solana"in he)||"object"!=typeof he.solana||!("signIn"in he.solana&&"function"==typeof he.solana.signIn||"signMessage"in he.solana&&"function"==typeof he.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");ne=he.solana}else{if("object"!=typeof M||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ne=M}const Ke=new URL(null!==(i=I?.url)&&void 0!==i?i:window.location.href);if("signIn"in ne&&ne.signIn){const he=yield ne.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},I?.signInWithSolana),{version:"1",domain:Ke.host,uri:Ke.href}),S?{statement:S}:null));let Ve;if(Array.isArray(he)&&he[0]&&"object"==typeof he[0])Ve=he[0];else{if(!(he&&"object"==typeof he&&"signedMessage"in he&&"signature"in he))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Ve=he}if(!("signedMessage"in Ve&&"signature"in Ve&&("string"==typeof Ve.signedMessage||Ve.signedMessage instanceof Uint8Array)&&Ve.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"==typeof Ve.signedMessage?Ve.signedMessage:(new TextDecoder).decode(Ve.signedMessage),_=Ve.signature}else{if(!("signMessage"in ne&&"function"==typeof ne.signMessage&&"publicKey"in ne&&"object"==typeof ne&&ne.publicKey&&"toBase58"in ne.publicKey&&"function"==typeof ne.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${Ke.host} wants you to sign in with your Solana account:`,ne.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${Ke.href}`,`Issued At: ${null!==(s=null===(o=I?.signInWithSolana)||void 0===o?void 0:o.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...null!==(a=I?.signInWithSolana)&&void 0!==a&&a.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...null!==(c=I?.signInWithSolana)&&void 0!==c&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...null!==(u=I?.signInWithSolana)&&void 0!==u&&u.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...null!==(l=I?.signInWithSolana)&&void 0!==l&&l.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...null!==(d=I?.signInWithSolana)&&void 0!==d&&d.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...null!==(h=null===(f=I?.signInWithSolana)||void 0===f?void 0:f.resources)&&void 0!==h&&h.length?["Resources",...I.signInWithSolana.resources.map(Ve=>`- ${Ve}`)]:[]].join("\n");const he=yield ne.signMessage((new TextEncoder).encode(m),"utf8");if(!(he&&he instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=he}}try{const{data:v,error:M}=yield X(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"solana",message:m,signature:yi(_)},null!==(p=t.options)&&void 0!==p&&p.captchaToken?{gotrue_meta_security:{captcha_token:null===(g=t.options)||void 0===g?void 0:g.captchaToken}}:null),xform:An});if(M)throw M;return v&&v.session&&v.user?(v.session&&(yield r._saveSession(v.session),yield r._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:M}):{data:{user:null,session:null},error:new jo}}catch(v){if($(v))return{data:{user:null,session:null},error:v};throw v}})()}_exchangeCodeForSession(t){var r=this;return y(function*(){const i=yield wi(r.storage,`${r.storageKey}-code-verifier`),[o,s]=(i??"").split("/");try{const{data:a,error:c}=yield X(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:t,code_verifier:o},xform:An});if(yield zr(r.storage,`${r.storageKey}-code-verifier`),c)throw c;return a&&a.session&&a.user?(a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c}):{data:{user:null,session:null,redirectType:null},error:new jo}}catch(a){if($(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})()}signInWithIdToken(t){var r=this;return y(function*(){try{const{options:i,provider:o,token:s,access_token:a,nonce:c}=t,u=yield X(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:o,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:An}),{data:l,error:d}=u;return d?{data:{user:null,session:null},error:d}:l&&l.session&&l.user?(l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d}):{data:{user:null,session:null},error:new jo}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOtp(t){var r=this;return y(function*(){var i,o,s,a,c;try{if("email"in t){const{email:u,options:l}=t;let d=null,f=null;"pkce"===r.flowType&&([d,f]=yield Uo(r.storage,r.storageKey));const{error:h}=yield X(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:u,data:null!==(i=l?.data)&&void 0!==i?i:{},create_user:null===(o=l?.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:u,options:l}=t,{data:d,error:f}=yield X(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:u,data:null!==(s=l?.data)&&void 0!==s?s:{},create_user:null===(a=l?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:null!==(c=l?.channel)&&void 0!==c?c:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new tl("You must provide either an email or phone number.")}catch(u){if($(u))return{data:{user:null,session:null},error:u};throw u}})()}verifyOtp(t){var r=this;return y(function*(){var i,o;try{let s,a;"options"in t&&(s=null===(i=t.options)||void 0===i?void 0:i.redirectTo,a=null===(o=t.options)||void 0===o?void 0:o.captchaToken);const{data:c,error:u}=yield X(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:An});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const l=c.session,d=c.user;return l?.access_token&&(yield r._saveSession(l),yield r._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}})()}signInWithSSO(t){var r=this;return y(function*(){var i,o,s;try{let a=null,c=null;return"pkce"===r.flowType&&([a,c]=yield Uo(r.storage,r.storageKey)),yield X(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(o=null===(i=t.options)||void 0===i?void 0:i.redirectTo)&&void 0!==o?o:void 0}),null!==(s=t?.options)&&void 0!==s&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:r.headers,xform:uB})}catch(a){if($(a))return{data:null,error:a};throw a}})()}reauthenticate(){var t=this;return y(function*(){return yield t.initializePromise,yield t._acquireLock(-1,y(function*(){return yield t._reauthenticate()}))})()}_reauthenticate(){var t=this;return y(function*(){try{return yield t._useSession(function(){var r=y(function*(i){const{data:{session:o},error:s}=i;if(s)throw s;if(!o)throw new Hr;const{error:a}=yield X(t.fetch,"GET",`${t.url}/reauthenticate`,{headers:t.headers,jwt:o.access_token});return{data:{user:null,session:null},error:a}});return function(i){return r.apply(this,arguments)}}())}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(t){var r=this;return y(function*(){try{const i=`${r.url}/resend`;if("email"in t){const{email:o,type:s,options:a}=t,{error:c}=yield X(r.fetch,"POST",i,{headers:r.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in t){const{phone:o,type:s,options:a}=t,{data:c,error:u}=yield X(r.fetch,"POST",i,{headers:r.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new tl("You must provide either an email or phone number and a type")}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}})()}getSession(){var t=this;return y(function*(){return yield t.initializePromise,yield t._acquireLock(-1,y(function*(){return t._useSession(function(){var i=y(function*(o){return o});return function(o){return i.apply(this,arguments)}}())}))})()}_acquireLock(t,r){var i=this;return y(function*(){i._debug("#_acquireLock","begin",t);try{if(i.lockAcquired){const o=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),s=y(function*(){return yield o,yield r()})();return i.pendingInLock.push(y(function*(){try{yield s}catch{}})()),s}return yield i.lock(`lock:${i.storageKey}`,t,y(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const o=r();for(i.pendingInLock.push(y(function*(){try{yield o}catch{}})()),yield o;i.pendingInLock.length;){const s=[...i.pendingInLock];yield Promise.all(s),i.pendingInLock.splice(0,s.length)}return yield o}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(t){var r=this;return y(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield t(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var t=this;return y(function*(){t._debug("#__loadSession()","begin"),t.lockAcquired||t._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield wi(t.storage,t.storageKey);if(t._debug("#getSession()","session from storage",i),null!==i&&(t._isValidSession(i)?r=i:(t._debug("#getSession()","session from storage is not valid"),yield t._removeSession())),!r)return{data:{session:null},error:null};const o=!!r.expires_at&&1e3*r.expires_at-Date.now()<9e4;if(t._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(t.userStorage){const c=yield wi(t.userStorage,t.storageKey+"-user");r.user=c?.user?c.user:Qp()}if(t.storage.isServer&&r.user){let c=t.suppressGetSessionWarning;r=new Proxy(r,{get:(l,d,f)=>(!c&&"user"===d&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,t.suppressGetSessionWarning=!0),Reflect.get(l,d,f))})}return{data:{session:r},error:null}}const{data:s,error:a}=yield t._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{t._debug("#__loadSession()","end")}})()}getUser(t){var r=this;return y(function*(){return t?yield r._getUser(t):(yield r.initializePromise,yield r._acquireLock(-1,y(function*(){return yield r._getUser()})))})()}_getUser(t){var r=this;return y(function*(){try{return t?yield X(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:t,xform:Gr}):yield r._useSession(function(){var i=y(function*(o){var s,a,c;const{data:u,error:l}=o;if(l)throw l;return null!==(s=u.session)&&void 0!==s&&s.access_token||r.hasCustomAuthorizationHeader?yield X(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(c=null===(a=u.session)||void 0===a?void 0:a.access_token)&&void 0!==c?c:void 0,xform:Gr}):{data:{user:null},error:new Hr}});return function(o){return i.apply(this,arguments)}}())}catch(i){if($(i))return function jU(e){return $(e)&&"AuthSessionMissingError"===e.name}(i)&&(yield r._removeSession(),yield zr(r.storage,`${r.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}})()}updateUser(t){var r=this;return y(function*(i,o={}){return yield r.initializePromise,yield r._acquireLock(-1,y(function*(){return yield r._updateUser(i,o)}))}).apply(this,arguments)}_updateUser(t){var r=this;return y(function*(i,o={}){try{return yield r._useSession(function(){var s=y(function*(a){const{data:c,error:u}=a;if(u)throw u;if(!c.session)throw new Hr;const l=c.session;let d=null,f=null;"pkce"===r.flowType&&null!=i.email&&([d,f]=yield Uo(r.storage,r.storageKey));const{data:h,error:p}=yield X(r.fetch,"PUT",`${r.url}/user`,{headers:r.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:Gr});if(p)throw p;return l.user=h.user,yield r._saveSession(l),yield r._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}});return function(a){return s.apply(this,arguments)}}())}catch(s){if($(s))return{data:{user:null},error:s};throw s}}).apply(this,arguments)}setSession(t){var r=this;return y(function*(){return yield r.initializePromise,yield r._acquireLock(-1,y(function*(){return yield r._setSession(t)}))})()}_setSession(t){var r=this;return y(function*(){try{if(!t.access_token||!t.refresh_token)throw new Hr;const i=Date.now()/1e3;let o=i,s=!0,a=null;const{payload:c}=Wp(t.access_token);if(c.exp&&(o=c.exp,s=o<=i),s){const{data:u,error:l}=yield r._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:l}=yield r._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:o-i,expires_at:o},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if($(i))return{data:{session:null,user:null},error:i};throw i}})()}refreshSession(t){var r=this;return y(function*(){return yield r.initializePromise,yield r._acquireLock(-1,y(function*(){return yield r._refreshSession(t)}))})()}_refreshSession(t){var r=this;return y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s;if(!t){const{data:u,error:l}=o;if(l)throw l;t=null!==(s=u.session)&&void 0!==s?s:void 0}if(!t?.refresh_token)throw new Hr;const{data:a,error:c}=yield r._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(o){return i.apply(this,arguments)}}())}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}})()}_getSessionFromURL(t,r){var i=this;return y(function*(){try{if(!en())throw new nl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if("pkce"===i.flowType)throw new JE("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===i.flowType)throw new nl("Not a valid implicit grant flow url.")}if("pkce"===r){if(i._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new JE("No code detected.");const{data:S,error:I}=yield i._exchangeCodeForSession(t.code);if(I)throw I;const ne=new URL(window.location.href);return ne.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ne.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:u,expires_at:l,token_type:d}=t;if(!(a&&u&&c&&d))throw new nl("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(u);let p=f+h;l&&(p=parseInt(l));const g=p-f;1e3*g<=Lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=p-h;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,f);const{data:_,error:v}=yield i._getUser(a);if(v)throw v;const M={provider_token:o,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:p,refresh_token:c,token_type:d,user:_.user};return window.location.hash="",i._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:t.type},error:null}}catch(o){if($(o))return{data:{session:null,redirectType:null},error:o};throw o}})()}_isImplicitGrantCallback(t){return!(!t.access_token&&!t.error_description)}_isPKCECallback(t){var r=this;return y(function*(){const i=yield wi(r.storage,`${r.storageKey}-code-verifier`);return!(!t.code||!i)})()}signOut(){var t=this;return y(function*(r={scope:"global"}){return yield t.initializePromise,yield t._acquireLock(-1,y(function*(){return yield t._signOut(r)}))}).apply(this,arguments)}_signOut(){var t=this;return y(function*({scope:r}={scope:"global"}){return yield t._useSession(function(){var i=y(function*(o){var s;const{data:a,error:c}=o;if(c)return{error:c};const u=null===(s=a.session)||void 0===s?void 0:s.access_token;if(u){const{error:l}=yield t.admin.signOut(u,r);if(l&&(!function LU(e){return $(e)&&"AuthApiError"===e.name}(l)||404!==l.status&&401!==l.status&&403!==l.status))return{error:l}}return"others"!==r&&(yield t._removeSession(),yield zr(t.storage,`${t.storageKey}-code-verifier`)),{error:null}});return function(o){return i.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(t){var r=this;const i=function GU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)})}(),o={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),y(function*(){yield r.initializePromise,yield r._acquireLock(-1,y(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:o}}}_emitInitialSession(t){var r=this;return y(function*(){return yield r._useSession(function(){var i=y(function*(o){var s,a;try{const{data:{session:c},error:u}=o;if(u)throw u;yield null===(s=r.stateChangeEmitters.get(t))||void 0===s?void 0:s.callback("INITIAL_SESSION",c),r._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){yield null===(a=r.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}});return function(o){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(t){var r=this;return y(function*(i,o={}){let s=null,a=null;"pkce"===r.flowType&&([s,a]=yield Uo(r.storage,r.storageKey,!0));try{return yield X(r.fetch,"POST",`${r.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:r.headers,redirectTo:o.redirectTo})}catch(c){if($(c))return{data:null,error:c};throw c}}).apply(this,arguments)}getUserIdentities(){var t=this;return y(function*(){var r;try{const{data:i,error:o}=yield t.getUser();if(o)throw o;return{data:{identities:null!==(r=i.user.identities)&&void 0!==r?r:[]},error:null}}catch(i){if($(i))return{data:null,error:i};throw i}})()}linkIdentity(t){var r=this;return y(function*(){return"token"in t?r.linkIdentityIdToken(t):r.linkIdentityOAuth(t)})()}linkIdentityOAuth(t){var r=this;return y(function*(){var i;try{const{data:o,error:s}=yield r._useSession(function(){var a=y(function*(c){var u,l,d,f,h;const{data:p,error:g}=c;if(g)throw g;const m=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,t.provider,{redirectTo:null===(u=t.options)||void 0===u?void 0:u.redirectTo,scopes:null===(l=t.options)||void 0===l?void 0:l.scopes,queryParams:null===(d=t.options)||void 0===d?void 0:d.queryParams,skipBrowserRedirect:!0});return yield X(r.fetch,"GET",m,{headers:r.headers,jwt:null!==(h=null===(f=p.session)||void 0===f?void 0:f.access_token)&&void 0!==h?h:void 0})});return function(c){return a.apply(this,arguments)}}());if(s)throw s;return en()&&!(null!==(i=t.options)&&void 0!==i&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if($(o))return{data:{provider:t.provider,url:null},error:o};throw o}})()}linkIdentityIdToken(t){var r=this;return y(function*(){return yield r._useSession(function(){var i=y(function*(o){var s;try{const{error:a,data:{session:c}}=o;if(a)throw a;const{options:u,provider:l,token:d,access_token:f,nonce:h}=t,p=yield X(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,jwt:null!==(s=c?.access_token)&&void 0!==s?s:void 0,body:{provider:l,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:An}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:g&&g.session&&g.user?(g.session&&(yield r._saveSession(g.session),yield r._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:m}):{data:{user:null,session:null},error:new jo}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}});return function(o){return i.apply(this,arguments)}}())})()}unlinkIdentity(t){var r=this;return y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s,a;const{data:c,error:u}=o;if(u)throw u;return yield X(r.fetch,"DELETE",`${r.url}/user/identities/${t.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(s=c.session)||void 0===s?void 0:s.access_token)&&void 0!==a?a:void 0})});return function(o){return i.apply(this,arguments)}}())}catch(i){if($(i))return{data:null,error:i};throw i}})()}_refreshAccessToken(t){var r=this;return y(function*(){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;r._debug(i,"begin");try{const o=Date.now();return yield function JU(e,n){return new Promise((r,i)=>{y(function*(){for(let o=0;o<1/0;o++)try{const s=yield e(o);if(!n(o,null,s))return void r(s)}catch(s){if(!n(o,s))return void i(s)}})()})}(function(){var s=y(function*(a){return a>0&&(yield function KU(e){return Kp.apply(this,arguments)}(200*Math.pow(2,a-1))),r._debug(i,"refreshing attempt",a),yield X(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:r.headers,xform:An})});return function(a){return s.apply(this,arguments)}}(),(s,a)=>{const c=200*Math.pow(2,s);return a&&Gp(a)&&Date.now()+c-o<Lo})}catch(o){if(r._debug(i,"error",o),$(o))return{data:{session:null,user:null},error:o};throw o}finally{r._debug(i,"end")}})()}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){var i=this;return y(function*(){const o=yield i._getUrlForProvider(`${i.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),en()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})()}_recoverAndRefresh(){var t=this;return y(function*(){var r,i;const o="#_recoverAndRefresh()";t._debug(o,"begin");try{const s=yield wi(t.storage,t.storageKey);if(s&&t.userStorage){let c=yield wi(t.userStorage,t.storageKey+"-user");!t.storage.isServer&&Object.is(t.storage,t.userStorage)&&!c&&(c={user:s.user},yield $o(t.userStorage,t.storageKey+"-user",c)),s.user=null!==(r=c?.user)&&void 0!==r?r:Qp()}else if(s&&!s.user&&!s.user){const c=yield wi(t.storage,t.storageKey+"-user");c&&c?.user?(s.user=c.user,yield zr(t.storage,t.storageKey+"-user"),yield $o(t.storage,t.storageKey,s)):s.user=Qp()}if(t._debug(o,"session from storage",s),!t._isValidSession(s))return t._debug(o,"session is not valid"),void(null!==s&&(yield t._removeSession()));const a=1e3*(null!==(i=s.expires_at)&&void 0!==i?i:1/0)-Date.now()<9e4;if(t._debug(o,`session has${a?"":" not"} expired with margin of 90000s`),a){if(t.autoRefreshToken&&s.refresh_token){const{error:c}=yield t._callRefreshToken(s.refresh_token);c&&(console.error(c),Gp(c)||(t._debug(o,"refresh failed with a non-retryable error, removing the session",c),yield t._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:c,error:u}=yield t._getUser(s.access_token);!u&&c?.user?(s.user=c.user,yield t._saveSession(s),yield t._notifyAllSubscribers("SIGNED_IN",s)):t._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),t._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else yield t._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return t._debug(o,"error",s),void console.error(s)}finally{t._debug(o,"end")}})()}_callRefreshToken(t){var r=this;return y(function*(){var i,o;if(!t)throw new Hr;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;r._debug(s,"begin");try{r.refreshingDeferred=new ol;const{data:a,error:c}=yield r._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Hr;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return r.refreshingDeferred.resolve(u),u}catch(a){if(r._debug(s,"error",a),$(a)){const c={data:null,error:a};return Gp(a)||(yield r._removeSession()),null===(i=r.refreshingDeferred)||void 0===i||i.resolve(c),c}throw null===(o=r.refreshingDeferred)||void 0===o||o.reject(a),a}finally{r.refreshingDeferred=null,r._debug(s,"end")}})()}_notifyAllSubscribers(t,r){var i=this;return y(function*(o,s,a=!0){const c=`#_notifyAllSubscribers(${o})`;i._debug(c,"begin",s,`broadcast = ${a}`);try{i.broadcastChannel&&a&&i.broadcastChannel.postMessage({event:o,session:s});const u=[],l=Array.from(i.stateChangeEmitters.values()).map(function(){var d=y(function*(f){try{yield f.callback(o,s)}catch(h){u.push(h)}});return function(f){return d.apply(this,arguments)}}());if(yield Promise.all(l),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{i._debug(c,"end")}}).apply(this,arguments)}_saveSession(t){var r=this;return y(function*(){r._debug("#_saveSession()",t),r.suppressGetSessionWarning=!0;const i=Object.assign({},t);if(r.userStorage){(!i.user||!0!==i.user.__isUserNotAvailableProxy)&&i.user&&(yield $o(r.userStorage,r.storageKey+"-user",{user:i.user}));const s=Object.assign({},i);delete s.user;const a=rS(s);yield $o(r.storage,r.storageKey,a)}else{const s=rS(i);yield $o(r.storage,r.storageKey,s)}})()}_removeSession(){var t=this;return y(function*(){t._debug("#_removeSession()"),yield zr(t.storage,t.storageKey),yield zr(t.storage,t.storageKey+"-code-verifier"),yield zr(t.storage,t.storageKey+"-user"),t.userStorage&&(yield zr(t.userStorage,t.storageKey+"-user")),yield t._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&en()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var t=this;return y(function*(){yield t._stopAutoRefresh(),t._debug("#_startAutoRefresh()");const r=setInterval(()=>t._autoRefreshTokenTick(),Lo);t.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(y(function*(){yield t.initializePromise,yield t._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var t=this;return y(function*(){t._debug("#_stopAutoRefresh()");const r=t.autoRefreshTicker;t.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var t=this;return y(function*(){t._removeVisibilityChangedCallback(),yield t._startAutoRefresh()})()}stopAutoRefresh(){var t=this;return y(function*(){t._removeVisibilityChangedCallback(),yield t._stopAutoRefresh()})()}_autoRefreshTokenTick(){var t=this;return y(function*(){t._debug("#_autoRefreshTokenTick()","begin");try{yield t._acquireLock(0,y(function*(){try{const r=Date.now();try{return yield t._useSession(function(){var i=y(function*(o){const{data:{session:s}}=o;if(!s||!s.refresh_token||!s.expires_at)return void t._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*s.expires_at-r)/Lo);t._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield t._callRefreshToken(s.refresh_token))});return function(o){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{t._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof cS))throw r;t._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var t=this;return y(function*(){if(t._debug("#_handleVisibilityChange()"),!en()||!window?.addEventListener)return t.autoRefreshToken&&t.startAutoRefresh(),!1;try{t.visibilityChangedCallback=y(function*(){return yield t._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",t.visibilityChangedCallback),yield t._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(t){var r=this;return y(function*(){const i=`#_onVisibilityChanged(${t})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),t||(yield r.initializePromise,yield r._acquireLock(-1,y(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(t,r,i){var o=this;return y(function*(){const s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===o.flowType){const[a,c]=yield Uo(o.storage,o.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(u.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`})()}_unenroll(t){var r=this;return y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s;const{data:a,error:c}=o;return c?{data:null,error:c}:yield X(r.fetch,"DELETE",`${r.url}/factors/${t.factorId}`,{headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(o){return i.apply(this,arguments)}}())}catch(i){if($(i))return{data:null,error:i};throw i}})()}_enroll(t){var r=this;return y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s,a;const{data:c,error:u}=o;if(u)return{data:null,error:u};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:"totp"===t.factorType?{issuer:t.issuer}:{}),{data:d,error:f}=yield X(r.fetch,"POST",`${r.url}/factors`,{body:l,headers:r.headers,jwt:null===(s=c?.session)||void 0===s?void 0:s.access_token});return f?{data:null,error:f}:("totp"===t.factorType&&"totp"===d.type&&!(null===(a=d?.totp)||void 0===a)&&a.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})});return function(o){return i.apply(this,arguments)}}())}catch(i){if($(i))return{data:null,error:i};throw i}})()}_verify(t){var r=this;return y(function*(){return r._acquireLock(-1,y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s;const{data:a,error:c}=o;if(c)return{data:null,error:c};const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:"create"===t.webauthn.type?IB(t.webauthn.credential_response):TB(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:d}=yield X(r.fetch,"POST",`${r.url}/factors/${t.factorId}/verify`,{body:u,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});return d?{data:null,error:d}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})});return function(o){return i.apply(this,arguments)}}())}catch(i){if($(i))return{data:null,error:i};throw i}}))})()}_challenge(t){var r=this;return y(function*(){return r._acquireLock(-1,y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s;const{data:a,error:c}=o;if(c)return{data:null,error:c};const u=yield X(r.fetch,"POST",`${r.url}/factors/${t.factorId}/challenge`,{body:t,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});if(u.error)return u;const{data:l}=u;if("webauthn"!==l.type)return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:SB(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:MB(l.webauthn.credential_options.publicKey)})})}),error:null}}});return function(o){return i.apply(this,arguments)}}())}catch(i){if($(i))return{data:null,error:i};throw i}}))})()}_challengeAndVerify(t){var r=this;return y(function*(){const{data:i,error:o}=yield r._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield r._verify({factorId:t.factorId,challengeId:i.id,code:t.code})})()}_listFactors(){var t=this;return y(function*(){var r;const{data:{user:i},error:o}=yield t.getUser();if(o)return{data:null,error:o};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(r=i?.factors)&&void 0!==r?r:[])s.all.push(a),"verified"===a.status&&s[a.factor_type].push(a);return{data:s,error:null}})()}_getAuthenticatorAssuranceLevel(){var t=this;return y(function*(){return t._acquireLock(-1,y(function*(){return yield t._useSession(function(){var r=y(function*(i){var o,s;const{data:{session:a},error:c}=i;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Wp(a.access_token);let l=null;u.aal&&(l=u.aal);let d=l;return(null!==(s=null===(o=a.user.factors)||void 0===o?void 0:o.filter(p=>"verified"===p.status))&&void 0!==s?s:[]).length>0&&(d="aal2"),{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:u.amr||[]},error:null}});return function(i){return r.apply(this,arguments)}}())}))})()}fetchJwk(t){var r=this;return y(function*(i,o={keys:[]}){let s=o.keys.find(l=>l.kid===i);if(s)return s;const a=Date.now();if(s=r.jwks.keys.find(l=>l.kid===i),s&&r.jwks_cached_at+6e5>a)return s;const{data:c,error:u}=yield X(r.fetch,"GET",`${r.url}/.well-known/jwks.json`,{headers:r.headers});if(u)throw u;return c.keys&&0!==c.keys.length&&(r.jwks=c,r.jwks_cached_at=a,s=c.keys.find(l=>l.kid===i),s)?s:null}).apply(this,arguments)}getClaims(t){var r=this;return y(function*(i,o={}){try{let s=i;if(!s){const{data:m,error:_}=yield r.getSession();if(_||!m.session)return{data:null,error:_};s=m.session.access_token}const{header:a,payload:c,signature:u,raw:{header:l,payload:d}}=Wp(s);o?.allowExpired||function nB(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(c.exp);const f=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield r.fetchJwk(a.kid,o?.keys?{keys:o.keys}:o?.jwks):null;if(!f){const{error:m}=yield r.getUser(s);if(m)throw m;return{data:{claims:c,header:a,signature:u},error:null}}const h=function rB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),p=yield crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,p,u,function HU(e){const n=[];return function eS(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){const i=1024*(r-55296)&65535;r=65536+(e.charCodeAt(t+1)-56320&65535|i),t+=1}UU(r,n)}}(e,t=>n.push(t)),new Uint8Array(n)}(`${l}.${d}`))))throw new qp("Invalid JWT signature");return{data:{claims:c,header:a,signature:u},error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}).apply(this,arguments)}}return e.nextInstanceID=0,e})();class VB extends jB{constructor(n){super(n)}}class UB{constructor(n,t,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=t;const a=function xU(e){const n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function TU(e){return e.endsWith("/")?e:e+"/"}(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,l=function AU(e,n){var t,r;const{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=n,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(t=d?.headers)&&void 0!==t?t:{}),null!==(r=a?.headers)&&void 0!==r?r:{})}),accessToken:()=>function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}(r??{},{db:wU,realtime:CU,auth:Object.assign(Object.assign({},bU),{storageKey:c}),global:_U});this.storageKey=null!==(i=l.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(o=l.global.headers)&&void 0!==o?o:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=MU(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new FE(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new vU(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new x$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return e=this,n=void 0,r=function*(){var n,t;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==t?t:this.supabaseKey},new((t=void 0)||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())});var e,n,t,r}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:c,debug:u},l,d){return new VB({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),l),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>"authorization"===h.toLowerCase())})}_initRealtimeClient(n){return new tU(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){"TOKEN_REFRESHED"!==n&&"SIGNED_IN"!==n||this.changedAccessToken===r?"SIGNED_OUT"===n&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}(function HB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(null==e)return!1;const n=e.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gS_supabase_url="https://pdfqiirgdzelslkxjjse.supabase.co",gS_supabase_key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkZnFpaXJnZHplbHNsa3hqanNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNzYzOTgsImV4cCI6MjA3NTk1MjM5OH0.jgiyGlDPNTLo5ia4qI737t39fRzioN-D_ApZj6MItvM";let mS=(()=>{class e{constructor(){this.supabaseClient=((e,n,t)=>new UB(e,n,void 0))(gS_supabase_url,gS_supabase_key)}signUp(t,r){return this.supabaseClient.auth.signUp({email:t,password:r})}signIn(t,r){return this.supabaseClient.auth.signInWithPassword({email:t,password:r})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function zB(e,n){if(1&e&&(T(0,"div",18),oe(1),A()),2&e){const t=Q();x(1),go(" ",t.successMessage," ")}}function GB(e,n){if(1&e&&(T(0,"div",19),oe(1),A()),2&e){const t=Q();x(1),go(" ",t.errorMessage," ")}}let vS=(()=>{class e{constructor(t,r,i){this.router=t,this.formBuilder=r,this.auth=i,this.successMessage=null,this.errorMessage=null,this.loginForm=this.formBuilder.group({email:["",[Vr.required,Vr.email]],password:["",[Vr.required,Vr.minLength(8)]]})}onSubmit(){this.auth.signIn(this.loginForm.value.email,this.loginForm.value.password).then(t=>{"authenticated"===t.data.user.role&&(console.log("User logged in successfully:",t),this.router.navigate(["/principal"]))}).catch(t=>{console.error("Error logging in:",t)})}navigateToSignUp(t){t.preventDefault(),this.router.navigate(["/signup"])}static{this.\u0275fac=function(r){return new(r||e)(D(Ut),D(xE),D(mS))}}static{this.\u0275cmp=kt({type:e,selectors:[["app-login"]],standalone:!0,features:[Kc],decls:29,vars:3,consts:[[1,"sky"],[1,"card"],[3,"formGroup","ngSubmit"],[1,"field"],["for","email"],["id","email","type","email","name","email","placeholder","example.email@gmail.com","required","","formControlName","email"],["for","password"],[1,"pw"],["id","password","type","password","name","password","placeholder","M\xednimo 8 caracteres","minlength","8","required","","formControlName","password"],["aria-hidden","true",1,"pw-eye"],[1,"row"],[1,"check"],["type","checkbox","name","remember"],["href","#",1,"link"],["type","submit","id","loginBtn","formmethod","get",1,"btn","btn--primary"],["type","submit","formmethod","get",1,"btn","btn--ghost",3,"click"],["class","alert alert-success","style","margin-top: 20px",4,"ngIf"],["class","alert alert-danger","style","margin-top: 20px",4,"ngIf"],[1,"alert","alert-success",2,"margin-top","20px"],[1,"alert","alert-danger",2,"margin-top","20px"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1)(2,"h1"),oe(3,"Iniciar Sesi\xf3n"),A(),T(4,"form",2),Ce("ngSubmit",function(){return i.onSubmit()}),T(5,"div",3)(6,"label",4)(7,"span"),oe(8,"Email"),A()(),j(9,"input",5),A(),T(10,"div",3)(11,"label",6)(12,"span"),oe(13,"Contrase\xf1a"),A()(),T(14,"div",7),j(15,"input",8)(16,"span",9),A()(),T(17,"div",10)(18,"label",11),j(19,"input",12),oe(20," Recordarme "),A(),T(21,"a",13),oe(22,"\xbfOlvidaste la contrase\xf1a?"),A()(),T(23,"button",14),oe(24," Iniciar Sesi\xf3n "),A(),T(25,"button",15),Ce("click",function(s){return i.navigateToSignUp(s)}),oe(26," Crear Cuenta "),A()(),K(27,zB,2,1,"div",16),K(28,GB,2,1,"div",17),A()()),2&r&&(x(4),P("formGroup",i.loginForm),x(23),P("ngIf",i.successMessage),x(1),P("ngIf",i.errorMessage))},dependencies:[Th,gr,OE,Ep,pa,hp,pp,Ca,Yu,ba,Ju],styles:['.sky[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url(base.26c148219cd6df11.png) center/cover no-repeat;z-index:-2;filter:saturate(1.05)}.card[_ngcontent-%COMP%]{width:min(720px,92%);background:#e5e5e5;border-radius:var(--radius-2xl);box-shadow:var(--shadow);padding:clamp(22px,4vw,40px)}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 18px;text-align:center;font-size:clamp(22px,2.6vw,28px);font-weight:700}.form[_ngcontent-%COMP%]{display:grid;gap:14px}.field[_ngcontent-%COMP%]{display:grid;gap:8px}.field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--muted)}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 14px;border-radius:12px;border:2px solid var(--border);background:#f6f8fb;outline:none;font-size:1rem;transition:border-color .15s ease,background .15s ease}input[_ngcontent-%COMP%]:focus{border-color:#9bdcff;background:#ffffff}.row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:4px;font-size:.95rem}.check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.link[_ngcontent-%COMP%]{color:#ff8a7f;text-decoration:none;font-weight:600}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.pw[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.pw-eye[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;translate:0 -50%;pointer-events:none;opacity:.6;font-size:18px}.btn[_ngcontent-%COMP%]{display:block;width:100%;padding:12px 16px;border-radius:14px;text-align:center;font-weight:700;text-decoration:none;border:0;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,filter .12s ease}.btn--primary[_ngcontent-%COMP%]{background:#ff8a7f;color:var(--primary-ink)}.btn--ghost[_ngcontent-%COMP%]{background:#ffb8b2;color:var(--primary-ink);margin-top:10px;border:2px solid #ffa8a0}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:saturate(1.05)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 520px){.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px}}']})}}return e})();function qB(e,n){if(1&e&&(T(0,"article",10),j(1,"img",11),T(2,"h3",12),oe(3),A(),T(4,"p",13),oe(5),A(),T(6,"a",14),oe(7),A()()),2&e){const t=n.$implicit,r=Q();x(1),P("src",t.cover,or)("alt",t.title),x(2),Fs(t.title),x(2),Fs(r.getStarsDisplay(t.stars)),x(1),P("routerLink",t.href),x(1),Fs(r.getButtonLabel(t.stars))}}let WB=(()=>{class e{constructor(){this.userProgress={completedModules:1,totalStars:3},this.modules=[{id:1,title:"Explorador de Luz",cover:"assets/img/Modulo1/M1H1P1.png",href:"/Modulo1/1",stars:3},{id:2,title:"Guardianes de la Selva",cover:"assets/img/Modulo2/M2P1.png",href:"/Modulo2/1",stars:0},{id:3,title:"Hay alguien reaccionando",cover:"assets/img/Modulo3/M3P1.png",href:"/Modulo3/1",stars:0},{id:4,title:"Contemos",cover:"assets/img/Modulo4/M4P1.png",href:"/Modulo4/1",stars:0},{id:5,title:"Repito y repita",cover:"assets/img/Modulo5/M5P1.png",href:"/Modulo5/1",stars:0},{id:6,title:"Crea tu mundo",cover:"assets/img/Modulo6/M6P1.png",href:"/Modulo6/1",stars:0}]}ngOnInit(){}getStarsDisplay(t){return"\u2b50".repeat(t)+"\u2606".repeat(3-t)}getButtonLabel(t){return t>0?"Revisar":"Empezar"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=kt({type:e,selectors:[["app-principal"]],decls:15,vars:1,consts:[[1,"stage"],[1,"panel"],[1,"hero"],["src","assets/img/AvatarNi\xf1a.png","alt","Avatar del ni\xf1o",1,"avatar"],[1,"hello"],[1,"subtitle"],[1,"stars-box"],["id","totalStars"],["id","modulesList",1,"modules"],["class","module-card",4,"ngFor","ngForOf"],[1,"module-card"],[1,"cover",3,"src","alt"],[1,"title"],[1,"stars"],[1,"btn",3,"routerLink"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1)(2,"header",2),j(3,"img",3),T(4,"div")(5,"h1",4),oe(6,"\xa1Hola Explorador!"),A(),T(7,"p",5),oe(8,"Avanza paso a paso en tu misi\xf3n \u{1f680}"),A()(),T(9,"div",6),oe(10," \u2b50 "),T(11,"span",7),oe(12,"0"),A()()(),T(13,"div",8),K(14,qB,8,6,"article",9),A()()()),2&r&&(x(14),P("ngForOf",i.modules))},dependencies:[z0,pn],styles:['[_ngcontent-%COMP%]:root{--page-blue: #6bc79a;--ink: #0f2233;--paper: #ffffff;--comic-border: #0f0f0f;--accent: #ffcf33;--accent2: #ff8a65}html[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;font-family:Itim,cursive;color:var(--ink);background:url(nubes_portada.783bd1537aa19cdb.png) no-repeat center center fixed;background-size:cover}.stage[_ngcontent-%COMP%]{min-height:100dvh;display:grid;place-items:center}.panel[_ngcontent-%COMP%]{width:min(1100px,95%);background:var(--page-blue);border:4px solid var(--comic-border);border-radius:20px;padding:20px;box-shadow:0 8px 16px #0000004d}.hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:var(--accent);border:3px solid var(--comic-border);border-radius:16px;padding:12px 16px;margin-bottom:20px}.avatar[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;border:3px solid var(--comic-border);background:#fff}.hello[_ngcontent-%COMP%]{margin:0;font-size:1.8rem}.subtitle[_ngcontent-%COMP%]{margin:0;font-size:1rem}.stars-box[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;background:#fff;border:3px solid var(--comic-border);border-radius:12px;padding:6px 12px}.modules[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:18px}.module-card[_ngcontent-%COMP%]{background:var(--paper);border:3px solid var(--comic-border);border-radius:14px;text-align:center;padding:12px;transition:transform .2s ease}.module-card[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 4px 10px #0003}.module-card.locked[_ngcontent-%COMP%]{opacity:.7;filter:grayscale(.4);position:relative}.module-card.locked[_ngcontent-%COMP%]:after{content:"\\1f512";position:absolute;top:10px;right:10px;font-size:1.4rem}.btn.disabled[_ngcontent-%COMP%]{background:#ddd;color:#666;cursor:not-allowed}.cover[_ngcontent-%COMP%]{width:100%;border-radius:10px;border:2px solid var(--comic-border)}.title[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.3rem}.stars[_ngcontent-%COMP%]{font-size:1.2rem;margin:6px 0}.btn[_ngcontent-%COMP%]{background-color:#ff7b54;color:#fff;border-radius:6px;padding:6px 16px;font-weight:700;text-decoration:none}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.btn.disabled[_ngcontent-%COMP%]{background:#ddd;color:#777;cursor:not-allowed}.locked[_ngcontent-%COMP%]{opacity:.8}']})}}return e})(),KB=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=kt({type:e,selectors:[["app-portada"]],decls:12,vars:0,consts:[[1,"sky"],[1,"wrap"],[1,"hero-title"],[1,"actions"],["href","https://github.com/TinyCodersPUJ/Installer_TinyCoders/releases/download/v2.0/Installer_HardwareForEducation_v2.0.exe",1,"btn","btn--install"],["routerLink","/login",1,"btn","btn--start"],[1,"scene"],["src","assets/img/portada1.png","alt","Personajes",1,"characters"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1)(2,"header",2)(3,"h1"),oe(4,"\xa1Bienvenido al laboratorio de las ideas locas, donde todo cobra vida!"),A()(),T(5,"nav",3)(6,"a",4),oe(7,"\u2699\ufe0f Instalar"),A(),T(8,"a",5),oe(9,"\u{1f680} Empezar"),A()(),T(10,"div",6),j(11,"img",7),A()()())},dependencies:[pn],styles:['[_ngcontent-%COMP%]:root{--bg: #cfeeff;--panel: #e8f6ff;--border: #8ad0ff;--ink: #16324f;--btn-green: #8de894;--btn-yellow: #ffe680;--btn-ink: #114b35;--shadow: 0 10px 30px rgba(0, 0, 0, .1);--radius-xl: 22px;--radius-pill: 999px;--maxw: 1080px}.sky[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url(nubes_portada.783bd1537aa19cdb.png) center/cover no-repeat;z-index:-2;filter:saturate(1.1)}.wrap[_ngcontent-%COMP%]{width:100%;max-width:var(--maxw);display:grid;grid-template-rows:auto auto 1fr;gap:clamp(16px,2.2vw,26px)}.hero-title[_ngcontent-%COMP%]{margin-inline:auto;width:min(100%,920px);background:var(--panel);border:3px solid var(--border);border-radius:var(--radius-xl);padding:clamp(12px,2.2vw,22px) clamp(16px,3vw,32px);box-shadow:var(--shadow);text-align:center}.hero-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:clamp(22px,4vw,42px);line-height:1.1;letter-spacing:.4px;font-weight:700}.actions[_ngcontent-%COMP%]{display:flex;gap:clamp(12px,2.2vw,24px);justify-content:center;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{--bg: #ddd;display:inline-flex;align-items:center;gap:10px;padding:14px 28px;border-radius:var(--radius-pill);background:var(--bg);border:0;box-shadow:var(--shadow);color:var(--btn-ink);text-decoration:none;font-weight:700;font-size:clamp(16px,1.8vw,20px);transform:translateY(0);transition:transform .12s ease,box-shadow .12s ease,filter .12s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:saturate(1.05)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 4px 18px #0000001f}.btn--install[_ngcontent-%COMP%]{--bg: var(--btn-yellow)}.btn--start[_ngcontent-%COMP%]{--bg: var(--btn-green)}.scene[_ngcontent-%COMP%]{position:relative;display:grid;place-items:end center;min-height:clamp(260px,40vh,480px)}.scene[_ngcontent-%COMP%]   img.characters[_ngcontent-%COMP%]{width:min(780px,86%);height:auto;object-fit:contain;filter:saturate(1.05);-webkit-user-select:none;user-select:none;-webkit-user-drag:none}@media (max-width:640px){.hero-title[_ngcontent-%COMP%]{border-width:2px}.btn[_ngcontent-%COMP%]{padding:12px 22px}.scene[_ngcontent-%COMP%]{min-height:300px}}']})}}return e})();function JB(e,n){if(1&e){const t=Tt();T(0,"div",14)(1,"h3"),oe(2,"\xa1Usuario Creado Exitosamente!"),A(),T(3,"p"),oe(4,"Tu cuenta ha sido creada correctamente."),A(),T(5,"button",15),Ce("click",function(){return Dt(t),Et(Q().navigateToLogin())}),oe(6," Continuar "),A()()}}function YB(e,n){if(1&e&&(T(0,"div",16),oe(1),A()),2&e){const t=Q();x(1),go(" ",t.errorMessage," ")}}function ZB(e,n){1&e&&(T(0,"i",17),oe(1,"* Introduce un email v\xe1lido"),A())}function QB(e,n){1&e&&(T(0,"i",17),oe(1,"* M\xednimo 8 caracteres"),A())}let yS=(()=>{class e{constructor(t,r,i){this.formBuilder=t,this.auth=r,this.router=i,this.showSuccessAlert=!1,this.errorMessage=null,this.registerForm=this.formBuilder.group({email:["",[Vr.required,Vr.email]],password:["",[Vr.required,Vr.minLength(8)]]})}onSubmit(){if(this.registerForm.valid){const{email:t,password:r}=this.registerForm.value;this.auth.signUp(t,r).then(i=>{console.log("User registered successfully:",i),this.showSuccessAlert=!0,this.errorMessage=null}).catch(i=>{console.error("Error registering user:",i),this.errorMessage="Error al crear la cuenta, por favor intenta nuevamente.",this.showSuccessAlert=!1})}}navigateToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||e)(D(xE),D(mS),D(Ut))}}static{this.\u0275cmp=kt({type:e,selectors:[["app-signup"]],standalone:!0,features:[Kc],decls:23,vars:5,consts:[[1,"sky"],[1,"card"],["class","alert alert-success","style","margin-bottom: 20px; text-align: center",4,"ngIf"],["class","alert alert-danger","style","margin-bottom: 20px",4,"ngIf"],["action","#","method","post","novalidate","",1,"form",3,"formGroup","ngSubmit"],[1,"field"],["for","email"],["id","email","type","email","name","email","placeholder","example@example.com","required","","formControlName","email"],["style","color: tomato",4,"ngIf"],["for","password"],[1,"pw"],["id","password","type","password","name","password","placeholder","password","minlength","8","required","","formControlName","password"],["aria-hidden","true",1,"pw-eye"],["type","submit","formmethod","get","formaction","registro.html",1,"btn","btn--ghost"],[1,"alert","alert-success",2,"margin-bottom","20px","text-align","center"],["type","button",1,"btn","btn--primary",2,"margin-top","10px",3,"click"],[1,"alert","alert-danger",2,"margin-bottom","20px"],[2,"color","tomato"]],template:function(r,i){if(1&r&&(T(0,"main",0)(1,"section",1)(2,"h1"),oe(3,"Crear Cuenta"),A(),K(4,JB,7,0,"div",2),K(5,YB,2,1,"div",3),T(6,"form",4),Ce("ngSubmit",function(){return i.onSubmit()}),T(7,"div",5)(8,"label",6)(9,"span"),oe(10,"Email"),A()(),j(11,"input",7),K(12,ZB,2,0,"i",8),A(),T(13,"div",5)(14,"label",9)(15,"span"),oe(16,"Contrase\xf1a"),A()(),T(17,"div",10),j(18,"input",11),K(19,QB,2,0,"i",8),j(20,"span",12),A()(),T(21,"button",13),oe(22," Crear "),A()()()()),2&r){let o,s;x(4),P("ngIf",i.showSuccessAlert),x(1),P("ngIf",i.errorMessage),x(1),P("formGroup",i.registerForm),x(6),P("ngIf",(null==(o=i.registerForm.get("email"))?null:o.touched)&&(null==(o=i.registerForm.get("email"))?null:o.invalid)),x(7),P("ngIf",(null==(s=i.registerForm.get("password"))?null:s.touched)&&(null==(s=i.registerForm.get("password"))?null:s.invalid))}},dependencies:[Th,gr,OE,Ep,pa,hp,pp,Ca,Yu,ba,Ju],styles:['[_ngcontent-%COMP%]:root{--bg: #cfeeff;--card: #ffffff;--ink: #1e2a36;--muted: #6b7a88;--primary: #6fd3ff;--primary-ink: #0f3a52;--ghost: #e6f4ff;--border: #dfe8f2;--radius-2xl: 26px;--shadow: 0 18px 50px rgba(0, 0, 0, .18)}*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;font-family:Rubik,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:var(--bg)}.sky[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url(base.26c148219cd6df11.png) center/cover no-repeat;z-index:-2;filter:saturate(1.05)}.card[_ngcontent-%COMP%]{width:min(720px,92%);background:#e5e5e5;border-radius:var(--radius-2xl);box-shadow:var(--shadow);padding:clamp(22px,4vw,40px)}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 18px;text-align:center;font-size:clamp(22px,2.6vw,28px);font-weight:700}.form[_ngcontent-%COMP%]{display:grid;gap:14px}.field[_ngcontent-%COMP%]{display:grid;gap:8px}.field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--muted)}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 14px;border-radius:12px;border:2px solid var(--border);background:#f6f8fb;outline:none;font-size:1rem;transition:border-color .15s ease,background .15s ease}input[_ngcontent-%COMP%]:focus{border-color:#9bdcff;background:#ffffff}.row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:4px;font-size:.95rem}.check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.link[_ngcontent-%COMP%]{color:#ff8a7f;text-decoration:none;font-weight:600}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.pw[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.pw-eye[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;translate:0 -50%;pointer-events:none;opacity:.6;font-size:18px}.btn[_ngcontent-%COMP%]{display:block;width:100%;padding:12px 16px;border-radius:14px;text-align:center;font-weight:700;text-decoration:none;border:0;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,filter .12s ease}.btn--primary[_ngcontent-%COMP%]{background:#ff8a7f;color:var(--primary-ink)}.btn--ghost[_ngcontent-%COMP%]{background:#ff8a7f;color:var(--primary-ink);margin-top:10px;border:2px solid #ffa8a0}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:saturate(1.05)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 520px){.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px}}']})}}return e})();function XB(e,n){if(1&e&&(Ee(0),T(1,"a",5),j(2,"img",6),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.nextLink)}}function eH(e,n){if(1&e){const t=Tt();T(0,"div",9)(1,"a",10),Ce("click",function(){return Dt(t),Et(Q(2).finalizar())}),j(2,"img",11),A()()}}function tH(e,n){1&e&&(T(0,"a",12),j(1,"img",11),A()),2&e&&P("routerLink",Q(2).endLink)}function nH(e,n){if(1&e&&(Ee(0),K(1,eH,3,0,"div",7),K(2,tH,2,1,"ng-template",null,8,Or),Se()),2&e){const t=Ar(3),r=Q();x(1),P("ngIf",r.esMini)("ngIfElse",t)}}function rH(e,n){if(1&e){const t=Tt();T(0,"a",15),Ce("click",function(i){return Dt(t),Et(Q(2).abrirScratch(i))}),j(1,"img",16),A()}}function iH(e,n){if(1&e){const t=Tt();T(0,"div",17)(1,"a",18),Ce("click",function(){return Dt(t),Et(Q(2).terminarYVolver())}),j(2,"img",19),A()()}}function oH(e,n){if(1&e&&(Ee(0),K(1,rH,2,0,"ng-template",null,13,Or),K(3,iH,3,0,"div",14),Se()),2&e){const t=Ar(2),r=Q();x(3),P("ngIf",r.esMini)("ngIfElse",t)}}function sH(e,n){if(1&e&&(Ee(0),T(1,"a",20),j(2,"img",21),A(),T(3,"a",22),j(4,"img",23),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.prevLink),x(2),P("routerLink",t.nextLink)}}function cH(e,n){if(1&e&&(Ee(0),T(1,"a",5),j(2,"img",6),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.nextLink)}}function uH(e,n){if(1&e&&(Ee(0),T(1,"a",7),j(2,"img",8),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.endLink)}}function lH(e,n){if(1&e){const t=Tt();T(0,"a",11),Ce("click",function(i){return Dt(t),Et(Q(2).abrirScratch(i))}),j(1,"img",12),A()}}function dH(e,n){if(1&e){const t=Tt();T(0,"div",13)(1,"a",14),Ce("click",function(){return Dt(t),Et(Q(2).terminarYVolver())}),j(2,"img",15),A()()}}function fH(e,n){if(1&e&&(Ee(0),K(1,lH,2,0,"ng-template",null,9,Or),K(3,dH,3,0,"div",10),Se()),2&e){const t=Ar(2),r=Q();x(3),P("ngIf",r.esMini)("ngIfElse",t)}}function hH(e,n){if(1&e&&(Ee(0),T(1,"a",16),j(2,"img",17),A(),T(3,"a",18),j(4,"img",19),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.prevLink),x(2),P("routerLink",t.nextLink)}}function gH(e,n){if(1&e&&(Ee(0),T(1,"a",5),j(2,"img",6),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.nextLink)}}function mH(e,n){if(1&e&&(Ee(0),T(1,"a",7),j(2,"img",8),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.endLink)}}function vH(e,n){if(1&e){const t=Tt();T(0,"a",11),Ce("click",function(i){return Dt(t),Et(Q(2).abrirScratch(i))}),j(1,"img",12),A()}}function yH(e,n){if(1&e){const t=Tt();T(0,"div",13)(1,"a",14),Ce("click",function(){return Dt(t),Et(Q(2).terminarYVolver())}),j(2,"img",15),A()()}}function _H(e,n){if(1&e&&(Ee(0),K(1,vH,2,0,"ng-template",null,9,Or),K(3,yH,3,0,"div",10),Se()),2&e){const t=Ar(2),r=Q();x(3),P("ngIf",r.esMini)("ngIfElse",t)}}function wH(e,n){if(1&e&&(Ee(0),T(1,"a",16),j(2,"img",17),A(),T(3,"a",18),j(4,"img",19),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.prevLink),x(2),P("routerLink",t.nextLink)}}function CH(e,n){if(1&e&&(Ee(0),T(1,"a",5),j(2,"img",6),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.nextLink)}}function DH(e,n){if(1&e&&(Ee(0),T(1,"a",7),j(2,"img",8),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.endLink)}}function EH(e,n){if(1&e){const t=Tt();T(0,"a",11),Ce("click",function(i){return Dt(t),Et(Q(2).abrirScratch(i))}),j(1,"img",12),A()}}function SH(e,n){if(1&e){const t=Tt();T(0,"div",13)(1,"a",14),Ce("click",function(){return Dt(t),Et(Q(2).terminarYVolver())}),j(2,"img",15),A()()}}function MH(e,n){if(1&e&&(Ee(0),K(1,EH,2,0,"ng-template",null,9,Or),K(3,SH,3,0,"div",10),Se()),2&e){const t=Ar(2),r=Q();x(3),P("ngIf",r.esMini)("ngIfElse",t)}}function IH(e,n){if(1&e&&(Ee(0),T(1,"a",16),j(2,"img",17),A(),T(3,"a",18),j(4,"img",19),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.prevLink),x(2),P("routerLink",t.nextLink)}}function AH(e,n){if(1&e&&(Ee(0),T(1,"a",5),j(2,"img",6),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.nextLink)}}function xH(e,n){if(1&e&&(Ee(0),T(1,"a",7),j(2,"img",8),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.endLink)}}function OH(e,n){if(1&e){const t=Tt();T(0,"a",11),Ce("click",function(i){return Dt(t),Et(Q(2).abrirScratch(i))}),j(1,"img",12),A()}}function PH(e,n){if(1&e){const t=Tt();T(0,"div",13)(1,"a",14),Ce("click",function(){return Dt(t),Et(Q(2).terminarYVolver())}),j(2,"img",15),A()()}}function RH(e,n){if(1&e&&(Ee(0),K(1,OH,2,0,"ng-template",null,9,Or),K(3,PH,3,0,"div",10),Se()),2&e){const t=Ar(2),r=Q();x(3),P("ngIf",r.esMini)("ngIfElse",t)}}function kH(e,n){if(1&e&&(Ee(0),T(1,"a",16),j(2,"img",17),A(),T(3,"a",18),j(4,"img",19),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.prevLink),x(2),P("routerLink",t.nextLink)}}function FH(e,n){if(1&e&&(Ee(0),T(1,"a",5),j(2,"img",6),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.nextLink)}}function LH(e,n){if(1&e&&(Ee(0),T(1,"a",7),j(2,"img",8),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.endLink)}}function jH(e,n){if(1&e){const t=Tt();T(0,"a",11),Ce("click",function(i){return Dt(t),Et(Q(2).abrirScratch(i))}),j(1,"img",12),A()}}function VH(e,n){if(1&e){const t=Tt();T(0,"div",13)(1,"a",14),Ce("click",function(){return Dt(t),Et(Q(2).terminarYVolver())}),j(2,"img",15),A()()}}function $H(e,n){if(1&e&&(Ee(0),K(1,jH,2,0,"ng-template",null,9,Or),K(3,VH,3,0,"div",10),Se()),2&e){const t=Ar(2),r=Q();x(3),P("ngIf",r.esMini)("ngIfElse",t)}}function UH(e,n){if(1&e&&(Ee(0),T(1,"a",16),j(2,"img",17),A(),T(3,"a",18),j(4,"img",19),A(),Se()),2&e){const t=Q();x(1),P("routerLink",t.prevLink),x(2),P("routerLink",t.nextLink)}}const BH=[{path:"",redirectTo:"portada",pathMatch:"full"},{path:"bienvenida",component:RV},{path:"login",component:vS},{path:"principal",component:WB},{path:"portada",component:KB},{path:"signup",component:yS},{path:"Modulo1/:page",component:(()=>{class e{ngOnInit(){this.route.paramMap.subscribe(i=>{this.page=Number(i.get("page")||1),this.imgSrc=`assets/img/Modulo1/M1H1P${this.page}.png`;const o=Math.max(1,this.page-1),s=Math.min(8,this.page+1);this.prevLink=`/Modulo1/${o}`,this.nextLink=`/Modulo1/${s}`});const t=new URLSearchParams(window.location.search);this.esMini="1"===t.get("mini"),document.body.classList.add("mini"),setTimeout(()=>this.scaleMiniToFit(),0),window.addEventListener("resize",this.resizeHandler);const r=()=>{const i=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed&&(window.opener.location.href=i,window.opener.focus())}catch{}};window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r)}constructor(t){this.route=t,this.page=1,this.imgSrc="",this.prevLink="",this.nextLink="",this.endLink="/principal",this.scratchURL="https://hardware-for-education.github.io/Scratch_For_Education?modulo=modulo1.sb3",this.esMini=!1,this.resizeHandler=()=>this.scaleMiniToFit()}abrirScratch(t){t.preventDefault();const o=window.screenX??window.screenLeft??0,s=window.screenY??window.screenTop??0,a=window.outerWidth||window.innerWidth,c=window.outerHeight||window.innerHeight,u=Math.max(0,o+a-690),l=Math.max(0,s+c-500),d=["width=690","height=500",`left=${u}`,`top=${l}`,"resizable=yes","scrollbars=yes","menubar=no","toolbar=no","location=no","status=no"].join(","),f=this.construirMiniUrl(),h=window.open(f,"ventanaGuia",d);try{localStorage.setItem("returnTo",window.location.href)}catch{}if(h){try{h.moveTo(u,l),h.resizeTo(690,500)}catch{}setTimeout(()=>{try{h.moveTo(u,l),h.resizeTo(690,500)}catch{}},50),window.location.assign(this.scratchURL)}else window.open(this.scratchURL,"_blank"),alert("Activa las ventanas emergentes para ver la ventana flotante.")}scaleMiniToFit(){const t=document.getElementById("mini-root");if(!t)return;const o=.05*window.innerWidth,s=.05*window.innerHeight,a=window.innerWidth-2*o,c=window.innerHeight-2*s,u=Math.min(a/690,c/500);t.style.width="690px",t.style.height="500px",t.style.transform=`scale(${u})`,t.style.position="absolute",t.style.left=`${o+Math.max(0,(a-690*u)/2)}px`,t.style.top=`${s+Math.max(0,(c-500*u)/2)}px`}construirMiniUrl(){const t=new URL(window.location.href);return t.searchParams.set("mini","1"),t.toString()}terminarYVolver(){const t=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed?(window.opener.location.href=t,window.opener.focus(),window.close()):window.location.href=t}catch{window.location.href=t}}finalizar(){const r=`${window.location.origin}${this.endLink}`;try{window.opener&&!window.opener.closed?(window.opener.location.href=r,window.opener.focus(),window.close()):window.location.href=r}catch(i){console.error("Error al cerrar popup o redirigir:",i),window.location.href=r}}static{this.\u0275fac=function(r){return new(r||e)(D(hn))}}static{this.\u0275cmp=kt({type:e,selectors:[["app-pages"]],decls:8,vars:5,consts:[[1,"stage"],[1,"panel"],["id","mini-root",1,"comic"],["alt","Escena",1,"scene",3,"src"],[4,"ngIf"],[1,"btn-empezar",3,"routerLink"],["src","assets/img/empezar.png","alt","Empezar"],["class","btn-final",4,"ngIf","ngIfElse"],["btnFinalNormal",""],[1,"btn-final"],["aria-label","Finalizar",1,"btn-final",3,"click"],["src","assets/img/finalizar.png","alt","Finalizar"],["aria-label","Finalizar",1,"btn-final",3,"routerLink"],["btnVolver",""],["class","btn-scratch",4,"ngIf","ngIfElse"],["href","http://localhost:8601","aria-label","Ir a Scratch",1,"btn-scratch",3,"click"],["src","assets/img/empezar.png","alt","Oprime"],[1,"btn-scratch"],["aria-label","Volver de Scratch",1,"btn-scratch",3,"click"],["src","assets/img/atr\xe1s.png"],["aria-label","Atr\xe1s",1,"btn-atras",3,"routerLink"],["src","assets/img/atr\xe1s.png","alt","Atr\xe1s"],["aria-label","Siguiente",1,"btn-img",3,"routerLink"],["src","assets/img/siguiente.png","alt","Siguiente"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1)(2,"figure",2),j(3,"img",3),K(4,XB,3,1,"ng-container",4),K(5,nH,4,2,"ng-container",4),K(6,oH,4,2,"ng-container",4),K(7,sH,5,2,"ng-container",4),A()()()),2&r&&(x(3),P("src",i.imgSrc,or),x(1),P("ngIf",1===i.page),x(1),P("ngIf",8===i.page),x(1),P("ngIf",5===i.page),x(1),P("ngIf",i.page>1&&i.page<8))},dependencies:[gr,pn],styles:["[_ngcontent-%COMP%]:root{--page-blue: #81bacc;--ink: #0f2233;--paper: #ffffff;--comic-border: #0f0f0f}html[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;font-family:Rubik,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:url(nubes_portada.783bd1537aa19cdb.png) no-repeat center center fixed;background-size:cover}.stage[_ngcontent-%COMP%]{min-height:100dvh;display:grid;place-items:center;padding:0}.panel[_ngcontent-%COMP%]{display:flex;flaex-direction:column;gap:12px;width:950px;max-width:95%;height:auto;background:var(--page-blue);border:4px solid var(--comic-border);border-radius:12px;padding:20px;box-shadow:0 8px 16px #00000040}.comic[_ngcontent-%COMP%]{position:relative;margin:0 auto;height:100%;width:100%;max-height:700px;border-radius:6px;overflow:hidden}.scene[_ngcontent-%COMP%]{width:90%;height:auto;object-fit:contain;margin:0 auto;display:block}.btn-empezar[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:2}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,200px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-img[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-atras[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:-20px;z-index:2;display:inline-block}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-final[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-scratch[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:-20px;transform:translate(-50%);z-index:2;display:inline-block}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}"]})}}return e})()},{path:"Modulo2/:page",component:(()=>{class e{ngOnInit(){this.route.paramMap.subscribe(i=>{this.page=Number(i.get("page")||1),this.imgSrc=`assets/img/Modulo2/M2P${this.page}.png`;const o=Math.max(1,this.page-1),s=Math.min(this.lastPage,this.page+1);this.prevLink=`/Modulo2/${o}`,this.nextLink=`/Modulo2/${s}`});const t=new URLSearchParams(window.location.search);this.esMini="1"===t.get("mini"),document.body.classList.add("mini"),setTimeout(()=>this.scaleMiniToFit(),0),window.addEventListener("resize",this.resizeHandler);const r=()=>{const i=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed&&(window.opener.location.href=i,window.opener.focus())}catch{}};window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r)}constructor(t){this.route=t,this.page=1,this.lastPage=4,this.playPage=3,this.imgSrc="",this.prevLink="",this.nextLink="",this.endLink="/principal",this.scratchURL="https://hardware-for-education.github.io/Scratch_For_Education?modulo=modulo2.sb3",this.esMini=!1,this.resizeHandler=()=>this.scaleMiniToFit()}abrirScratch(t){t.preventDefault();const o=window.screenX??window.screenLeft??0,s=window.screenY??window.screenTop??0,a=window.outerWidth||window.innerWidth,c=window.outerHeight||window.innerHeight,u=Math.max(0,o+a-690),l=Math.max(0,s+c-600),d=["width=690","height=600",`left=${u}`,`top=${l}`,"resizable=yes","scrollbars=yes","menubar=no","toolbar=no","location=no","status=no"].join(","),f=this.construirMiniUrl(),h=window.open(f,"ventanaGuia",d);try{localStorage.setItem("returnTo",window.location.href)}catch{}if(h){try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}setTimeout(()=>{try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}},50),window.location.assign(this.scratchURL)}else window.open(this.scratchURL,"_blank"),alert("Activa las ventanas emergentes para ver la ventana flotante.")}construirMiniUrl(){const t=new URL(window.location.href);return t.searchParams.set("mini","1"),t.toString()}terminarYVolver(){const t=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed?(window.opener.location.href=t,window.opener.focus(),window.close()):window.location.href=t}catch{window.location.href=t}}scaleMiniToFit(){const t=document.getElementById("mini-root");if(!t)return;const o=.05*window.innerWidth,s=.05*window.innerHeight,a=window.innerWidth-2*o,c=window.innerHeight-2*s,u=Math.min(a/690,c/500);t.style.width="690px",t.style.height="500px",t.style.transform=`scale(${u})`,t.style.position="absolute",t.style.left=`${o+Math.max(0,(a-690*u)/2)}px`,t.style.top=`${s+Math.max(0,(c-500*u)/2)}px`}static{this.\u0275fac=function(r){return new(r||e)(D(hn))}}static{this.\u0275cmp=kt({type:e,selectors:[["app-pages-m2"]],decls:8,vars:5,consts:[[1,"stage"],[1,"panel"],["id","mini-root",1,"comic"],["alt","Escena",1,"scene",3,"src"],[4,"ngIf"],[1,"btn-empezar",3,"routerLink"],["src","assets/img/empezar.png","alt","Empezar"],["aria-label","Finalizar",1,"btn-final",3,"routerLink"],["src","assets/img/finalizar.png","alt","Finalizar"],["btnVolver",""],["class","btn-scratch",4,"ngIf","ngIfElse"],["href","http://localhost:8601","aria-label","Ir a Scratch",1,"btn-scratch",3,"click"],["src","assets/img/empezar.png","alt","Oprime"],[1,"btn-scratch"],["aria-label","Volver de Scratch",1,"btn-scratch",3,"click"],["src","assets/img/atr\xe1s.png","alt","Oprime"],["aria-label","Atr\xe1s",1,"btn-atras",3,"routerLink"],["src","assets/img/atr\xe1s.png","alt","Atr\xe1s"],["aria-label","Siguiente",1,"btn-img",3,"routerLink"],["src","assets/img/siguiente.png","alt","Siguiente"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1)(2,"figure",2),j(3,"img",3),K(4,cH,3,1,"ng-container",4),K(5,uH,3,1,"ng-container",4),K(6,fH,4,2,"ng-container",4),K(7,hH,5,2,"ng-container",4),A()()()),2&r&&(x(3),P("src",i.imgSrc,or),x(1),P("ngIf",1===i.page),x(1),P("ngIf",4===i.page),x(1),P("ngIf",3===i.page),x(1),P("ngIf",i.page>1&&i.page<4))},dependencies:[gr,pn],styles:["[_ngcontent-%COMP%]:root{--page-blue: #ff2300;--ink: #0f2233;--paper: #ffffff;--comic-border: #0f0f0f}html[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{margin:0;padding:0;width:100vw;height:100%;font-family:Rubik,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:url(nubes_portada.783bd1537aa19cdb.png) no-repeat center center fixed;background-size:cover}.stage[_ngcontent-%COMP%]{min-height:100dvh;display:grid;place-items:center;padding:0}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:950px;max-width:95%;height:auto;background:var(--page-blue);border:4px solid var(--comic-border);border-radius:12px;padding:20px;box-shadow:0 8px 16px #00000040}.comic[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:100%;max-height:700px;border-radius:6px;overflow:hidden}.scene[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;margin-top:-25px}.btn-empezar[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:2}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,200px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-final[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-atras[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:-20px;z-index:2;display:inline-block}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-scratch[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:-20px;transform:translate(-50%);z-index:2;display:inline-block}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-img[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}"]})}}return e})()},{path:"Modulo3/:page",component:(()=>{class e{ngOnInit(){this.route.paramMap.subscribe(i=>{this.page=Number(i.get("page")||1),this.imgSrc=`assets/img/Modulo3/M3P${this.page}.png`;const o=Math.max(1,this.page-1),s=Math.min(this.lastPage,this.page+1);this.prevLink=`/Modulo3/${o}`,this.nextLink=`/Modulo3/${s}`});const t=new URLSearchParams(window.location.search);this.esMini="1"===t.get("mini"),document.body.classList.add("mini"),setTimeout(()=>this.scaleMiniToFit(),0),window.addEventListener("resize",this.resizeHandler);const r=()=>{const i=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed&&(window.opener.location.href=i,window.opener.focus())}catch{}};window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r)}constructor(t){this.route=t,this.page=1,this.lastPage=5,this.playPage=4,this.imgSrc="",this.prevLink="",this.nextLink="",this.endLink="/principal",this.scratchURL="https://hardware-for-education.github.io/Scratch_For_Education?modulo=modulo3.sb3",this.esMini=!1,this.resizeHandler=()=>this.scaleMiniToFit()}abrirScratch(t){t.preventDefault();const o=window.screenX??window.screenLeft??0,s=window.screenY??window.screenTop??0,a=window.outerWidth||window.innerWidth,c=window.outerHeight||window.innerHeight,u=Math.max(0,o+a-690),l=Math.max(0,s+c-600),d=["width=690","height=600",`left=${u}`,`top=${l}`,"resizable=yes","scrollbars=yes","menubar=no","toolbar=no","location=no","status=no"].join(","),f=this.construirMiniUrl(),h=window.open(f,"ventanaGuia",d);try{localStorage.setItem("returnTo",window.location.href)}catch{}if(h){try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}setTimeout(()=>{try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}},50),window.location.assign(this.scratchURL)}else window.open(this.scratchURL,"_blank"),alert("Activa las ventanas emergentes para ver la ventana flotante.")}construirMiniUrl(){const t=new URL(window.location.href);return t.searchParams.set("mini","1"),t.toString()}terminarYVolver(){const t=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed?(window.opener.location.href=t,window.opener.focus(),window.close()):window.location.href=t}catch{window.location.href=t}}scaleMiniToFit(){const t=document.getElementById("mini-root");if(!t)return;const o=.05*window.innerWidth,s=.05*window.innerHeight,a=window.innerWidth-2*o,c=window.innerHeight-2*s,u=Math.min(a/690,c/500);t.style.width="690px",t.style.height="500px",t.style.transform=`scale(${u})`,t.style.position="absolute",t.style.left=`${o+Math.max(0,(a-690*u)/2)}px`,t.style.top=`${s+Math.max(0,(c-500*u)/2)}px`}static{this.\u0275fac=function(r){return new(r||e)(D(hn))}}static{this.\u0275cmp=kt({type:e,selectors:[["app-pages-m3"]],decls:8,vars:5,consts:[[1,"stage"],[1,"panel"],["id","mini-root",1,"comic"],["alt","Escena",1,"scene",3,"src"],[4,"ngIf"],[1,"btn-empezar",3,"routerLink"],["src","assets/img/empezar.png","alt","Empezar"],["aria-label","Finalizar",1,"btn-final",3,"routerLink"],["src","assets/img/finalizar.png","alt","Finalizar"],["btnVolver",""],["class","btn-scratch",4,"ngIf","ngIfElse"],["href","http://localhost:8601","aria-label","Ir a Scratch",1,"btn-scratch",3,"click"],["src","assets/img/empezar.png","alt","Oprime"],[1,"btn-scratch"],["aria-label","Volver de Scratch",1,"btn-scratch",3,"click"],["src","assets/img/atr\xe1s.png","alt","Oprime"],["aria-label","Atr\xe1s",1,"btn-atras",3,"routerLink"],["src","assets/img/atr\xe1s.png","alt","Atr\xe1s"],["aria-label","Siguiente",1,"btn-img",3,"routerLink"],["src","assets/img/siguiente.png","alt","Siguiente"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1)(2,"figure",2),j(3,"img",3),K(4,gH,3,1,"ng-container",4),K(5,mH,3,1,"ng-container",4),K(6,_H,4,2,"ng-container",4),K(7,wH,5,2,"ng-container",4),A()()()),2&r&&(x(3),P("src",i.imgSrc,or),x(1),P("ngIf",1===i.page),x(1),P("ngIf",5===i.page),x(1),P("ngIf",3===i.page),x(1),P("ngIf",i.page>1&&i.page<5))},dependencies:[gr,pn],styles:["[_ngcontent-%COMP%]:root{--page-blue: #ff2300;--ink: #0f2233;--paper: #ffffff;--comic-border: #0f0f0f}html[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{margin:0;padding:0;width:100vw;height:100%;font-family:Rubik,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:url(nubes_portada.783bd1537aa19cdb.png) no-repeat center center fixed;background-size:cover}.stage[_ngcontent-%COMP%]{min-height:100dvh;display:grid;place-items:center;padding:0}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:950px;max-width:95%;height:auto;background:var(--page-blue);border:4px solid var(--comic-border);border-radius:12px;padding:20px;box-shadow:0 8px 16px #00000040}.comic[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:100%;max-height:700px;border-radius:6px;overflow:hidden}.scene[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;margin-top:-25px}.btn-empezar[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:2}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,200px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-final[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-atras[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:-20px;z-index:2;display:inline-block}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-scratch[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:-20px;transform:translate(-50%);z-index:2;display:inline-block}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-img[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}"]})}}return e})()},{path:"Modulo4/:page",component:(()=>{class e{ngOnInit(){this.route.paramMap.subscribe(i=>{this.page=Number(i.get("page")||1),this.imgSrc=`assets/img/Modulo4/M4P${this.page}.png`;const o=Math.max(1,this.page-1),s=Math.min(this.lastPage,this.page+1);this.prevLink=`/Modulo4/${o}`,this.nextLink=`/Modulo4/${s}`});const t=new URLSearchParams(window.location.search);this.esMini="1"===t.get("mini"),document.body.classList.add("mini"),setTimeout(()=>this.scaleMiniToFit(),0),window.addEventListener("resize",this.resizeHandler);const r=()=>{const i=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed&&(window.opener.location.href=i,window.opener.focus())}catch{}};window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r)}constructor(t){this.route=t,this.page=1,this.lastPage=4,this.playPage=3,this.imgSrc="",this.prevLink="",this.nextLink="",this.endLink="/principal",this.scratchURL="https://hardware-for-education.github.io/Scratch_For_Education?modulo=modulo4.sb3",this.esMini=!1,this.resizeHandler=()=>this.scaleMiniToFit()}abrirScratch(t){t.preventDefault();const o=window.screenX??window.screenLeft??0,s=window.screenY??window.screenTop??0,a=window.outerWidth||window.innerWidth,c=window.outerHeight||window.innerHeight,u=Math.max(0,o+a-690),l=Math.max(0,s+c-600),d=["width=690","height=600",`left=${u}`,`top=${l}`,"resizable=yes","scrollbars=yes","menubar=no","toolbar=no","location=no","status=no"].join(","),f=this.construirMiniUrl(),h=window.open(f,"ventanaGuia",d);try{localStorage.setItem("returnTo",window.location.href)}catch{}if(h){try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}setTimeout(()=>{try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}},50),window.location.assign(this.scratchURL)}else window.open(this.scratchURL,"_blank"),alert("Activa las ventanas emergentes para ver la ventana flotante.")}construirMiniUrl(){const t=new URL(window.location.href);return t.searchParams.set("mini","1"),t.toString()}terminarYVolver(){const t=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed?(window.opener.location.href=t,window.opener.focus(),window.close()):window.location.href=t}catch{window.location.href=t}}scaleMiniToFit(){const t=document.getElementById("mini-root");if(!t)return;const o=.05*window.innerWidth,s=.05*window.innerHeight,a=window.innerWidth-2*o,c=window.innerHeight-2*s,u=Math.min(a/690,c/500);t.style.width="690px",t.style.height="500px",t.style.transform=`scale(${u})`,t.style.position="absolute",t.style.left=`${o+Math.max(0,(a-690*u)/2)}px`,t.style.top=`${s+Math.max(0,(c-500*u)/2)}px`}static{this.\u0275fac=function(r){return new(r||e)(D(hn))}}static{this.\u0275cmp=kt({type:e,selectors:[["app-pages-m4"]],decls:8,vars:5,consts:[[1,"stage"],[1,"panel"],["id","mini-root",1,"comic"],["alt","Escena",1,"scene",3,"src"],[4,"ngIf"],[1,"btn-empezar",3,"routerLink"],["src","assets/img/empezar.png","alt","Empezar"],["aria-label","Finalizar",1,"btn-final",3,"routerLink"],["src","assets/img/finalizar.png","alt","Finalizar"],["btnVolver",""],["class","btn-scratch",4,"ngIf","ngIfElse"],["href","http://localhost:8601","aria-label","Ir a Scratch",1,"btn-scratch",3,"click"],["src","assets/img/empezar.png","alt","Oprime"],[1,"btn-scratch"],["aria-label","Volver de Scratch",1,"btn-scratch",3,"click"],["src","assets/img/atr\xe1s.png","alt","Oprime"],["aria-label","Atr\xe1s",1,"btn-atras",3,"routerLink"],["src","assets/img/atr\xe1s.png","alt","Atr\xe1s"],["aria-label","Siguiente",1,"btn-img",3,"routerLink"],["src","assets/img/siguiente.png","alt","Siguiente"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1)(2,"figure",2),j(3,"img",3),K(4,CH,3,1,"ng-container",4),K(5,DH,3,1,"ng-container",4),K(6,MH,4,2,"ng-container",4),K(7,IH,5,2,"ng-container",4),A()()()),2&r&&(x(3),P("src",i.imgSrc,or),x(1),P("ngIf",1===i.page),x(1),P("ngIf",4===i.page),x(1),P("ngIf",3===i.page),x(1),P("ngIf",i.page>1&&i.page<4))},dependencies:[gr,pn],styles:["[_ngcontent-%COMP%]:root{--page-blue: #ff2300;--ink: #0f2233;--paper: #ffffff;--comic-border: #0f0f0f}html[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{margin:0;padding:0;width:100vw;height:100%;font-family:Rubik,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:url(nubes_portada.783bd1537aa19cdb.png) no-repeat center center fixed;background-size:cover}.stage[_ngcontent-%COMP%]{min-height:100dvh;display:grid;place-items:center;padding:0}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:950px;max-width:95%;height:auto;background:var(--page-blue);border:4px solid var(--comic-border);border-radius:12px;padding:20px;box-shadow:0 8px 16px #00000040}.comic[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:100%;max-height:700px;border-radius:6px;overflow:hidden}.scene[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;margin-top:-25px}.btn-empezar[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:2}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,200px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-final[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-atras[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:-20px;z-index:2;display:inline-block}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-scratch[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:-20px;transform:translate(-50%);z-index:2;display:inline-block}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-img[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}"]})}}return e})()},{path:"Modulo5/:page",component:(()=>{class e{ngOnInit(){this.route.paramMap.subscribe(i=>{this.page=Number(i.get("page")||1),this.imgSrc=`assets/img/Modulo5/M5P${this.page}.png`;const o=Math.max(1,this.page-1),s=Math.min(this.lastPage,this.page+1);this.prevLink=`/Modulo5/${o}`,this.nextLink=`/Modulo5/${s}`});const t=new URLSearchParams(window.location.search);this.esMini="1"===t.get("mini"),document.body.classList.add("mini"),setTimeout(()=>this.scaleMiniToFit(),0),window.addEventListener("resize",this.resizeHandler);const r=()=>{const i=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed&&(window.opener.location.href=i,window.opener.focus())}catch{}};window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r)}constructor(t){this.route=t,this.page=1,this.lastPage=7,this.playPage=5,this.imgSrc="",this.prevLink="",this.nextLink="",this.endLink="/principal",this.scratchURL="https://hardware-for-education.github.io/Scratch_For_Education?modulo=modulo5.sb3",this.esMini=!1,this.resizeHandler=()=>this.scaleMiniToFit()}abrirScratch(t){t.preventDefault();const o=window.screenX??window.screenLeft??0,s=window.screenY??window.screenTop??0,a=window.outerWidth||window.innerWidth,c=window.outerHeight||window.innerHeight,u=Math.max(0,o+a-690),l=Math.max(0,s+c-600),d=["width=690","height=600",`left=${u}`,`top=${l}`,"resizable=yes","scrollbars=yes","menubar=no","toolbar=no","location=no","status=no"].join(","),f=this.construirMiniUrl(),h=window.open(f,"ventanaGuia",d);try{localStorage.setItem("returnTo",window.location.href)}catch{}if(h){try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}setTimeout(()=>{try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}},50),window.location.assign(this.scratchURL)}else window.open(this.scratchURL,"_blank"),alert("Activa las ventanas emergentes para ver la ventana flotante.")}construirMiniUrl(){const t=new URL(window.location.href);return t.searchParams.set("mini","1"),t.toString()}terminarYVolver(){const t=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed?(window.opener.location.href=t,window.opener.focus(),window.close()):window.location.href=t}catch{window.location.href=t}}scaleMiniToFit(){const t=document.getElementById("mini-root");if(!t)return;const o=.05*window.innerWidth,s=.05*window.innerHeight,a=window.innerWidth-2*o,c=window.innerHeight-2*s,u=Math.min(a/690,c/500);t.style.width="690px",t.style.height="500px",t.style.transform=`scale(${u})`,t.style.position="absolute",t.style.left=`${o+Math.max(0,(a-690*u)/2)}px`,t.style.top=`${s+Math.max(0,(c-500*u)/2)}px`}static{this.\u0275fac=function(r){return new(r||e)(D(hn))}}static{this.\u0275cmp=kt({type:e,selectors:[["app-pages-m5"]],decls:8,vars:5,consts:[[1,"stage"],[1,"panel"],["id","mini-root",1,"comic"],["alt","Escena",1,"scene",3,"src"],[4,"ngIf"],[1,"btn-empezar",3,"routerLink"],["src","assets/img/empezar.png","alt","Empezar"],["aria-label","Finalizar",1,"btn-final",3,"routerLink"],["src","assets/img/finalizar.png","alt","Finalizar"],["btnVolver",""],["class","btn-scratch",4,"ngIf","ngIfElse"],["href","http://localhost:8601","aria-label","Ir a Scratch",1,"btn-scratch",3,"click"],["src","assets/img/empezar.png","alt","Oprime"],[1,"btn-scratch"],["aria-label","Volver de Scratch",1,"btn-scratch",3,"click"],["src","assets/img/atr\xe1s.png","alt","Oprime"],["aria-label","Atr\xe1s",1,"btn-atras",3,"routerLink"],["src","assets/img/atr\xe1s.png","alt","Atr\xe1s"],["aria-label","Siguiente",1,"btn-img",3,"routerLink"],["src","assets/img/siguiente.png","alt","Siguiente"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1)(2,"figure",2),j(3,"img",3),K(4,AH,3,1,"ng-container",4),K(5,xH,3,1,"ng-container",4),K(6,RH,4,2,"ng-container",4),K(7,kH,5,2,"ng-container",4),A()()()),2&r&&(x(3),P("src",i.imgSrc,or),x(1),P("ngIf",1===i.page),x(1),P("ngIf",7===i.page),x(1),P("ngIf",5===i.page),x(1),P("ngIf",i.page>1&&i.page<7))},dependencies:[gr,pn],styles:["[_ngcontent-%COMP%]:root{--page-blue: #ff2300;--ink: #0f2233;--paper: #ffffff;--comic-border: #0f0f0f}html[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{margin:0;padding:0;width:100vw;height:100%;font-family:Rubik,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:url(nubes_portada.783bd1537aa19cdb.png) no-repeat center center fixed;background-size:cover}.stage[_ngcontent-%COMP%]{min-height:100dvh;display:grid;place-items:center;padding:0}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:950px;max-width:95%;height:auto;background:var(--page-blue);border:4px solid var(--comic-border);border-radius:12px;padding:20px;box-shadow:0 8px 16px #00000040}.comic[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:100%;max-height:700px;border-radius:6px;overflow:hidden}.scene[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;margin-top:-25px}.btn-empezar[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:2}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,200px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-final[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-atras[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:-20px;z-index:2;display:inline-block}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-scratch[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:-20px;transform:translate(-50%);z-index:2;display:inline-block}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-img[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}"]})}}return e})()},{path:"Modulo6/:page",component:(()=>{class e{ngOnInit(){this.route.paramMap.subscribe(i=>{this.page=Number(i.get("page")||1),this.imgSrc=`assets/img/Modulo6/M6P${this.page}.png`;const o=Math.max(1,this.page-1),s=Math.min(this.lastPage,this.page+1);this.prevLink=`/Modulo6/${o}`,this.nextLink=`/Modulo6/${s}`});const t=new URLSearchParams(window.location.search);this.esMini="1"===t.get("mini"),document.body.classList.add("mini"),setTimeout(()=>this.scaleMiniToFit(),0),window.addEventListener("resize",this.resizeHandler);const r=()=>{const i=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed&&(window.opener.location.href=i,window.opener.focus())}catch{}};window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r)}constructor(t){this.route=t,this.page=1,this.lastPage=6,this.playPage=5,this.imgSrc="",this.prevLink="",this.nextLink="",this.endLink="/principal",this.scratchURL="https://hardware-for-education.github.io/Scratch_For_Education?modulo=modulo6.sb3",this.esMini=!1,this.resizeHandler=()=>this.scaleMiniToFit()}abrirScratch(t){t.preventDefault();const o=window.screenX??window.screenLeft??0,s=window.screenY??window.screenTop??0,a=window.outerWidth||window.innerWidth,c=window.outerHeight||window.innerHeight,u=Math.max(0,o+a-690),l=Math.max(0,s+c-600),d=["width=690","height=600",`left=${u}`,`top=${l}`,"resizable=yes","scrollbars=yes","menubar=no","toolbar=no","location=no","status=no"].join(","),f=this.construirMiniUrl(),h=window.open(f,"ventanaGuia",d);try{localStorage.setItem("returnTo",window.location.href)}catch{}if(h){try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}setTimeout(()=>{try{h.moveTo(u,l),h.resizeTo(690,600)}catch{}},50),window.location.assign(this.scratchURL)}else window.open(this.scratchURL,"_blank"),alert("Activa las ventanas emergentes para ver la ventana flotante.")}construirMiniUrl(){const t=new URL(window.location.href);return t.searchParams.set("mini","1"),t.toString()}terminarYVolver(){const t=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed?(window.opener.location.href=t,window.opener.focus(),window.close()):window.location.href=t}catch{window.location.href=t}}scaleMiniToFit(){const t=document.getElementById("mini-root");if(!t)return;const o=.05*window.innerWidth,s=.05*window.innerHeight,a=window.innerWidth-2*o,c=window.innerHeight-2*s,u=Math.min(a/690,c/500);t.style.width="690px",t.style.height="500px",t.style.transform=`scale(${u})`,t.style.position="absolute",t.style.left=`${o+Math.max(0,(a-690*u)/2)}px`,t.style.top=`${s+Math.max(0,(c-500*u)/2)}px`}static{this.\u0275fac=function(r){return new(r||e)(D(hn))}}static{this.\u0275cmp=kt({type:e,selectors:[["app-pages-m6"]],decls:8,vars:5,consts:[[1,"stage"],[1,"panel"],["id","mini-root",1,"comic"],["alt","Escena",1,"scene",3,"src"],[4,"ngIf"],[1,"btn-empezar",3,"routerLink"],["src","assets/img/empezar.png","alt","Empezar"],["aria-label","Finalizar",1,"btn-final",3,"routerLink"],["src","assets/img/finalizar.png","alt","Finalizar"],["btnVolver",""],["class","btn-scratch",4,"ngIf","ngIfElse"],["href","http://localhost:8601","aria-label","Ir a Scratch",1,"btn-scratch",3,"click"],["src","assets/img/empezar.png","alt","Oprime"],[1,"btn-scratch"],["aria-label","Volver de Scratch",1,"btn-scratch",3,"click"],["src","assets/img/atr\xe1s.png","alt","Oprime"],["aria-label","Atr\xe1s",1,"btn-atras",3,"routerLink"],["src","assets/img/atr\xe1s.png","alt","Atr\xe1s"],["aria-label","Siguiente",1,"btn-img",3,"routerLink"],["src","assets/img/siguiente.png","alt","Siguiente"]],template:function(r,i){1&r&&(T(0,"main",0)(1,"section",1)(2,"figure",2),j(3,"img",3),K(4,FH,3,1,"ng-container",4),K(5,LH,3,1,"ng-container",4),K(6,$H,4,2,"ng-container",4),K(7,UH,5,2,"ng-container",4),A()()()),2&r&&(x(3),P("src",i.imgSrc,or),x(1),P("ngIf",1===i.page),x(1),P("ngIf",6===i.page),x(1),P("ngIf",5===i.page),x(1),P("ngIf",i.page>1&&i.page<6))},dependencies:[gr,pn],styles:["[_ngcontent-%COMP%]:root{--page-blue: #ff2300;--ink: #0f2233;--paper: #ffffff;--comic-border: #0f0f0f}html[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{margin:0;padding:0;width:100vw;height:100%;font-family:Rubik,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:url(nubes_portada.783bd1537aa19cdb.png) no-repeat center center fixed;background-size:cover}.stage[_ngcontent-%COMP%]{min-height:100dvh;display:grid;place-items:center;padding:0}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:950px;max-width:95%;height:auto;background:var(--page-blue);border:4px solid var(--comic-border);border-radius:12px;padding:20px;box-shadow:0 8px 16px #00000040}.comic[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:100%;max-height:700px;border-radius:6px;overflow:hidden}.scene[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;margin-top:-25px}.btn-empezar[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:2}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,200px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-final[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-atras[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:-20px;z-index:2;display:inline-block}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-scratch[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:-20px;transform:translate(-50%);z-index:2;display:inline-block}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-img[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}"]})}}return e})()},{path:"**",redirectTo:""}];let HH=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=wn({type:e})}static{this.\u0275inj=sn({imports:[MD.forRoot(BH),MD]})}}return e})(),zH=(()=>{class e{constructor(){this.title="front"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=kt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&j(0,"router-outlet")},dependencies:[tp]})}}return e})();class cl{}class ul{}class Kn{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Kn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Kn;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Kn?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class GH{encodeKey(n){return _S(n)}encodeValue(n){return _S(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const WH=/%(\d[a-f0-9])/gi,KH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _S(e){return encodeURIComponent(e).replace(WH,(n,t)=>KH[t]??n)}function ll(e){return`${e}`}class qr{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new GH,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qH(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(ll):[ll(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new qr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(ll(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(ll(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class JH{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function wS(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function bS(e){return typeof Blob<"u"&&e instanceof Blob}function CS(e){return typeof FormData<"u"&&e instanceof FormData}class Ia{constructor(n,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function YH(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Kn),this.context||(this.context=new JH),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new qr,this.urlWithParams=t}serializeBody(){return null===this.body?null:wS(this.body)||bS(this.body)||CS(this.body)||function ZH(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CS(this.body)?null:bS(this.body)?this.body.type||null:wS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let c=n.headers||this.headers,u=n.params||this.params;const l=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((d,f)=>d.set(f,n.setHeaders[f]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((d,f)=>d.set(f,n.setParams[f]),u)),new Ia(t,r,o,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var Go=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Go||{});class cg{constructor(n,t=200,r="OK"){this.headers=n.headers||new Kn,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class ug extends cg{constructor(n={}){super(n),this.type=Go.ResponseHeader}clone(n={}){return new ug({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class qo extends cg{constructor(n={}){super(n),this.type=Go.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new qo({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class DS extends cg{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function lg(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let QH=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ia)o=t;else{let c,u;c=i.headers instanceof Kn?i.headers:new Kn(i.headers),i.params&&(u=i.params instanceof qr?i.params:new qr({fromObject:i.params})),o=new Ia(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=H(o).pipe(Eo(c=>this.handler.handle(c)));if(t instanceof Ia||"events"===i.observe)return s;const a=s.pipe(mr(c=>c instanceof qo));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(me(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(me(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new qr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,lg(i,r))}post(t,r,i={}){return this.request("POST",t,lg(i,r))}put(t,r,i={}){return this.request("PUT",t,lg(i,r))}static{this.\u0275fac=function(r){return new(r||e)(L(cl))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function MS(e,n){return n(e)}function e3(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const n3=new N(""),Ta=new N(""),IS=new N("");function r3(){let e=null;return(n,t)=>{null===e&&(e=(k(n3,{optional:!0})??[]).reduceRight(e3,MS));const r=k(Qc),i=r.add();return e(n,t).pipe(Qs(()=>r.remove(i)))}}let TS=(()=>{class e extends cl{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=k(Qc)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ta),...this.injector.get(IS,[])]));this.chain=i.reduceRight((o,s)=>function t3(e,n,t){return(r,i)=>t.runInContext(()=>n(r,o=>e(o,i)))}(o,s,this.injector),MS)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Qs(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(L(ul),L(Kt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const a3=/^\)\]\}',?\n/;let xS=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new E(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?tt(r.\u0275loadImpl()):H(null)).pipe(vn(()=>new ze(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const g=t.detectContentTypeHeader();null!==g&&s.setRequestHeader("Content-Type",g)}if(t.responseType){const g=t.responseType.toLowerCase();s.responseType="json"!==g?g:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const g=s.statusText||"OK",m=new Kn(s.getAllResponseHeaders()),_=function c3(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new ug({headers:m,status:s.status,statusText:g,url:_}),c},l=()=>{let{headers:g,status:m,statusText:_,url:v}=u(),M=null;204!==m&&(M=typeof s.response>"u"?s.responseText:s.response),0===m&&(m=M?200:0);let S=m>=200&&m<300;if("json"===t.responseType&&"string"==typeof M){const I=M;M=M.replace(a3,"");try{M=""!==M?JSON.parse(M):null}catch(ne){M=I,S&&(S=!1,M={error:ne,text:M})}}S?(o.next(new qo({body:M,headers:g,status:m,statusText:_,url:v||void 0})),o.complete()):o.error(new DS({error:M,headers:g,status:m,statusText:_,url:v||void 0}))},d=g=>{const{url:m}=u(),_=new DS({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(_)};let f=!1;const h=g=>{f||(o.next(u()),f=!0);let m={type:Go.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===t.responseType&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=g=>{let m={type:Go.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",h),null!==a&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Go.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",h),null!==a&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(L(Z0))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const dg=new N("XSRF_ENABLED"),OS=new N("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),PS=new N("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class RS{}let d3=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=U0(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(L(Qt),L(ri),L(OS))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function f3(e,n){const t=e.url.toLowerCase();if(!k(dg)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=k(RS).getToken(),i=k(PS);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Wr=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Wr||{});function Ci(e,n){return{\u0275kind:e,\u0275providers:n}}function h3(...e){const n=[QH,xS,TS,{provide:cl,useExisting:TS},{provide:ul,useExisting:xS},{provide:Ta,useValue:f3,multi:!0},{provide:dg,useValue:!0},{provide:RS,useClass:d3}];for(const t of e)n.push(...t.\u0275providers);return function Pd(e){return{\u0275providers:e}}(n)}const kS=new N("LEGACY_INTERCEPTOR_FN");let g3=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=wn({type:e})}static{this.\u0275inj=sn({providers:[h3(Ci(Wr.LegacyInterceptors,[{provide:kS,useFactory:r3},{provide:Ta,useExisting:kS,multi:!0}]))]})}}return e})(),b3=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=wn({type:e,bootstrap:[zH]})}static{this.\u0275inj=sn({imports:[KL,g3,HH,yS,vS]})}}return e})();qL().bootstrapModule(b3).catch(e=>console.error(e))},286:(ht,re,ie)=>{"use strict";ie.r(re),ie.d(re,{Headers:()=>w,Request:()=>b,Response:()=>O,default:()=>ae,fetch:()=>$e});var se=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const $e=se.fetch,ae=se.fetch.bind(se),w=se.Headers,b=se.Request,O=se.Response},958:function(ht,re,ie){"use strict";var U=ie(293).default,se=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(re,"__esModule",{value:!0});const $e=se(ie(286)),ae=se(ie(659));re.default=class w{constructor(O){var F,B;this.shouldThrowOnError=!1,this.method=O.method,this.url=O.url,this.headers=new Headers(O.headers),this.schema=O.schema,this.body=O.body,this.shouldThrowOnError=null!==(F=O.shouldThrowOnError)&&void 0!==F&&F,this.signal=O.signal,this.isMaybeSingle=null!==(B=O.isMaybeSingle)&&void 0!==B&&B,this.fetch=O.fetch?O.fetch:typeof fetch>"u"?$e.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(O,F){return this.headers=new Headers(this.headers),this.headers.set(O,F),this}then(O,F){var B=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let Re=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var le=U(function*(Ne){var pt,tn,nn,Xe;let ot=null,wt=null,Kr=null,Jr=Ne.status,Yn=Ne.statusText;if(Ne.ok){if("HEAD"!==B.method){const Di=yield Ne.text();""===Di||(wt="text/csv"===B.headers.get("Accept")||B.headers.get("Accept")&&null!==(pt=B.headers.get("Accept"))&&void 0!==pt&&pt.includes("application/vnd.pgrst.plan+text")?Di:JSON.parse(Di))}const gn=null===(tn=B.headers.get("Prefer"))||void 0===tn?void 0:tn.match(/count=(exact|planned|estimated)/),Zn=null===(nn=Ne.headers.get("content-range"))||void 0===nn?void 0:nn.split("/");gn&&Zn&&Zn.length>1&&(Kr=parseInt(Zn[1])),B.isMaybeSingle&&"GET"===B.method&&Array.isArray(wt)&&(wt.length>1?(ot={code:"PGRST116",details:`Results contain ${wt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},wt=null,Kr=null,Jr=406,Yn="Not Acceptable"):wt=1===wt.length?wt[0]:null)}else{const gn=yield Ne.text();try{ot=JSON.parse(gn),Array.isArray(ot)&&404===Ne.status&&(wt=[],ot=null,Jr=200,Yn="OK")}catch{404===Ne.status&&""===gn?(Jr=204,Yn="No Content"):ot={message:gn}}if(ot&&B.isMaybeSingle&&!(null===(Xe=ot?.details)||void 0===Xe)&&Xe.includes("0 rows")&&(ot=null,Jr=200,Yn="OK"),ot&&B.shouldThrowOnError)throw new ae.default(ot)}return{error:ot,data:wt,count:Kr,status:Jr,statusText:Yn}});return function(Ne){return le.apply(this,arguments)}}());return this.shouldThrowOnError||(Re=Re.catch(le=>{var Ne,pt,tn;return{error:{message:`${null!==(Ne=le?.name)&&void 0!==Ne?Ne:"FetchError"}: ${le?.message}`,details:`${null!==(pt=le?.stack)&&void 0!==pt?pt:""}`,hint:"",code:`${null!==(tn=le?.code)&&void 0!==tn?tn:""}`},data:null,count:null,status:0,statusText:""}})),Re.then(O,F)}returns(){return this}overrideTypes(){return this}}},242:function(ht,re,ie){"use strict";var U=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(re,"__esModule",{value:!0});const se=U(ie(666)),$e=U(ie(608));class ae{constructor(b,{headers:O={},schema:F,fetch:B}={}){this.url=b,this.headers=new Headers(O),this.schemaName=F,this.fetch=B}from(b){const O=new URL(`${this.url}/${b}`);return new se.default(O,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(b){return new ae(this.url,{headers:this.headers,schema:b,fetch:this.fetch})}rpc(b,O={},{head:F=!1,get:B=!1,count:pe}={}){var Re;let le;const Ne=new URL(`${this.url}/rpc/${b}`);let pt;F||B?(le=F?"HEAD":"GET",Object.entries(O).filter(([nn,Xe])=>void 0!==Xe).map(([nn,Xe])=>[nn,Array.isArray(Xe)?`{${Xe.join(",")}}`:`${Xe}`]).forEach(([nn,Xe])=>{Ne.searchParams.append(nn,Xe)})):(le="POST",pt=O);const tn=new Headers(this.headers);return pe&&tn.set("Prefer",`count=${pe}`),new $e.default({method:le,url:Ne,headers:tn,schema:this.schemaName,body:pt,fetch:null!==(Re=this.fetch)&&void 0!==Re?Re:fetch})}}re.default=ae},659:(ht,re)=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});class ie extends Error{constructor(se){super(se.message),this.name="PostgrestError",this.details=se.details,this.hint=se.hint,this.code=se.code}}re.default=ie},608:function(ht,re,ie){"use strict";var U=this&&this.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(re,"__esModule",{value:!0});const se=U(ie(342));re.default=class $e extends se.default{eq(w,b){return this.url.searchParams.append(w,`eq.${b}`),this}neq(w,b){return this.url.searchParams.append(w,`neq.${b}`),this}gt(w,b){return this.url.searchParams.append(w,`gt.${b}`),this}gte(w,b){return this.url.searchParams.append(w,`gte.${b}`),this}lt(w,b){return this.url.searchParams.append(w,`lt.${b}`),this}lte(w,b){return this.url.searchParams.append(w,`lte.${b}`),this}like(w,b){return this.url.searchParams.append(w,`like.${b}`),this}likeAllOf(w,b){return this.url.searchParams.append(w,`like(all).{${b.join(",")}}`),this}likeAnyOf(w,b){return this.url.searchParams.append(w,`like(any).{${b.join(",")}}`),this}ilike(w,b){return this.url.searchParams.append(w,`ilike.${b}`),this}ilikeAllOf(w,b){return this.url.searchParams.append(w,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(w,b){return this.url.searchParams.append(w,`ilike(any).{${b.join(",")}}`),this}is(w,b){return this.url.searchParams.append(w,`is.${b}`),this}in(w,b){const O=Array.from(new Set(b)).map(F=>"string"==typeof F&&new RegExp("[,()]").test(F)?`"${F}"`:`${F}`).join(",");return this.url.searchParams.append(w,`in.(${O})`),this}contains(w,b){return"string"==typeof b?this.url.searchParams.append(w,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(w,`cs.{${b.join(",")}}`):this.url.searchParams.append(w,`cs.${JSON.stringify(b)}`),this}containedBy(w,b){return"string"==typeof b?this.url.searchParams.append(w,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(w,`cd.{${b.join(",")}}`):this.url.searchParams.append(w,`cd.${JSON.stringify(b)}`),this}rangeGt(w,b){return this.url.searchParams.append(w,`sr.${b}`),this}rangeGte(w,b){return this.url.searchParams.append(w,`nxl.${b}`),this}rangeLt(w,b){return this.url.searchParams.append(w,`sl.${b}`),this}rangeLte(w,b){return this.url.searchParams.append(w,`nxr.${b}`),this}rangeAdjacent(w,b){return this.url.searchParams.append(w,`adj.${b}`),this}overlaps(w,b){return this.url.searchParams.append(w,"string"==typeof b?`ov.${b}`:`ov.{${b.join(",")}}`),this}textSearch(w,b,{config:O,type:F}={}){let B="";return"plain"===F?B="pl":"phrase"===F?B="ph":"websearch"===F&&(B="w"),this.url.searchParams.append(w,`${B}fts${void 0===O?"":`(${O})`}.${b}`),this}match(w){return Object.entries(w).forEach(([b,O])=>{this.url.searchParams.append(b,`eq.${O}`)}),this}not(w,b,O){return this.url.searchParams.append(w,`not.${b}.${O}`),this}or(w,{foreignTable:b,referencedTable:O=b}={}){return this.url.searchParams.append(O?`${O}.or`:"or",`(${w})`),this}filter(w,b,O){return this.url.searchParams.append(w,`${b}.${O}`),this}}},666:function(ht,re,ie){"use strict";var U=this&&this.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(re,"__esModule",{value:!0});const se=U(ie(608));re.default=class $e{constructor(w,{headers:b={},schema:O,fetch:F}){this.url=w,this.headers=new Headers(b),this.schema=O,this.fetch=F}select(w,b){const{head:O=!1,count:F}=b??{},B=O?"HEAD":"GET";let pe=!1;const Re=(w??"*").split("").map(le=>/\s/.test(le)&&!pe?"":('"'===le&&(pe=!pe),le)).join("");return this.url.searchParams.set("select",Re),F&&this.headers.append("Prefer",`count=${F}`),new se.default({method:B,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(w,{count:b,defaultToNull:O=!0}={}){var F;if(b&&this.headers.append("Prefer",`count=${b}`),O||this.headers.append("Prefer","missing=default"),Array.isArray(w)){const pe=w.reduce((Re,le)=>Re.concat(Object.keys(le)),[]);if(pe.length>0){const Re=[...new Set(pe)].map(le=>`"${le}"`);this.url.searchParams.set("columns",Re.join(","))}}return new se.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:w,fetch:null!==(F=this.fetch)&&void 0!==F?F:fetch})}upsert(w,{onConflict:b,ignoreDuplicates:O=!1,count:F,defaultToNull:B=!0}={}){var pe;if(this.headers.append("Prefer",`resolution=${O?"ignore":"merge"}-duplicates`),void 0!==b&&this.url.searchParams.set("on_conflict",b),F&&this.headers.append("Prefer",`count=${F}`),B||this.headers.append("Prefer","missing=default"),Array.isArray(w)){const le=w.reduce((Ne,pt)=>Ne.concat(Object.keys(pt)),[]);if(le.length>0){const Ne=[...new Set(le)].map(pt=>`"${pt}"`);this.url.searchParams.set("columns",Ne.join(","))}}return new se.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:w,fetch:null!==(pe=this.fetch)&&void 0!==pe?pe:fetch})}update(w,{count:b}={}){var O;return b&&this.headers.append("Prefer",`count=${b}`),new se.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:w,fetch:null!==(O=this.fetch)&&void 0!==O?O:fetch})}delete({count:w}={}){var b;return w&&this.headers.append("Prefer",`count=${w}`),new se.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(b=this.fetch)&&void 0!==b?b:fetch})}}},342:function(ht,re,ie){"use strict";var U=this&&this.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(re,"__esModule",{value:!0});const se=U(ie(958));re.default=class $e extends se.default{select(w){let b=!1;const O=(w??"*").split("").map(F=>/\s/.test(F)&&!b?"":('"'===F&&(b=!b),F)).join("");return this.url.searchParams.set("select",O),this.headers.append("Prefer","return=representation"),this}order(w,{ascending:b=!0,nullsFirst:O,foreignTable:F,referencedTable:B=F}={}){const pe=B?`${B}.order`:"order",Re=this.url.searchParams.get(pe);return this.url.searchParams.set(pe,`${Re?`${Re},`:""}${w}.${b?"asc":"desc"}${void 0===O?"":O?".nullsfirst":".nullslast"}`),this}limit(w,{foreignTable:b,referencedTable:O=b}={}){return this.url.searchParams.set(typeof O>"u"?"limit":`${O}.limit`,`${w}`),this}range(w,b,{foreignTable:O,referencedTable:F=O}={}){const pe=typeof F>"u"?"limit":`${F}.limit`;return this.url.searchParams.set(typeof F>"u"?"offset":`${F}.offset`,`${w}`),this.url.searchParams.set(pe,""+(b-w+1)),this}abortSignal(w){return this.signal=w,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:w=!1,verbose:b=!1,settings:O=!1,buffers:F=!1,wal:B=!1,format:pe="text"}={}){var Re;const le=[w?"analyze":null,b?"verbose":null,O?"settings":null,F?"buffers":null,B?"wal":null].filter(Boolean).join("|"),Ne=null!==(Re=this.headers.get("Accept"))&&void 0!==Re?Re:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${pe}; for="${Ne}"; options=${le};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(w){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${w}`),this}}},60:function(ht,re,ie){"use strict";var U=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(re,"__esModule",{value:!0}),re.PostgrestError=re.PostgrestBuilder=re.PostgrestTransformBuilder=re.PostgrestFilterBuilder=re.PostgrestQueryBuilder=re.PostgrestClient=void 0;const se=U(ie(242));re.PostgrestClient=se.default;const $e=U(ie(666));re.PostgrestQueryBuilder=$e.default;const ae=U(ie(608));re.PostgrestFilterBuilder=ae.default;const w=U(ie(342));re.PostgrestTransformBuilder=w.default;const b=U(ie(958));re.PostgrestBuilder=b.default;const O=U(ie(659));re.PostgrestError=O.default,re.default={PostgrestClient:se.default,PostgrestQueryBuilder:$e.default,PostgrestFilterBuilder:ae.default,PostgrestTransformBuilder:w.default,PostgrestBuilder:b.default,PostgrestError:O.default}},293:ht=>{function re(U,se,$e,ae,w,b,O){try{var F=U[b](O),B=F.value}catch(pe){return void $e(pe)}F.done?se(B):Promise.resolve(B).then(ae,w)}ht.exports=function ie(U){return function(){var se=this,$e=arguments;return new Promise(function(ae,w){var b=U.apply(se,$e);function O(B){re(b,ae,w,O,F,"next",B)}function F(B){re(b,ae,w,O,F,"throw",B)}O(void 0)})}},ht.exports.__esModule=!0,ht.exports.default=ht.exports}},ht=>{ht(ht.s=569)}]);