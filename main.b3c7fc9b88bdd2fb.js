(self.webpackChunkfront=self.webpackChunkfront||[]).push([[792],{419:(ct,Q,X)=>{"use strict";function j(e){return"function"==typeof e}function te(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ne=te(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ne(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class w{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(j(r))try{r()}catch(o){n=o instanceof Ne?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{R(o)}catch(s){n=n??[],s instanceof Ne?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ne(n)}}add(n){var t;if(n&&n!==this)if(this.closed)R(n);else{if(n instanceof w){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&ne(t,n)}remove(n){const{_finalizers:t}=this;t&&ne(t,n),n instanceof w&&n._removeParent(this)}}w.EMPTY=(()=>{const e=new w;return e.closed=!0,e})();const b=w.EMPTY;function A(e){return e instanceof w||e&&"closed"in e&&j(e.remove)&&j(e.add)&&j(e.unsubscribe)}function R(e){j(e)?e():e.unsubscribe()}const V={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},le={setTimeout(e,n,...t){const{delegate:r}=le;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=le;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Me(e){le.setTimeout(()=>{const{onUnhandledError:n}=V;if(!n)throw e;n(e)})}function oe(){}const Te=Zt("C",void 0,void 0);function Zt(e,n,t){return{kind:e,value:n,error:t}}let Ke=null;function tt(e){if(V.useDeprecatedSynchronousErrorHandling){const n=!Ke;if(n&&(Ke={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Ke;if(Ke=null,t)throw r}}else e()}class Lr extends w{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,A(n)&&n.add(this)):this.destination=FS}static create(n,t,r){return new an(n,t,r)}next(n){this.isStopped?cc(function Jt(e){return Zt("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?cc(function dt(e){return Zt("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?cc(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jr=Function.prototype.bind;function Bn(e,n){return jr.call(e,n)}class fg{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Hn(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Hn(r)}else Hn(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Hn(t)}}}class an extends Lr{constructor(n,t,r){let i;if(super(),j(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&V.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Bn(n.next,o),error:n.error&&Bn(n.error,o),complete:n.complete&&Bn(n.complete,o)}):i=n}this.destination=new fg(i)}}function Hn(e){V.useDeprecatedSynchronousErrorHandling?function vt(e){V.useDeprecatedSynchronousErrorHandling&&Ke&&(Ke.errorThrown=!0,Ke.error=e)}(e):Me(e)}function cc(e,n){const{onStoppedNotification:t}=V;t&&le.setTimeout(()=>t(e,n))}const FS={closed:!0,next:oe,error:function pi(e){throw e},complete:oe},dc="function"==typeof Symbol&&Symbol.observable||"@@observable";function cr(e){return e}function hg(e){return 0===e.length?cr:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let Ve=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function VS(e){return e&&e instanceof Lr||function jS(e){return e&&j(e.next)&&j(e.error)&&j(e.complete)}(e)&&A(e)}(t)?t:new an(t,r,i);return tt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=pg(r))((i,o)=>{const s=new an({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[dc](){return this}pipe(...t){return hg(t)(this)}toPromise(t){return new(t=pg(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function pg(e){var n;return null!==(n=e??V.Promise)&&void 0!==n?n:Promise}const $S=te(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let un=(()=>{class e extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new gg(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $S}next(t){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?b:(this.currentObservers=null,o.push(t),new w(()=>{this.currentObservers=null,ne(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ve;return t.source=this,t}}return e.create=(n,t)=>new gg(n,t),e})();class gg extends un{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:b}}function mg(e){return j(e?.lift)}function Je(e){return n=>{if(mg(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ze(e,n,t,r,i){return new US(e,n,t,r,i)}class US extends Lr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){n.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function de(e,n){return Je((t,r)=>{let i=0;t.subscribe(ze(r,o=>{r.next(e.call(n,o,i++))}))})}function dr(e){return this instanceof dr?(this.v=e,this):new dr(e)}function wg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function gc(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}(a,u,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const bg=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Cg(e){return j(e?.then)}function Dg(e){return j(e[dc])}function Eg(e){return Symbol.asyncIterator&&j(e?.[Symbol.asyncIterator])}function Sg(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ig=function pI(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Mg(e){return j(e?.[Ig])}function Ag(e){return function _g(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(h){return function(p){return Promise.resolve(p).then(h,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(m,_){o.push([h,g,m,_])>1||u(h,g)})},p&&(i[h]=p(i[h])))}function u(h,p){try{!function l(h){h.value instanceof dr?Promise.resolve(h.value.v).then(c,d):f(o[0][2],h)}(r[h](p))}catch(g){f(o[0][3],g)}}function c(h){u("next",h)}function d(h){u("throw",h)}function f(h,p){h(p),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield dr(t.read());if(i)return yield dr(void 0);yield yield dr(r)}}finally{t.releaseLock()}})}function Tg(e){return j(e?.getReader)}function Lt(e){if(e instanceof Ve)return e;if(null!=e){if(Dg(e))return function gI(e){return new Ve(n=>{const t=e[dc]();if(j(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(bg(e))return function mI(e){return new Ve(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Cg(e))return function vI(e){return new Ve(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Me)})}(e);if(Eg(e))return xg(e);if(Mg(e))return function yI(e){return new Ve(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Tg(e))return function _I(e){return xg(Ag(e))}(e)}throw Sg(e)}function xg(e){return new Ve(n=>{(function wI(e,n){var t,r,i,o;return function vg(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=wg(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function zn(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function rt(e,n,t=1/0){return j(n)?rt((r,i)=>de((o,s)=>n(r,o,i,s))(Lt(e(r,i))),t):("number"==typeof n&&(t=n),Je((r,i)=>function bI(e,n,t,r,i,o,s,a){const u=[];let l=0,c=0,d=!1;const f=()=>{d&&!u.length&&!l&&n.complete()},h=g=>l<r?p(g):u.push(g),p=g=>{o&&n.next(g),l++;let m=!1;Lt(t(g,c++)).subscribe(ze(n,_=>{i?.(_),o?h(_):n.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;u.length&&l<r;){const _=u.shift();s?zn(n,s,()=>p(_)):p(_)}f()}catch(_){n.error(_)}}))};return e.subscribe(ze(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}function gi(e=1/0){return rt(cr,e)}const Dn=new Ve(e=>e.complete());function vc(e){return e[e.length-1]}function Og(e){return j(vc(e))?e.pop():void 0}function jo(e){return function DI(e){return e&&j(e.schedule)}(vc(e))?e.pop():void 0}function Rg(e,n=0){return Je((t,r)=>{t.subscribe(ze(r,i=>zn(r,e,()=>r.next(i),n),()=>zn(r,e,()=>r.complete(),n),i=>zn(r,e,()=>r.error(i),n)))})}function Pg(e,n=0){return Je((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Ng(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ve(t=>{zn(t,n,()=>{const r=e[Symbol.asyncIterator]();zn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ze(e,n){return n?function xI(e,n){if(null!=e){if(Dg(e))return function SI(e,n){return Lt(e).pipe(Pg(n),Rg(n))}(e,n);if(bg(e))return function MI(e,n){return new Ve(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Cg(e))return function II(e,n){return Lt(e).pipe(Pg(n),Rg(n))}(e,n);if(Eg(e))return Ng(e,n);if(Mg(e))return function AI(e,n){return new Ve(t=>{let r;return zn(t,n,()=>{r=e[Ig](),zn(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>j(r?.return)&&r.return()})}(e,n);if(Tg(e))return function TI(e,n){return Ng(Ag(e),n)}(e,n)}throw Sg(e)}(e,n):Lt(e)}class Yt extends un{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function $(...e){return Ze(e,jo(e))}function kg(e={}){const{connector:n=(()=>new un),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,u,l=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=u=void 0,c=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Je((g,m)=>{l++,!d&&!c&&f();const _=u=u??n();m.add(()=>{l--,0===l&&!d&&!c&&(a=yc(p,i))}),_.subscribe(m),!s&&l>0&&(s=new an({next:v=>_.next(v),error:v=>{d=!0,f(),a=yc(h,t,v),_.error(v)},complete:()=>{c=!0,f(),a=yc(h,r),_.complete()}}),Lt(g).subscribe(s))})(o)}}function yc(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new an({next:()=>{r.unsubscribe(),e()}});return Lt(n(...t)).subscribe(r)}function ln(e,n){return Je((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(ze(r,u=>{i?.unsubscribe();let l=0;const c=o++;Lt(e(u,c)).subscribe(i=ze(r,d=>r.next(n?n(u,d,c,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function PI(e,n){return e===n}function ge(e){for(let n in e)if(e[n]===ge)return n;throw Error("Could not find renamed property on target object.")}function Da(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ye(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ye).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function _c(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const NI=ge({__forward_ref__:ge});function _e(e){return e.__forward_ref__=_e,e.toString=function(){return Ye(this())},e}function H(e){return wc(e)?e():e}function wc(e){return"function"==typeof e&&e.hasOwnProperty(NI)&&e.__forward_ref__===_e}function bc(e){return e&&!!e.\u0275providers}const Fg="https://g.co/ng/security#xss";class E extends Error{constructor(n,t){super(function Ea(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function G(e){return"string"==typeof e?e:null==e?"":String(e)}function Cc(e,n){throw new E(-201,!1)}function Qt(e,n){null==e&&function U(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function k(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Xt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Sa(e){return Lg(e,Ma)||Lg(e,jg)}function Lg(e,n){return e.hasOwnProperty(n)?e[n]:null}function Ia(e){return e&&(e.hasOwnProperty(Dc)||e.hasOwnProperty(BI))?e[Dc]:null}const Ma=ge({\u0275prov:ge}),Dc=ge({\u0275inj:ge}),jg=ge({ngInjectableDef:ge}),BI=ge({ngInjectorDef:ge});var re=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(re||{});let Ec;function At(e){const n=Ec;return Ec=e,n}function $g(e,n,t){const r=Sa(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&re.Optional?null:void 0!==n?n:void Cc(Ye(e))}const we=globalThis;class O{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=k({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vo={},Tc="__NG_DI_FLAG__",Aa="ngTempTokenPath",GI=/\n/gm,Bg="__source";let mi;function fr(e){const n=mi;return mi=e,n}function KI(e,n=re.Default){if(void 0===mi)throw new E(-203,!1);return null===mi?$g(e,void 0,n):mi.get(e,n&re.Optional?null:void 0,n)}function N(e,n=re.Default){return(function Vg(){return Ec}()||KI)(H(e),n)}function x(e,n=re.Default){return N(e,Ta(n))}function Ta(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xc(e){const n=[];for(let t=0;t<e.length;t++){const r=H(e[t]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){const a=r[s],u=JI(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}n.push(N(i,o))}else n.push(N(r))}return n}function $o(e,n){return e[Tc]=n,e.prototype[Tc]=n,e}function JI(e){return e[Tc]}function Gn(e){return{toString:e}.toString()}var xa=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(xa||{}),cn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(cn||{});const En={},ce=[],Oa=ge({\u0275cmp:ge}),Oc=ge({\u0275dir:ge}),Rc=ge({\u0275pipe:ge}),zg=ge({\u0275mod:ge}),qn=ge({\u0275fac:ge}),Uo=ge({__NG_ELEMENT_ID__:ge}),Gg=ge({__NG_ENV_ID__:ge});function qg(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function Pc(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];Kg(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Wg(e){return 3===e||4===e||6===e}function Kg(e){return 64===e.charCodeAt(0)}function Bo(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Jg(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Jg(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Zg="ng-template";function QI(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==qg(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Yg(e){return 4===e.type&&e.value!==Zg}function XI(e,n,t){return n===(4!==e.type||t?e.value:Zg)}function eM(e,n,t){let r=4;const i=e.attrs||[],o=function rM(e){for(let n=0;n<e.length;n++)if(Wg(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const u=n[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!XI(e,u,t)||""===u&&1===n.length){if(dn(r))return!1;s=!0}}else{const l=8&r?u:n[++a];if(8&r&&null!==e.attrs){if(!QI(e.attrs,l,t)){if(dn(r))return!1;s=!0}continue}const d=tM(8&r?"class":u,i,Yg(e),t);if(-1===d){if(dn(r))return!1;s=!0;continue}if(""!==l){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==qg(h,l,0)||2&r&&l!==f){if(dn(r))return!1;s=!0}}}}else{if(!s&&!dn(r)&&!dn(u))return!1;if(s&&dn(u))continue;s=!1,r=u|1&r}}return dn(r)||s}function dn(e){return 0==(1&e)}function tM(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function iM(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Qg(e,n,t=!1){for(let r=0;r<n.length;r++)if(eM(e,n[r],t))return!0;return!1}function Xg(e,n){return e?":not("+n.trim()+")":n}function sM(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!dn(s)&&(n+=Xg(o,i),i=""),r=s,o=o||!dn(r);t++}return""!==i&&(n+=Xg(o,i)),n}function Wn(e){return Gn(()=>{const n=tm(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||cn.Emulated,styles:e.styles||ce,_:null,schemas:e.schemas||null,tView:null,id:""};nm(t);const r=e.dependencies;return t.directiveDefs=Ra(r,!1),t.pipeDefs=Ra(r,!0),t.id=function pM(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function cM(e){return se(e)||it(e)}function dM(e){return null!==e}function fn(e){return Gn(()=>({type:e.type,bootstrap:e.bootstrap||ce,declarations:e.declarations||ce,imports:e.imports||ce,exports:e.exports||ce,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function em(e,n){if(null==e)return En;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function z(e){return Gn(()=>{const n=tm(e);return nm(n),n})}function se(e){return e[Oa]||null}function it(e){return e[Oc]||null}function yt(e){return e[Rc]||null}function Vt(e,n){const t=e[zg]||null;if(!t&&!0===n)throw new Error(`Type ${Ye(e)} does not have '\u0275mod' property.`);return t}function tm(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||En,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ce,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:em(e.inputs,n),outputs:em(e.outputs)}}function nm(e){e.features?.forEach(n=>n(e))}function Ra(e,n){if(!e)return null;const t=n?yt:cM;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(dM)}const ke=0,T=1,J=2,xe=3,hn=4,Ho=5,ft=6,yi=7,$e=8,hr=9,_i=10,q=11,zo=12,rm=13,wi=14,Ue=15,Go=16,bi=17,Sn=18,qo=19,im=20,pr=21,Kn=22,Wo=23,Ko=24,ie=25,Nc=1,om=2,In=7,Ci=9,ot=11;function xt(e){return Array.isArray(e)&&"object"==typeof e[Nc]}function _t(e){return Array.isArray(e)&&!0===e[Nc]}function kc(e){return 0!=(4&e.flags)}function $r(e){return e.componentOffset>-1}function Na(e){return 1==(1&e.flags)}function pn(e){return!!e.template}function Fc(e){return 0!=(512&e[J])}function Ur(e,n){return e.hasOwnProperty(qn)?e[qn]:null}let st=null,ka=!1;function en(e){const n=st;return st=e,n}const um={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function cm(e){if(!Zo(e)||e.dirty){if(!e.producerMustRecompute(e)&&!hm(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function fm(e){e.dirty=!0,function dm(e){if(void 0===e.liveConsumerNode)return;const n=ka;ka=!0;try{for(const t of e.liveConsumerNode)t.dirty||fm(t)}finally{ka=n}}(e),e.consumerMarkedDirty?.(e)}function jc(e){return e&&(e.nextProducerIndex=0),en(e)}function Vc(e,n){if(en(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Zo(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Fa(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function hm(e){Di(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(cm(t),r!==t.version))return!0}return!1}function pm(e){if(Di(e),Zo(e))for(let n=0;n<e.producerNode.length;n++)Fa(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Fa(e,n){if(function mm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Di(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Fa(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Di(i),i.producerIndexOfThis[r]=n}}function Zo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Di(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let vm=null;const bm=()=>{},MM=(()=>({...um,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:bm}))();class AM{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function tn(){return Cm}function Cm(e){return e.type.prototype.ngOnChanges&&(e.setInput=xM),TM}function TM(){const e=Em(this),n=e?.current;if(n){const t=e.previous;if(t===En)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function xM(e,n,t,r){const i=this.declaredInputs[t],o=Em(e)||function OM(e,n){return e[Dm]=n}(e,{previous:En,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new AM(u&&u.currentValue,n,a===En),e[r]=n}tn.ngInherit=!0;const Dm="__ngSimpleChanges__";function Em(e){return e[Dm]||null}const Mn=function(e,n,t){};function be(e){for(;Array.isArray(e);)e=e[ke];return e}function La(e,n){return be(n[e])}function Ot(e,n){return be(n[e.index])}function Mm(e,n){return e.data[n]}function $t(e,n){const t=n[e];return xt(t)?t:t[ke]}function mr(e,n){return null==n?null:e[n]}function Am(e){e[bi]=0}function LM(e){1024&e[J]||(e[J]|=1024,xm(e,1))}function Tm(e){1024&e[J]&&(e[J]&=-1025,xm(e,-1))}function xm(e,n){let t=e[xe];if(null===t)return;t[Ho]+=n;let r=t;for(t=t[xe];null!==t&&(1===n&&1===r[Ho]||-1===n&&0===r[Ho]);)t[Ho]+=n,r=t,t=t[xe]}const B={lFrame:Um(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pm(){return B.bindingsEnabled}function C(){return B.lFrame.lView}function ae(){return B.lFrame.tView}function Yo(e){return B.lFrame.contextLView=e,e[$e]}function Qo(e){return B.lFrame.contextLView=null,e}function at(){let e=Nm();for(;null!==e&&64===e.type;)e=e.parent;return e}function Nm(){return B.lFrame.currentTNode}function An(e,n){const t=B.lFrame;t.currentTNode=e,t.isParent=n}function zc(){return B.lFrame.isParent}function Gc(){B.lFrame.isParent=!1}function Ii(){return B.lFrame.bindingIndex++}function JM(e,n){const t=B.lFrame;t.bindingIndex=t.bindingRootIndex=e,qc(n)}function qc(e){B.lFrame.currentDirectiveIndex=e}function Kc(e){B.lFrame.currentQueryIndex=e}function YM(e){const n=e[T];return 2===n.type?n.declTNode:1===n.type?e[ft]:null}function Vm(e,n,t){if(t&re.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&re.Host||(i=YM(o),null===i||(o=o[wi],10&i.type))););if(null===i)return!1;n=i,e=o}const r=B.lFrame=$m();return r.currentTNode=n,r.lView=e,!0}function Jc(e){const n=$m(),t=e[T];B.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function $m(){const e=B.lFrame,n=null===e?null:e.child;return null===n?Um(e):n}function Um(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Bm(){const e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Hm=Bm;function Zc(){const e=Bm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bt(){return B.lFrame.selectedIndex}function Br(e){B.lFrame.selectedIndex=e}function Re(){const e=B.lFrame;return Mm(e.tView,e.selectedIndex)}let Gm=!0;function ja(){return Gm}function vr(e){Gm=e}function Va(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),u&&(e.viewHooks??=[]).push(-t,u),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),null!=c&&(e.destroyHooks??=[]).push(t,c)}}function $a(e,n,t){qm(e,n,3,t)}function Ua(e,n,t,r){(3&e[J])===t&&qm(e,n,t,r)}function Yc(e,n){let t=e[J];(3&t)===n&&(t&=8191,t+=1,e[J]=t)}function qm(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let u=void 0!==r?65535&e[bi]:0;u<s;u++)if("number"==typeof n[u+1]){if(a=n[u],null!=r&&a>=r)break}else n[u]<0&&(e[bi]+=65536),(a<o||-1==o)&&(oA(e,t,n,u),e[bi]=(4294901760&e[bi])+u+2),u++}function Wm(e,n){Mn(4,e,n);const t=en(null);try{n.call(e)}finally{en(t),Mn(5,e,n)}}function oA(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[J]>>13<e[bi]>>16&&(3&e[J])===n&&(e[J]+=8192,Wm(a,o)):Wm(a,o)}const Mi=-1;class es{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Xc(e){return e!==Mi}function ts(e){return 32767&e}function ns(e,n){let t=function lA(e){return e>>16}(e),r=n;for(;t>0;)r=r[wi],t--;return r}let ed=!0;function Ba(e){const n=ed;return ed=e,n}const Km=255,Jm=5;let cA=0;const Tn={};function Ha(e,n){const t=Zm(e,n);if(-1!==t)return t;const r=n[T];r.firstCreatePass&&(e.injectorIndex=n.length,td(r.data,e),td(n,null),td(r.blueprint,null));const i=za(e,n),o=e.injectorIndex;if(Xc(i)){const s=ts(i),a=ns(i,n),u=a[T].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|u[s+l]}return n[o+8]=i,o}function td(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Zm(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function za(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=rv(i),null===r)return Mi;if(t++,i=i[wi],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Mi}function nd(e,n,t){!function dA(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Uo)&&(r=t[Uo]),null==r&&(r=t[Uo]=cA++);const i=r&Km;n.data[e+(i>>Jm)]|=1<<i}(e,n,t)}function Ym(e,n,t){if(t&re.Optional||void 0!==e)return e;Cc()}function Qm(e,n,t,r){if(t&re.Optional&&void 0===r&&(r=null),!(t&(re.Self|re.Host))){const i=e[hr],o=At(void 0);try{return i?i.get(n,r,t&re.Optional):$g(n,r,t&re.Optional)}finally{At(o)}}return Ym(r,0,t)}function Xm(e,n,t,r=re.Default,i){if(null!==e){if(2048&n[J]&&!(r&re.Self)){const s=function vA(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[J]&&!(512&s[J]);){const a=ev(o,s,t,r|re.Self,Tn);if(a!==Tn)return a;let u=o.parent;if(!u){const l=s[im];if(l){const c=l.get(t,Tn,r);if(c!==Tn)return c}u=rv(s),s=s[wi]}o=u}return i}(e,n,t,r,Tn);if(s!==Tn)return s}const o=ev(e,n,t,r,Tn);if(o!==Tn)return o}return Qm(n,t,r,i)}function ev(e,n,t,r,i){const o=function pA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Uo)?e[Uo]:void 0;return"number"==typeof n?n>=0?n&Km:mA:n}(t);if("function"==typeof o){if(!Vm(n,e,r))return r&re.Host?Ym(i,0,r):Qm(n,t,r,i);try{let s;if(s=o(r),null!=s||r&re.Optional)return s;Cc()}finally{Hm()}}else if("number"==typeof o){let s=null,a=Zm(e,n),u=Mi,l=r&re.Host?n[Ue][ft]:null;for((-1===a||r&re.SkipSelf)&&(u=-1===a?za(e,n):n[a+8],u!==Mi&&nv(r,!1)?(s=n[T],a=ts(u),n=ns(u,n)):a=-1);-1!==a;){const c=n[T];if(tv(o,a,c.data)){const d=hA(a,n,t,s,r,l);if(d!==Tn)return d}u=n[a+8],u!==Mi&&nv(r,n[T].data[a+8]===l)&&tv(o,a,n)?(s=c,a=ts(u),n=ns(u,n)):a=-1}}return i}function hA(e,n,t,r,i,o){const s=n[T],a=s.data[e+8],c=function Ga(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,u=e.directiveStart,c=o>>20,f=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<f;h++){const p=s[h];if(h<u&&t===p||h>=u&&p.type===t)return h}if(i){const h=s[u];if(h&&pn(h)&&h.type===t)return u}return null}(a,s,t,null==r?$r(a)&&ed:r!=s&&0!=(3&a.type),i&re.Host&&o===a);return null!==c?Hr(n,s,c,a):Tn}function Hr(e,n,t,r){let i=e[t];const o=n.data;if(function sA(e){return e instanceof es}(i)){const s=i;s.resolving&&function kI(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new E(-200,`Circular dependency in DI detected for ${e}${t}`)}(function pe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():G(e)}(o[t]));const a=Ba(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?At(s.injectImpl):null;Vm(e,r,re.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function iA(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=Cm(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==l&&At(l),Ba(a),s.resolving=!1,Hm()}}return i}function tv(e,n,t){return!!(t[n+(e>>Jm)]&1<<e)}function nv(e,n){return!(e&re.Self||e&re.Host&&n)}class Ct{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Xm(this._tNode,this._lView,n,Ta(r),t)}}function mA(){return new Ct(at(),C())}function ut(e){return Gn(()=>{const n=e.prototype.constructor,t=n[qn]||rd(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[qn]||rd(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function rd(e){return wc(e)?()=>{const n=rd(H(e));return n&&n()}:Ur(e)}function rv(e){const n=e[T],t=n.type;return 2===t?n.declTNode:1===t?e[ft]:null}const Ti="__parameters__";function Oi(e,n,t){return Gn(()=>{const r=function id(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,c){const d=u.hasOwnProperty(Ti)?u[Ti]:Object.defineProperty(u,Ti,{value:[]})[Ti];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Pi(e,n){e.forEach(t=>Array.isArray(t)?Pi(t,n):n(t))}function ov(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Wa(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ut(e,n,t){let r=Ni(e,n);return r>=0?e[1|r]=t:(r=~r,function EA(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function od(e,n){const t=Ni(e,n);if(t>=0)return e[1|t]}function Ni(e,n){return function sv(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const Ja=$o(Oi("Optional"),8),Za=$o(Oi("SkipSelf"),4);function tu(e){return 128==(128&e.flags)}var yr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(yr||{});const GA=/^>|^->|<!--|-->|--!>|<!-$/g,qA=/(<|>)/g,WA="\u200b$1\u200b";const cd=new Map;let KA=0;const fd="__ngContext__";function ht(e,n){xt(n)?(e[fd]=n[qo],function ZA(e){cd.set(e[qo],e)}(n)):e[fd]=n}let hd;function pd(e,n){return hd(e,n)}function us(e){const n=e[xe];return _t(n)?n[xe]:n}function Iv(e){return Av(e[zo])}function Mv(e){return Av(e[hn])}function Av(e){for(;null!==e&&!_t(e);)e=e[hn];return e}function Li(e,n,t,r,i){if(null!=r){let o,s=!1;_t(r)?o=r:xt(r)&&(s=!0,r=r[ke]);const a=be(r);0===e&&null!==t?null==i?Rv(n,t,a):zr(n,t,a,i||null,!0):1===e&&null!==t?zr(n,t,a,i||null,!0):2===e?function uu(e,n,t){const r=su(e,n);r&&function gT(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function yT(e,n,t,r,i){const o=t[In];o!==be(t)&&Li(n,e,r,o,i);for(let a=ot;a<t.length;a++){const u=t[a];cs(u[T],u,e,n,r,o)}}(n,e,o,t,i)}}function gd(e,n){return e.createComment(function yv(e){return e.replace(GA,n=>n.replace(qA,WA))}(n))}function iu(e,n,t){return e.createElement(n,t)}function xv(e,n){const t=e[Ci],r=t.indexOf(n);Tm(n),t.splice(r,1)}function ou(e,n){if(e.length<=ot)return;const t=ot+n,r=e[t];if(r){const i=r[Go];null!==i&&i!==e&&xv(i,r),n>0&&(e[t-1][hn]=r[hn]);const o=Wa(e,ot+n);!function aT(e,n){cs(e,n,n[q],2,null,null),n[ke]=null,n[ft]=null}(r[T],r);const s=o[Sn];null!==s&&s.detachView(o[T]),r[xe]=null,r[hn]=null,r[J]&=-129}return r}function md(e,n){if(!(256&n[J])){const t=n[q];n[Wo]&&pm(n[Wo]),n[Ko]&&pm(n[Ko]),t.destroyNode&&cs(e,n,t,3,null,null),function cT(e){let n=e[zo];if(!n)return vd(e[T],e);for(;n;){let t=null;if(xt(n))t=n[zo];else{const r=n[ot];r&&(t=r)}if(!t){for(;n&&!n[hn]&&n!==e;)xt(n)&&vd(n[T],n),n=n[xe];null===n&&(n=e),xt(n)&&vd(n[T],n),t=n&&n[hn]}n=t}}(n)}}function vd(e,n){if(!(256&n[J])){n[J]&=-129,n[J]|=256,function pT(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof es)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Mn(4,a,u);try{u.call(a)}finally{Mn(5,a,u)}}else{Mn(4,i,o);try{o.call(i)}finally{Mn(5,i,o)}}}}}(e,n),function hT(e,n){const t=e.cleanup,r=n[yi];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[yi]=null);const i=n[pr];if(null!==i){n[pr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[T].type&&n[q].destroy();const t=n[Go];if(null!==t&&_t(n[xe])){t!==n[xe]&&xv(t,n);const r=n[Sn];null!==r&&r.detachView(e)}!function YA(e){cd.delete(e[qo])}(n)}}function yd(e,n,t){return function Ov(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[ke];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===cn.None||o===cn.Emulated)return null}return Ot(r,t)}}(e,n.parent,t)}function zr(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Rv(e,n,t){e.appendChild(n,t)}function Pv(e,n,t,r,i){null!==r?zr(e,n,t,r,i):Rv(e,n,t)}function su(e,n){return e.parentNode(n)}let _d,Dd,cu,Fv=function kv(e,n,t){return 40&e.type?Ot(e,t):null};function au(e,n,t,r){const i=yd(e,r,n),o=n[q],a=function Nv(e,n,t){return Fv(e,n,t)}(r.parent||n[ft],r,n);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)Pv(o,i,t[u],a,!1);else Pv(o,i,t,a,!1);void 0!==_d&&_d(o,r,n,t,i)}function ls(e,n){if(null!==n){const t=n.type;if(3&t)return Ot(n,e);if(4&t)return wd(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return ls(e,r);{const i=e[n.index];return _t(i)?wd(-1,i):be(i)}}if(32&t)return pd(n,e)()||be(e[n.index]);{const r=jv(e,n);return null!==r?Array.isArray(r)?r[0]:ls(us(e[Ue]),r):ls(e,n.next)}}return null}function jv(e,n){return null!==n?e[Ue][ft].projection[n.projection]:null}function wd(e,n){const t=ot+e+1;if(t<n.length){const r=n[t],i=r[T].firstChild;if(null!==i)return ls(r,i)}return n[In]}function bd(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===n&&(a&&ht(be(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)bd(e,n,t.child,r,i,o,!1),Li(n,e,i,a,o);else if(32&u){const l=pd(t,r);let c;for(;c=l();)Li(n,e,i,c,o);Li(n,e,i,a,o)}else 16&u?$v(e,n,r,t,i,o):Li(n,e,i,a,o);t=s?t.projectionNext:t.next}}function cs(e,n,t,r,i,o){bd(t,r,e.firstChild,n,i,o,!1)}function $v(e,n,t,r,i,o){const s=t[Ue],u=s[ft].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Li(n,e,i,u[l],o);else{let l=u;const c=s[xe];tu(r)&&(l.flags|=128),bd(e,n,l,c,i,o,!0)}}function Uv(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Bv(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Pc(e,n,r),null!==i&&Uv(e,n,i),null!==o&&function wT(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function Gv(e){return function Ed(){if(void 0===cu&&(cu=null,we.trustedTypes))try{cu=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cu}()?.createScriptURL(e)||e}class qv{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fg})`}}function _r(e){return e instanceof qv?e.changingThisBreaksApplicationSecurity:e}function ds(e,n){const t=function xT(e){return e instanceof qv&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Fg})`)}return t===n}const NT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $i=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}($i||{});function fu(e){const n=hs();return n?n.sanitize($i.URL,e)||"":ds(e,"URL")?_r(e):function Sd(e){return(e=String(e)).match(NT)?e:"unsafe:"+e}(G(e))}function Xv(e){const n=hs();if(n)return Gv(n.sanitize($i.RESOURCE_URL,e)||"");if(ds(e,"ResourceURL"))return Gv(_r(e));throw new E(904,!1)}function hs(){const e=C();return e&&e[_i].sanitizer}const ps=new O("ENVIRONMENT_INITIALIZER"),ty=new O("INJECTOR",-1),ny=new O("INJECTOR_DEF_TYPES");class Td{get(n,t=Vo){if(t===Vo){const r=new Error(`NullInjectorError: No provider for ${Ye(n)}!`);throw r.name="NullInjectorError",r}return t}}function WT(...e){return{\u0275providers:ry(0,e),\u0275fromNgModule:!0}}function ry(e,...n){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Pi(n,s=>{const a=s;hu(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&iy(i,o),t}function iy(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];Od(i,o=>{n(o,r)})}}function hu(e,n,t,r){if(!(e=H(e)))return!1;let i=null,o=Ia(e);const s=!o&&se(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const u=e.ngModule;if(o=Ia(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)hu(l,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Pi(o.imports,c=>{hu(c,n,t,r)&&(l||=[],l.push(c))})}finally{}void 0!==l&&iy(l,n)}if(!a){const l=Ur(i)||(()=>new i);n({provide:i,useFactory:l,deps:ce},i),n({provide:ny,useValue:i,multi:!0},i),n({provide:ps,useValue:()=>N(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const l=e;Od(u,c=>{n(c,l)})}}}return i!==e&&void 0!==e.providers}function Od(e,n){for(let t of e)bc(t)&&(t=t.\u0275providers),Array.isArray(t)?Od(t,n):n(t)}const KT=ge({provide:String,useValue:ge});function Rd(e){return null!==e&&"object"==typeof e&&KT in e}function Gr(e){return"function"==typeof e}const Pd=new O("Set Injector scope."),pu={},ZT={};let Nd;function gu(){return void 0===Nd&&(Nd=new Td),Nd}class Bt{}class Ui extends Bt{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fd(n,s=>this.processProvider(s)),this.records.set(ty,Bi(void 0,this)),i.has("environment")&&this.records.set(Bt,Bi(void 0,this));const o=this.records.get(Pd);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ny.multi,ce,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=fr(this),r=At(void 0);try{return n()}finally{fr(t),At(r)}}get(n,t=Vo,r=re.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Gg))return n[Gg](this);r=Ta(r);const o=fr(this),s=At(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(n);if(void 0===u){const l=function tx(e){return"function"==typeof e||"object"==typeof e&&e instanceof O}(n)&&Sa(n);u=l&&this.injectableDefInScope(l)?Bi(kd(n),pu):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(r&re.Self?gu():this.parent).get(n,t=r&re.Optional&&t===Vo?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Aa]=a[Aa]||[]).unshift(Ye(n)),o)throw a;return function ZI(e,n,t,r){const i=e[Aa];throw n[Bg]&&i.unshift(n[Bg]),e.message=function YI(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Ye(n);if(Array.isArray(n))i=n.map(Ye).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ye(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(GI,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Aa]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{At(s),fr(o)}}resolveInjectorInitializers(){const n=fr(this),t=At(void 0);try{const i=this.get(ps.multi,ce,re.Self);for(const o of i)o()}finally{fr(n),At(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Ye(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(n){let t=Gr(n=H(n))?n:H(n&&n.provide);const r=function QT(e){return Rd(e)?Bi(void 0,e.useValue):Bi(ay(e),pu)}(n);if(Gr(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Bi(void 0,pu,!0),i.factory=()=>xc(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===pu&&(t.value=ZT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function ex(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=H(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function kd(e){const n=Sa(e),t=null!==n?n.factory:Ur(e);if(null!==t)return t;if(e instanceof O)throw new E(204,!1);if(e instanceof Function)return function YT(e){const n=e.length;if(n>0)throw function os(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new E(204,!1);const t=function UI(e){return e&&(e[Ma]||e[jg])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new E(204,!1)}function ay(e,n,t){let r;if(Gr(e)){const i=H(e);return Ur(i)||kd(i)}if(Rd(e))r=()=>H(e.useValue);else if(function sy(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...xc(e.deps||[]));else if(function oy(e){return!(!e||!e.useExisting)}(e))r=()=>N(H(e.useExisting));else{const i=H(e&&(e.useClass||e.provide));if(!function XT(e){return!!e.deps}(e))return Ur(i)||kd(i);r=()=>new i(...xc(e.deps))}return r}function Bi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Fd(e,n){for(const t of e)Array.isArray(t)?Fd(t,n):t&&bc(t)?Fd(t.\u0275providers,n):n(t)}const mu=new O("AppId",{providedIn:"root",factory:()=>nx}),nx="ng",uy=new O("Platform Initializer"),qr=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ly=new O("CSP nonce",{providedIn:"root",factory:()=>function Vi(){if(void 0!==Dd)return Dd;if(typeof document<"u")return document;throw new E(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cy=(e,n,t)=>null;function zd(e,n,t=!1){return cy(e,n,t)}class fx{}class hy{}class px{resolveComponentFactory(n){throw function hx(e){const n=Error(`No component factory found for ${Ye(e)}.`);return n.ngComponent=e,n}(n)}}let Cu=(()=>{class e{static{this.NULL=new px}}return e})();function gx(){return Gi(at(),C())}function Gi(e,n){return new Ht(Ot(e,n))}let Ht=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=gx}}return e})();class gy{}let Qn=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function vx(){const e=C(),t=$t(at().index,e);return(xt(t)?t:e)[q]}()}}return e})(),yx=(()=>{class e{static{this.\u0275prov=k({token:e,providedIn:"root",factory:()=>null})}}return e})();class vs{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const _x=new vs("16.2.12"),Wd={};function _y(e,n=null,t=null,r){const i=wy(e,n,t,r);return i.resolveInjectorInitializers(),i}function wy(e,n=null,t=null,r,i=new Set){const o=[t||ce,WT(e)];return r=r||("object"==typeof e?void 0:Ye(e)),new Ui(o,n||gu(),r||null,i)}let zt=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Vo}static{this.NULL=new Td}static create(t,r){if(Array.isArray(t))return _y({name:""},r,t,"");{const i=t.name??"";return _y({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=k({token:e,providedIn:"any",factory:()=>N(ty)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Jd(e){return e.ngOriginalError}class Xn{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Jd(n);for(;t&&Jd(t);)t=Jd(t);return t||null}}function Zd(e){return n=>{setTimeout(e,void 0,n)}}const Fe=class Mx extends un{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const u=n;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Zd(o),i&&(i=Zd(i)),s&&(s=Zd(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof w&&n.add(a),a}};function Cy(...e){}class Ce{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Ax(){const e="function"==typeof we.requestAnimationFrame;let n=we[e?"requestAnimationFrame":"setTimeout"],t=we[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Ox(e){const n=()=>{!function xx(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(we,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Qd(e),e.isCheckStableRunning=!0,Yd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Qd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function Px(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return Dy(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),Ey(e)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return Dy(e),t.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&n(),Ey(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Qd(e),Yd(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ce.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(Ce.isInAngularZone())throw new E(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,Tx,Cy,Cy);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const Tx={};function Yd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Qd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Dy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ey(e){e._nesting--,Yd(e)}class Rx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const Sy=new O("",{providedIn:"root",factory:Iy});function Iy(){const e=x(Ce);let n=!0;return function OI(...e){const n=jo(e),t=function EI(e,n){return"number"==typeof vc(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Lt(r[0]):gi(t)(Ze(r,n)):Dn}(new Ve(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ve(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(kg()))}function er(e){return e instanceof Function?e():e}let Xd=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}}return e})();function ys(e){for(;e;){e[J]|=64;const n=us(e);if(Fc(e)&&!n)return e;e=n}return null}const Oy=new O("",{providedIn:"root",factory:()=>!1});let Su=null;function ky(e,n){return e[n]??jy()}function Fy(e,n){const t=jy();t.producerNode?.length&&(e[n]=Su,t.lView=e,Su=Ly())}const Hx={...um,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ys(e.lView)},lView:null};function Ly(){return Object.create(Hx)}function jy(){return Su??=Ly(),Su}const W={};function De(e){Vy(ae(),C(),bt()+e,!1)}function Vy(e,n,t,r){if(!r)if(3==(3&n[J])){const o=e.preOrderCheckHooks;null!==o&&$a(n,o,t)}else{const o=e.preOrderHooks;null!==o&&Ua(n,o,0,t)}Br(t)}function D(e,n=re.Default){const t=C();return null===t?N(e,n):Xm(at(),t,H(e),n)}function Iu(e,n,t,r,i,o,s,a,u,l,c){const d=n.blueprint.slice();return d[ke]=i,d[J]=140|r,(null!==l||e&&2048&e[J])&&(d[J]|=2048),Am(d),d[xe]=d[wi]=e,d[$e]=t,d[_i]=s||e&&e[_i],d[q]=a||e&&e[q],d[hr]=u||e&&e[hr]||null,d[ft]=o,d[qo]=function JA(){return KA++}(),d[Kn]=c,d[im]=l,d[Ue]=2==n.type?e[Ue]:d,d}function Ki(e,n,t,r,i){let o=e.data[n];if(null===o)o=function ef(e,n,t,r,i){const o=Nm(),s=zc(),u=e.data[n]=function Yx(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function Si(){return null!==B.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(e,n,t,r,i),function KM(){return B.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Xo(){const e=B.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return An(o,!0),o}function _s(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Uy(e,n,t,r,i){const o=ky(n,Wo),s=bt(),a=2&r;try{Br(-1),a&&n.length>ie&&Vy(e,n,ie,!1),Mn(a?2:0,i);const l=a?o:null,c=jc(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{Vc(l,c)}}finally{a&&null===n[Wo]&&Fy(n,Wo),Br(s),Mn(a?3:1,i)}}function tf(e,n,t){if(kc(n)){const r=en(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{en(r)}}}function nf(e,n,t){Pm()&&(function iO(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;$r(t)&&function dO(e,n,t){const r=Ot(n,e),i=By(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Mu(e,Iu(e,i,null,s,r,n,null,e[_i].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Ha(t,n),ht(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const u=e.data[a],l=Hr(n,e,a,t);ht(l,n),null!==s&&fO(0,a-i,l,u,0,s),pn(u)&&($t(t.index,n)[$e]=Hr(n,e,a,t))}}(e,n,t,Ot(t,n)),64==(64&t.flags)&&Wy(e,n,t))}function rf(e,n,t=Ot){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function By(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=sf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function sf(e,n,t,r,i,o,s,a,u,l,c){const d=ie+r,f=d+i,h=function Gx(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:W);return t}(d,f),p="function"==typeof l?l():l;return h[T]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:c}}let Hy=e=>null;function zy(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?Gy(t,n,i,o):r.hasOwnProperty(i)&&Gy(t,n,r[i],o)}return t}function Gy(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function af(e,n,t,r){if(Pm()){const i=null===r?null:{"":-1},o=function sO(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Qg(n,s.selectors,!1))if(r||(r=[]),pn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),uf(e,n,a.length)}else r.unshift(s),uf(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&qy(e,n,t,s,i,a),i&&function aO(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new E(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=Bo(t.mergedAttrs,t.attrs)}function qy(e,n,t,r,i,o){for(let l=0;l<r.length;l++)nd(Ha(t,n),e,r[l].type);!function lO(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,u=_s(e,n,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];t.mergedAttrs=Bo(t.mergedAttrs,c.hostAttrs),cO(e,t,n,u,c),uO(u,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function Qx(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let u=null,l=null;for(let c=n.directiveStart;c<i;c++){const d=o[c],f=t?t.get(d):null,p=f?f.outputs:null;u=zy(d.inputs,c,u,f?f.inputs:null),l=zy(d.outputs,c,l,p);const g=null===u||null===s||Yg(n)?null:hO(u,c,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=u,n.outputs=l}(e,t,o)}function Wy(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function ZM(){return B.lFrame.currentDirectiveIndex}();try{Br(o);for(let a=r;a<i;a++){const u=e.data[a],l=n[a];qc(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&oO(u,l)}}finally{Br(-1),qc(s)}}function oO(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function uf(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function uO(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;pn(n)&&(t[""]=e)}}function cO(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Ur(i.type)),s=new es(o,pn(i),D);e.blueprint[r]=s,t[r]=s,function nO(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function rO(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,_s(e,t,i.hostVars,W),i)}function xn(e,n,t,r,i,o){const s=Ot(e,n);!function lf(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?G(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[q],s,o,e.value,t,r,i)}function fO(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)Ky(r,t,s[a++],s[a++],s[a++])}function Ky(e,n,t,r,i){const o=en(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{en(o)}}function hO(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Jy(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function Zy(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];Kc(t[r]),s.contentQueries(2,n[o],o)}}}function Mu(e,n){return e[zo]?e[rm][hn]=n:e[zo]=n,e[rm]=n,n}function cf(e,n,t){Kc(0);const r=en(null);try{n(e,t)}finally{en(r)}}function e_(e,n){const t=e[hr],r=t?t.get(Xn,null):null;r&&r.handleError(n)}function df(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];Ky(e.data[s],n[s],r,a,i)}}function pO(e,n){const t=$t(n,e),r=t[T];!function gO(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[ke];null!==i&&null===t[Kn]&&(t[Kn]=zd(i,t[hr])),ff(r,t,t[$e])}function ff(e,n,t){Jc(n);try{const r=e.viewQuery;null!==r&&cf(1,r,t);const i=e.template;null!==i&&Uy(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Zy(e,n),e.staticViewQueries&&cf(2,e.viewQuery,t);const o=e.components;null!==o&&function mO(e,n){for(let t=0;t<n.length;t++)pO(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[J]&=-5,Zc()}}let t_=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function IM(e,n,t){const r=Object.create(MM);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>fm(r),run:()=>{if(r.dirty=!1,r.hasRun&&!hm(r))return;r.hasRun=!0;const s=jc(r);try{r.cleanupFn(),r.cleanupFn=bm,r.fn(i)}finally{Vc(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Au(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=_c(i,a):2==o&&(r=_c(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function ws(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];null!==o&&r.push(be(o)),_t(o)&&n_(o,r);const s=t.type;if(8&s)ws(e,n,t.child,r);else if(32&s){const a=pd(t,n);let u;for(;u=a();)r.push(u)}else if(16&s){const a=jv(n,t);if(Array.isArray(a))r.push(...a);else{const u=us(n[Ue]);ws(u[T],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function n_(e,n){for(let t=ot;t<e.length;t++){const r=e[t],i=r[T].firstChild;null!==i&&ws(r[T],r,i,n)}e[In]!==e[ke]&&n.push(e[In])}function Tu(e,n,t,r=!0){const i=n[_i],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{r_(e,n,e.template,t)}catch(u){throw r&&e_(n,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function r_(e,n,t,r){const i=n[J];if(256!=(256&i)){n[_i].effectManager?.flush(),Jc(n);try{Am(n),function Fm(e){return B.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Uy(e,n,t,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&$a(n,l,null)}else{const l=e.preOrderHooks;null!==l&&Ua(n,l,0,null),Yc(n,0)}if(function _O(e){for(let n=Iv(e);null!==n;n=Mv(n)){if(!n[om])continue;const t=n[Ci];for(let r=0;r<t.length;r++){LM(t[r])}}}(n),i_(n,2),null!==e.contentQueries&&Zy(e,n),s){const l=e.contentCheckHooks;null!==l&&$a(n,l)}else{const l=e.contentHooks;null!==l&&Ua(n,l,1),Yc(n,1)}!function zx(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=ky(n,Ko);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Br(~o);else{const s=o,a=t[++i],u=t[++i];JM(a,s),r.dirty=!1;const l=jc(r);try{u(2,n[s])}finally{Vc(r,l)}}}}finally{null===n[Ko]&&Fy(n,Ko),Br(-1)}}(e,n);const a=e.components;null!==a&&s_(n,a,0);const u=e.viewQuery;if(null!==u&&cf(2,u,r),s){const l=e.viewCheckHooks;null!==l&&$a(n,l)}else{const l=e.viewHooks;null!==l&&Ua(n,l,2),Yc(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[J]&=-73,Tm(n)}finally{Zc()}}}function i_(e,n){for(let t=Iv(e);null!==t;t=Mv(t))for(let r=ot;r<t.length;r++)o_(t[r],n)}function wO(e,n,t){o_($t(n,e),t)}function o_(e,n){if(!function kM(e){return 128==(128&e[J])}(e))return;const t=e[T],r=e[J];if(80&r&&0===n||1024&r||2===n)r_(t,e,t.template,e[$e]);else if(e[Ho]>0){i_(e,1);const i=t.components;null!==i&&s_(e,i,1)}}function s_(e,n,t){for(let r=0;r<n.length;r++)wO(e,n[r],t)}class bs{get rootNodes(){const n=this._lView,t=n[T];return ws(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$e]}set context(n){this._lView[$e]=n}get destroyed(){return 256==(256&this._lView[J])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[xe];if(_t(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(ou(n,r),Wa(t,r))}this._attachedToViewContainer=!1}md(this._lView[T],this._lView)}onDestroy(n){!function Om(e,n){if(256==(256&e[J]))throw new E(911,!1);null===e[pr]&&(e[pr]=[]),e[pr].push(n)}(this._lView,n)}markForCheck(){ys(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){this._lView[J]|=128}detectChanges(){Tu(this._lView[T],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lT(e,n){cs(e,n,n[q],2,null,null)}(this._lView[T],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=n}}class bO extends bs{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Tu(n[T],n,n[$e],!1)}checkNoChanges(){}get context(){return null}}class a_ extends Cu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=se(n);return new Cs(t,this.ngModule)}}function u_(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class DO{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Ta(r);const i=this.injector.get(n,Wd,r);return i!==Wd||t===Wd?i:this.parentInjector.get(n,t,r)}}class Cs extends hy{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=u_(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return u_(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function aM(e){return e.map(sM).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof Bt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new DO(n,o):n,a=s.get(gy,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:s.get(yx,null),effectManager:s.get(t_,null),afterRenderEventManager:s.get(Xd,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function qx(e,n,t,r){const o=r.get(Oy,!1)||t===cn.ShadowDom,s=e.selectRootElement(n,o);return function Wx(e){Hy(e)}(s),s}(f,r,this.componentDef.encapsulation,s):iu(f,h,function CO(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=zd(p,s,!0));const I=sf(0,null,null,1,0,null,null,null,null,null,null),S=Iu(null,I,null,_,null,null,d,f,s,null,v);let M,Y;Jc(S);try{const He=this.componentDef;let ue,Pe=null;He.findHostDirectiveDefs?(ue=[],Pe=new Map,He.findHostDirectiveDefs(He,ue,Pe),ue.push(He)):ue=[He];const Un=function SO(e,n){const t=e[T],r=ie;return e[r]=n,Ki(t,r,2,"#host",null)}(S,p),Cn=function IO(e,n,t,r,i,o,s){const a=i[T];!function MO(e,n,t,r){for(const i of e)n.mergedAttrs=Bo(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Au(n,n.mergedAttrs,!0),null!==t&&Bv(r,t,n))}(r,e,n,s);let u=null;null!==n&&(u=zd(n,i[hr]));const l=o.rendererFactory.createRenderer(n,t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const d=Iu(i,By(t),null,c,i[e.index],e,o,l,null,null,u);return a.firstCreatePass&&uf(a,e,r.length-1),Mu(i,d),i[e.index]=d}(Un,p,He,ue,S,d,f);Y=Mm(I,ie),p&&function TO(e,n,t,r){if(r)Pc(e,t,["ng-version",_x.full]);else{const{attrs:i,classes:o}=function uM(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!dn(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Pc(e,t,i),o&&o.length>0&&Uv(e,t,o.join(" "))}}(f,He,p,r),void 0!==t&&function xO(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,t),M=function AO(e,n,t,r,i,o){const s=at(),a=i[T],u=Ot(s,i);qy(a,i,s,t,null,r);for(let c=0;c<t.length;c++)ht(Hr(i,a,s.directiveStart+c,s),i);Wy(a,i,s),u&&ht(u,i);const l=Hr(i,a,s.directiveStart+s.componentOffset,s);if(e[$e]=i[$e]=l,null!==o)for(const c of o)c(l,n);return tf(a,s,e),l}(Cn,He,ue,Pe,S,[OO]),ff(I,S,null)}finally{Zc()}return new EO(this.componentType,M,Gi(Y,S),S,Y)}}class EO extends fx{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new bO(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;df(o[T],o,i,n,t),this.previousInputValues.set(n,t),ys($t(this._tNode.index,o))}}get injector(){return new Ct(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function OO(){const e=at();Va(C()[T],e)}function me(e){let n=function l_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(pn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new E(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const s=e;s.inputs=xu(e.inputs),s.inputTransforms=xu(e.inputTransforms),s.declaredInputs=xu(e.declaredInputs),s.outputs=xu(e.outputs);const a=i.hostBindings;a&&kO(e,a);const u=i.viewQuery,l=i.contentQueries;if(u&&PO(e,u),l&&NO(e,l),Da(e.inputs,i.inputs),Da(e.declaredInputs,i.declaredInputs),Da(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Da(s.inputTransforms,i.inputTransforms)),pn(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===me&&(t=!1)}}n=Object.getPrototypeOf(n)}!function RO(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Bo(i.hostAttrs,t=Bo(t,i.hostAttrs))}}(r)}function xu(e){return e===En?{}:e===ce?[]:e}function PO(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function NO(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function kO(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function h_(e){const n=e.inputConfig,t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}e.inputTransforms=t}function Ou(e){return!!function hf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function pt(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Rn(e,n,t,r){const i=C();return pt(i,Ii(),n)&&(ae(),xn(Re(),i,e,n,t,r)),Rn}function lt(e,n,t,r,i,o,s,a){const u=C(),l=ae(),c=e+ie,d=l.firstCreatePass?function sR(e,n,t,r,i,o,s,a,u){const l=n.consts,c=Ki(n,e,4,s||null,mr(l,a));af(n,t,c,mr(l,u)),Va(n,c);const d=c.tView=sf(2,c,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,l,u,n,t,r,i,o,s):l.data[c];An(d,!1);const f=I_(l,u,d,e);ja()&&au(l,u,f,d),ht(f,u),Mu(u,u[c]=Jy(f,u,f,d)),Na(d)&&nf(l,u,d),null!=s&&rf(u,d,a)}let I_=function M_(e,n,t,r){return vr(!0),n[q].createComment("")};function _f(e){return function Ei(e,n){return e[n]}(function WM(){return B.lFrame.contextLView}(),ie+e)}function Ee(e,n,t){const r=C();return pt(r,Ii(),n)&&function Gt(e,n,t,r,i,o,s,a){const u=Ot(n,t);let c,l=n.inputs;!a&&null!=l&&(c=l[r])?(df(e,t,c,r,i),$r(n)&&function eO(e,n){const t=$t(n,e);16&t[J]||(t[J]|=64)}(t,n.index)):3&n.type&&(r=function Xx(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(u,r,i))}(ae(),Re(),r,e,n,r[q],t,!1),Ee}function wf(e,n,t,r,i){const s=i?"class":"style";df(e,t,n.inputs[s],s,r)}function P(e,n,t,r){const i=C(),o=ae(),s=ie+e,a=i[q],u=o.firstCreatePass?function cR(e,n,t,r,i,o){const s=n.consts,u=Ki(n,e,2,r,mr(s,i));return af(n,t,u,mr(s,o)),null!==u.attrs&&Au(u,u.attrs,!1),null!==u.mergedAttrs&&Au(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(s,o,i,n,t,r):o.data[s],l=A_(o,i,u,a,n,e);i[s]=l;const c=Na(u);return An(u,!0),Bv(a,l,u),32!=(32&u.flags)&&ja()&&au(o,i,l,u),0===function VM(){return B.lFrame.elementDepthCount}()&&ht(l,i),function $M(){B.lFrame.elementDepthCount++}(),c&&(nf(o,i,u),tf(o,u,i)),null!==r&&rf(i,u),P}function F(){let e=at();zc()?Gc():(e=e.parent,An(e,!1));const n=e;(function BM(e){return B.skipHydrationRootTNode===e})(n)&&function qM(){B.skipHydrationRootTNode=null}(),function UM(){B.lFrame.elementDepthCount--}();const t=ae();return t.firstCreatePass&&(Va(t,e),kc(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function aA(e){return 0!=(8&e.flags)}(n)&&wf(t,n,C(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function uA(e){return 0!=(16&e.flags)}(n)&&wf(t,n,C(),n.stylesWithoutHost,!1),F}function Le(e,n,t,r){return P(e,n,t,r),F(),Le}let A_=(e,n,t,r,i,o)=>(vr(!0),iu(r,i,function zm(){return B.lFrame.currentNamespace}()));function Fu(e,n,t){const r=C(),i=ae(),o=e+ie,s=i.firstCreatePass?function hR(e,n,t,r,i){const o=n.consts,s=mr(o,r),a=Ki(n,e,8,"ng-container",s);return null!==s&&Au(a,s,!0),af(n,t,a,mr(o,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,i,r,n,t):i.data[o];An(s,!0);const a=x_(i,r,s,e);return r[o]=a,ja()&&au(i,r,a,s),ht(a,r),Na(s)&&(nf(i,r,s),tf(i,s,r)),null!=t&&rf(r,s),Fu}function Lu(){let e=at();const n=ae();return zc()?Gc():(e=e.parent,An(e,!1)),n.firstCreatePass&&(Va(n,e),kc(e)&&n.queries.elementEnd(e)),Lu}let x_=(e,n,t,r)=>(vr(!0),gd(n[q],""));function Ms(){return C()}function As(e){return!!e&&"function"==typeof e.then}function O_(e){return!!e&&"function"==typeof e.subscribe}function Xe(e,n,t,r){const i=C(),o=ae(),s=at();return function P_(e,n,t,r,i,o,s){const a=Na(r),l=e.firstCreatePass&&function Qy(e){return e.cleanup||(e.cleanup=[])}(e),c=n[$e],d=function Yy(e){return e[yi]||(e[yi]=[])}(n);let f=!0;if(3&r.type||s){const g=Ot(r,n),m=s?s(g):g,_=d.length,v=s?S=>s(be(S[r.index])):r.index;let I=null;if(!s&&a&&(I=function mR(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[yi],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,f=!1;else{o=k_(r,n,c,o,!1);const S=t.listen(m,i,o);d.push(o,S),l&&l.push(i,v,_,_+1)}}else o=k_(r,n,c,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const M=n[p[m]][p[m+1]].subscribe(o),Y=d.length;d.push(o,M),l&&l.push(i,r.index,Y,-(Y+1))}}}(o,i,i[q],s,e,n,r),Xe}function N_(e,n,t,r){try{return Mn(6,n,t),!1!==t(r)}catch(i){return e_(e,i),!1}finally{Mn(7,n,t)}}function k_(e,n,t,r,i){return function o(s){if(s===Function)return r;ys(e.componentOffset>-1?$t(e.index,n):n);let u=N_(n,t,r,s),l=o.__ngNextListenerFn__;for(;l;)u=N_(n,t,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function Dt(e=1){return function QM(e){return(B.lFrame.contextLView=function XM(e,n){for(;e>0;)n=n[wi],e--;return n}(e,B.lFrame.contextLView))[$e]}(e)}function ju(e,n){return e<<17|n<<2}function wr(e){return e>>17&32767}function Cf(e){return 2|e}function Kr(e){return(131068&e)>>2}function Df(e,n){return-131069&e|n<<2}function Ef(e){return 1|e}function G_(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?wr(o):Kr(o),u=!1;for(;0!==a&&(!1===u||s);){const c=e[a+1];SR(e[a],n)&&(u=!0,e[a+1]=r?Ef(c):Cf(c)),a=r?wr(c):Kr(c)}u&&(e[t+1]=r?Cf(o):Ef(o))}function SR(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ni(e,n)>=0}function Vu(e,n){return function gn(e,n,t,r){const i=C(),o=ae(),s=function Zn(e){const n=B.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);o.firstUpdatePass&&function ew(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[bt()],s=function X_(e,n){return n>=e.expandoStartIndex}(e,t);(function iw(e,n){return 0!=(e.flags&(n?8:16))})(o,r)&&null===n&&!s&&(n=!1),n=function NR(e,n,t,r){const i=function Wc(e){const n=B.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Ts(t=Sf(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=Sf(i,e,n,t,r),null===o){let u=function kR(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Kr(r))return e[wr(r)]}(e,n,r);void 0!==u&&Array.isArray(u)&&(u=Sf(null,e,n,u[1],r),u=Ts(u,n.attrs,r),function FR(e,n,t,r){e[wr(t?n.classBindings:n.styleBindings)]=r}(e,n,r,u))}else o=function LR(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Ts(r,e[o].hostAttrs,t);return Ts(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function DR(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=wr(s),u=Kr(s);e[r]=t;let c,l=!1;if(Array.isArray(t)?(c=t[1],(null===c||Ni(t,c)>0)&&(l=!0)):c=t,i)if(0!==u){const f=wr(e[a+1]);e[r+1]=ju(f,a),0!==f&&(e[f+1]=Df(e[f+1],r)),e[a+1]=function bR(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=ju(a,0),0!==a&&(e[a+1]=Df(e[a+1],r)),a=r;else e[r+1]=ju(u,0),0===a?a=r:e[u+1]=Df(e[u+1],r),u=r;l&&(e[r+1]=Cf(e[r+1])),G_(e,c,r,!0),G_(e,c,r,!1),function ER(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&Ni(o,n)>=0&&(t[r+1]=Ef(t[r+1]))}(n,c,e,r,o),s=ju(a,u),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}(o,e,s,r),n!==W&&pt(i,s,n)&&function nw(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const u=e.data,l=u[a+1],c=function CR(e){return 1==(1&e)}(l)?rw(u,n,t,i,Kr(l),s):void 0;$u(c)||($u(o)||function wR(e){return 2==(2&e)}(l)&&(o=rw(u,null,t,i,a,s)),function _T(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:yr.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yr.Important),e.setStyle(t,r,i,o))}}(r,s,La(bt(),t),i,o))}(o,o.data[bt()],i,i[q],e,i[s+1]=function UR(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Ye(_r(e)))),e}(n,t),r,s)}(e,n,null,!0),Vu}function Sf(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=Ts(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Ts(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ut(e,s,!!t||n[++o]))}return void 0===e?null:e}function rw(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const u=e[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let f=t[i+1];f===W&&(f=d?ce:void 0);let h=d?od(f,r):c===r?f:void 0;if(l&&!$u(h)&&(h=od(u,r)),$u(h)&&(a=h,s))return a;const p=e[i+1];i=s?wr(p):Kr(p)}if(null!==n){let u=o?n.residualClasses:n.residualStyles;null!=u&&(a=od(u,r))}return a}function $u(e){return void 0!==e}function ee(e,n=""){const t=C(),r=ae(),i=e+ie,o=r.firstCreatePass?Ki(r,i,1,n,null):r.data[i],s=ow(r,t,o,n,e);t[i]=s,ja()&&au(r,t,s,o),An(o,!1)}let ow=(e,n,t,r,i)=>(vr(!0),function ru(e,n){return e.createText(n)}(n[q],r));function xs(e){return oo("",e,""),xs}function oo(e,n,t){const r=C(),i=function Zi(e,n,t,r){return pt(e,Ii(),t)?n+G(t)+r:W}(r,e,n,t);return i!==W&&function tr(e,n,t){const r=La(n,e);!function Tv(e,n,t){e.setValue(n,t)}(e[q],r,t)}(r,bt(),i),oo}const ao="en-US";let Mw=ao;function Af(e,n,t,r,i){if(e=H(e),Array.isArray(e))for(let o=0;o<e.length;o++)Af(e[o],n,t,r,i);else{const o=ae(),s=C(),a=at();let u=Gr(e)?e:H(e.provide);const l=ay(e),c=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Gr(e)||!e.multi){const h=new es(l,i,D),p=xf(u,n,i?c:c+f,d);-1===p?(nd(Ha(a,s),o,u),Tf(o,e,n.length),n.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[p]=h,s[p]=h)}else{const h=xf(u,n,c+f,d),p=xf(u,n,c,c+f),m=p>=0&&t[p];if(i&&!m||!i&&!(h>=0&&t[h])){nd(Ha(a,s),o,u);const _=function uN(e,n,t,r,i){const o=new es(e,t,D);return o.multi=[],o.index=n,o.componentProviders=0,Qw(o,i,r&&!t),o}(i?aN:sN,t.length,i,r,l);!i&&m&&(t[p].providerFactory=_),Tf(o,e,n.length,0),n.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)}else Tf(o,e,h>-1?h:p,Qw(t[i?p:h],l,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function Tf(e,n,t,r){const i=Gr(n),o=function JT(e){return!!e.useClass}(n);if(i||o){const u=(o?H(n.useClass):n).prototype.ngOnDestroy;if(u){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function Qw(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function xf(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function sN(e,n,t,r){return Of(this.multi,[])}function aN(e,n,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Hr(t,t[T],this.providerFactory.index,r);o=a.slice(0,s),Of(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Of(i,o);return o}function Of(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Oe(e,n=[]){return t=>{t.providersResolver=(r,i)=>function oN(e,n,t){const r=ae();if(r.firstCreatePass){const i=pn(e);Af(t,r.data,r.blueprint,i,!0),Af(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class Zr{}class Xw{}class Rf extends Zr{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a_(this);const i=Vt(n);this._bootstrapComponents=er(i.bootstrap),this._r3Injector=wy(n,t,[{provide:Zr,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver},...r],Ye(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pf extends Xw{constructor(n){super(),this.moduleType=n}create(n){return new Rf(this.moduleType,n,[])}}class eb extends Zr{constructor(n){super(),this.componentFactoryResolver=new a_(this),this.instance=null;const t=new Ui([...n.providers,{provide:Zr,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],n.parent||gu(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Nf(e,n,t=null){return new eb({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let dN=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=ry(0,t.type),i=r.length>0?Nf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(N(Bt))})}}return e})();function Gu(e){e.getStandaloneInjector=n=>n.get(dN).getOrCreateStandaloneInjector(e)}function VN(e,n,t,r=!0){const i=n[T];if(function dT(e,n,t,r){const i=ot+r,o=t.length;r>0&&(t[i-1][hn]=n),r<o-ot?(n[hn]=t[i],ov(t,ot+r,n)):(t.push(n),n[hn]=null),n[xe]=t;const s=n[Go];null!==s&&t!==s&&function fT(e,n){const t=e[Ci];n[Ue]!==n[xe][xe][Ue]&&(e[om]=!0),null===t?e[Ci]=[n]:t.push(n)}(s,n);const a=n[Sn];null!==a&&a.insertView(e),n[J]|=128}(i,n,e,t),r){const o=wd(t,e),s=n[q],a=su(s,e[In]);null!==a&&function uT(e,n,t,r,i,o){r[ke]=i,r[ft]=n,cs(e,r,t,1,i,o)}(i,e[ft],s,n,a,o)}}let nr=(()=>{class e{static{this.__NG_ELEMENT_ID__=BN}}return e})();const $N=nr,UN=class extends $N{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function jN(e,n,t,r){const i=n.tView,a=Iu(e,i,t,4096&e[J]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Go]=e[n.index];const l=e[Sn];return null!==l&&(a[Sn]=l.createEmbeddedView(i)),ff(i,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:r});return new bs(i)}};function BN(){return qu(at(),C())}function qu(e,n){return 4&e.type?new UN(n,e,Gi(e,n)):null}let vn=(()=>{class e{static{this.__NG_ELEMENT_ID__=KN}}return e})();function KN(){return function yb(e,n){let t;const r=n[e.index];return _t(r)?t=r:(t=Jy(r,n,null,e),n[e.index]=t,Mu(n,t)),_b(t,n,e,r),new mb(t,e,n)}(at(),C())}const JN=vn,mb=class extends JN{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Gi(this._hostTNode,this._hostLView)}get injector(){return new Ct(this._hostTNode,this._hostLView)}get parentInjector(){const n=za(this._hostTNode,this._hostLView);if(Xc(n)){const t=ns(n,this._hostLView),r=ts(n);return new Ct(t[T].data[r+8],t)}return new Ct(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=vb(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,o){const s=n&&!function is(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const u=s?n:new Cs(se(n)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const m=(s?l:this.parentInjector).get(Bt,null);m&&(o=m)}se(u.componentType??{});const h=u.create(l,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView;if(function FM(e){return _t(e[xe])}(i)){const u=this.indexOf(n);if(-1!==u)this.detach(u);else{const l=i[xe],c=new mb(l,l[ft],l[xe]);c.detach(c.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;return VN(a,i,s,!r),n.attachToViewContainerRef(),ov(Lf(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=vb(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=ou(this._lContainer,t);r&&(Wa(Lf(this._lContainer),t),md(r[T],r))}detach(n){const t=this._adjustIndex(n,-1),r=ou(this._lContainer,t);return r&&null!=Wa(Lf(this._lContainer),t)?new bs(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function vb(e){return e[8]}function Lf(e){return e[8]||(e[8]=[])}let _b=function wb(e,n,t,r){if(e[In])return;let i;i=8&t.type?be(r):function ZN(e,n){const t=e[q],r=t.createComment(""),i=Ot(n,e);return zr(t,su(t,i),r,function mT(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[In]=i};function Hf(e,n){return qu(e,n)}const Jf=new O("Application Initializer");let Zf=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=x(Jf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(As(o))t.push(o);else if(O_(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Gb=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const rr=new O("LocaleId",{providedIn:"root",factory:()=>x(rr,re.Optional|re.SkipSelf)||function Ik(){return typeof $localize<"u"&&$localize.locale||ao}()});let Ju=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yt(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class Tk{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let qb=(()=>{class e{compileModuleSync(t){return new Pf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=er(Vt(t).declarations).reduce((s,a)=>{const u=se(a);return u&&s.push(new Cs(u)),s},[]);return new Tk(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Zb=new O(""),Yu=new O("");let th,Xf=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,th||(function Yk(e){th=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(N(Ce),N(eh),N(Yu))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})(),eh=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return th?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),br=null;const Yb=new O("AllowMultipleToken"),nh=new O("PlatformDestroyListeners"),rh=new O("appBootstrapListener");class Xb{constructor(n,t){this.name=n,this.token=t}}function tC(e,n,t=[]){const r=`Platform: ${n}`,i=new O(r);return(o=[])=>{let s=ih();if(!s||s.injector.get(Yb,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function e1(e){if(br&&!br.get(Yb,!1))throw new E(400,!1);(function Qb(){!function bM(e){vm=e}(()=>{throw new E(600,!1)})})(),br=e;const n=e.get(rC);(function eC(e){e.get(uy,null)?.forEach(t=>t())})(e)}(function nC(e=[],n){return zt.create({name:n,providers:[{provide:Pd,useValue:"platform"},{provide:nh,useValue:new Set([()=>br=null])},...e]})}(a,r))}return function n1(e){const n=ih();if(!n)throw new E(401,!1);return n}()}}function ih(){return br?.get(rC)??null}let rC=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function r1(e="zone.js",n){return"noop"===e?new Rx:"zone.js"===e?new Ce(n):e}(r?.ngZone,function iC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function cN(e,n,t){return new Rf(e,n,t)}(t.moduleType,this.injector,function lC(e){return[{provide:Ce,useFactory:e},{provide:ps,multi:!0,useFactory:()=>{const n=x(o1,{optional:!0});return()=>n.initialize()}},{provide:uC,useFactory:i1},{provide:Sy,useFactory:Iy}]}(()=>i)),s=o.injector.get(Xn,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Qu(this._modules,o),a.unsubscribe()})}),function oC(e,n,t){try{const r=t();return As(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Zf);return a.runInitializers(),a.donePromise.then(()=>(function Aw(e){Qt(e,"Expected localeId to be defined"),"string"==typeof e&&(Mw=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(rr,ao)||ao),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=sC({},r);return function Qk(e,n,t){const r=new Pf(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(co);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new E(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(nh,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(N(zt))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function sC(e,n){return Array.isArray(n)?n.reduce(sC,e):{...e,...n}}let co=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(uC),this.zoneIsStable=x(Sy),this.componentTypes=[],this.components=[],this.isStable=x(Ju).hasPendingTasks.pipe(ln(t=>t?$(!1):this.zoneIsStable),function RI(e,n=cr){return e=e??PI,Je((t,r)=>{let i,o=!0;t.subscribe(ze(r,s=>{const a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),kg()),this._injector=x(Bt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof hy;if(!this._injector.get(Zf).done)throw!i&&function vi(e){const n=se(e)||it(e)||yt(e);return null!==n&&n.standalone}(t),new E(405,!1);let s;s=i?t:this._injector.get(Cu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Xk(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Zr),l=s.create(zt.NULL,[],r||s.selector,a),c=l.location.nativeElement,d=l.injector.get(Zb,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),Qu(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Qu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(rh,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Qu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Qu(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const uC=new O("",{providedIn:"root",factory:()=>x(Xn).handleError.bind(void 0)});function i1(){const e=x(Ce),n=x(Xn);return t=>e.runOutsideAngular(()=>n.handleError(t))}let o1=(()=>{class e{constructor(){this.zone=x(Ce),this.applicationRef=x(co)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let Xu=(()=>{class e{static{this.__NG_ELEMENT_ID__=a1}}return e})();function a1(e){return function u1(e,n,t){if($r(e)&&!t){const r=$t(e.index,n);return new bs(r,r)}return 47&e.type?new bs(n[Ue],n):null}(at(),C(),16==(16&e))}class pC{constructor(){}supports(n){return Ou(n)}create(n){return new h1(n)}}const f1=(e,n)=>n;class h1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||f1}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<mC(r,i,o)?t:r,a=mC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,c=u-i;if(l!=c){for(let f=0;f<l;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;c<=p&&p<l&&(o[f]=h+1)}o[s.previousIndex]=c-l}}a!==u&&n(s,a,u)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Ou(n))throw new E(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function BO(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new p1(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new gC),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class p1{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class g1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class gC{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new g1,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mC(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function yC(){return new nl([new pC])}let nl=(()=>{class e{static{this.\u0275prov=k({token:e,providedIn:"root",factory:yC})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||yC()),deps:[[e,new Za,new Ja]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new E(901,!1)}}return e})();const w1=tC(null,"core",[]);let b1=(()=>{class e{constructor(t){}static{this.\u0275fac=function(r){return new(r||e)(N(co))}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=Xt({})}}return e})();function fo(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let ch=null;function Cr(){return ch}class k1{}const qt=new O("DocumentToken");let dh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:function(){return x(L1)},providedIn:"platform"})}}return e})();const F1=new O("Location Initialized");let L1=(()=>{class e extends dh{constructor(){super(),this._doc=x(qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cr().getBaseHref(this._doc)}onPopState(t){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function fh(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function AC(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function ir(e){return e&&"?"!==e[0]?"?"+e:e}let Qr=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:function(){return x(xC)},providedIn:"root"})}}return e})();const TC=new O("appBaseHref");let xC=(()=>{class e extends Qr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fh(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+ir(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+ir(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(N(dh),N(TC,8))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),j1=(()=>{class e extends Qr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=fh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ir(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ir(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(N(dh),N(TC,8))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})(),hh=(()=>{class e{constructor(t){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function U1(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(AC(OC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ir(r))}normalize(t){return e.stripTrailingSlash(function $1(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,OC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ir(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=ir}static{this.joinWithSlash=fh}static{this.stripTrailingSlash=AC}static{this.\u0275fac=function(r){return new(r||e)(N(Qr))}}static{this.\u0275prov=k({token:e,factory:function(){return function V1(){return new hh(N(Qr))}()},providedIn:"root"})}}return e})();function OC(e){return e.replace(/\/index.html$/,"")}function $C(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}class MF{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let HC=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new MF(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),zC(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{zC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(D(vn),D(nr),D(nl))}}static{this.\u0275dir=z({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function zC(e,n){e.context.$implicit=n.item}let pl=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new AF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){GC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){GC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(D(vn),D(nr))}}static{this.\u0275dir=z({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class AF{constructor(){this.$implicit=null,this.ngIf=null}}function GC(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ye(n)}'.`)}let Ah=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=Xt({})}}return e})();function JC(e){return"server"===e}let nL=(()=>{class e{static{this.\u0275prov=k({token:e,providedIn:"root",factory:()=>new rL(N(qt),window)})}}return e})();class rL{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function iL(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ZC{}class ML extends k1{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oh extends ML{static makeCurrent(){!function N1(e){ch||(ch=e)}(new Oh)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function AL(){return zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null}();return null==t?null:function TL(e){vl=vl||document.createElement("a"),vl.setAttribute("href",e);const n=vl.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return $C(document.cookie,n)}}let vl,zs=null,OL=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();const Rh=new O("EventManagerPlugins");let tD=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(N(Rh),N(Ce))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();class nD{constructor(n){this._doc=n}}const Ph="ng-app-id";let rD=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=JC(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ph}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Ph),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ph,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(N(qt),N(mu),N(ly,8),N(qr))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();const Nh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kh=/%COMP%/g,kL=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function oD(e,n){return n.map(t=>t.replace(kh,e))}let sD=(()=>{class e{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=JC(a),this.defaultRenderer=new Fh(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cn.ShadowDom&&(r={...r,encapsulation:cn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof uD?i.applyToHost(t):i instanceof Lh&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case cn.Emulated:o=new uD(u,l,r,this.appId,c,s,a,d);break;case cn.ShadowDom:return new VL(u,l,t,r,s,a,this.nonce,d);default:o=new Lh(u,l,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(N(tD),N(rD),N(mu),N(kL),N(qt),N(qr),N(Ce),N(ly))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();class Fh{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Nh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(aD(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(aD(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new E(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=Nh[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Nh[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(yr.DashCase|yr.Important)?n.style.setProperty(t,r,i&yr.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&yr.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=Cr().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function aD(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class VL extends Fh{constructor(n,t,r,i,o,s,a,u){super(n,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=oD(i.id,i.styles);for(const c of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lh extends Fh{constructor(n,t,r,i,o,s,a,u){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?oD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class uD extends Lh{constructor(n,t,r,i,o,s,a,u){const l=i+"-"+r.id;super(n,t,r,o,s,a,u,l),this.contentAttr=function FL(e){return"_ngcontent-%COMP%".replace(kh,e)}(l),this.hostAttr=function LL(e){return"_nghost-%COMP%".replace(kh,e)}(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let $L=(()=>{class e extends nD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(N(qt))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();const lD=["alt","control","meta","shift"],UL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let HL=(()=>{class e extends nD{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),lD.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=UL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lD.forEach(s=>{s!==i&&(0,BL[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(N(qt))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();const WL=tC(w1,"browser",[{provide:qr,useValue:"browser"},{provide:uy,useValue:function zL(){Oh.makeCurrent()},multi:!0},{provide:qt,useFactory:function qL(){return function ET(e){Dd=e}(document),document},deps:[]}]),KL=new O(""),fD=[{provide:Yu,useClass:class xL{addToWindow(n){we.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new E(5103,!1);return o},we.getAllAngularTestabilities=()=>n.getAllTestabilities(),we.getAllAngularRootElements=()=>n.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Cr().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:Zb,useClass:Xf,deps:[Ce,eh,Yu]},{provide:Xf,useClass:Xf,deps:[Ce,eh,Yu]}],hD=[{provide:Pd,useValue:"root"},{provide:Xn,useFactory:function GL(){return new Xn},deps:[]},{provide:Rh,useClass:$L,multi:!0,deps:[qt,Ce,qr]},{provide:Rh,useClass:HL,multi:!0,deps:[qt]},sD,rD,tD,{provide:gy,useExisting:sD},{provide:ZC,useClass:OL,deps:[]},[]];let JL=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:mu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(N(KL,12))}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=Xt({providers:[...hD,...fD],imports:[Ah,b1]})}}return e})(),pD=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(N(qt))}}static{this.\u0275prov=k({token:e,factory:function(r){let i=null;return i=r?new r:function YL(){return new pD(N(qt))}(),i},providedIn:"root"})}}return e})();typeof window<"u"&&window;const{isArray:rj}=Array,{getPrototypeOf:ij,prototype:oj,keys:sj}=Object;function yD(e){if(1===e.length){const n=e[0];if(rj(n))return{args:n,keys:null};if(function aj(e){return e&&"object"==typeof e&&ij(e)===oj}(n)){const t=sj(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:uj}=Array;function _D(e){return de(n=>function lj(e,n){return uj(n)?e(...n):e(n)}(e,n))}function wD(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Vh(...e){const n=jo(e),t=Og(e),{args:r,keys:i}=yD(e);if(0===r.length)return Ze([],n);const o=new Ve(function cj(e,n,t=cr){return r=>{bD(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)bD(n,()=>{const l=Ze(e[u],n);let c=!1;l.subscribe(ze(r,d=>{o[u]=d,c||(c=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>wD(i,s):cr));return t?o.pipe(_D(t)):o}function bD(e,n,t){e?zn(t,e,n):n()}const yl=te(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function $h(...e){return function dj(){return gi(1)}()(Ze(e,jo(e)))}function CD(e){return new Ve(n=>{Lt(e()).subscribe(n)})}function Gs(e,n){const t=j(e)?e:()=>e,r=i=>i.error(t());return new Ve(n?i=>n.schedule(r,0,i):r)}function Uh(){return Je((e,n)=>{let t=null;e._refCount++;const r=ze(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class DD extends Ve{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,mg(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new w;const t=this.getSubject();n.add(this.source.subscribe(ze(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=w.EMPTY)}return n}refCount(){return Uh()(this)}}function po(e){return e<=0?()=>Dn:Je((n,t)=>{let r=0;n.subscribe(ze(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function ar(e,n){return Je((t,r)=>{let i=0;t.subscribe(ze(r,o=>e.call(n,o,i++)&&r.next(o)))})}function _l(e){return Je((n,t)=>{let r=!1;n.subscribe(ze(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function ED(e=hj){return Je((n,t)=>{let r=!1;n.subscribe(ze(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function hj(){return new yl}function Xr(e,n){const t=arguments.length>=2;return r=>r.pipe(e?ar((i,o)=>e(i,o,r)):cr,po(1),t?_l(n):ED(()=>new yl))}function go(e,n){return j(n)?rt(e,n,1):rt(e,1)}function gt(e,n,t){const r=j(e)||n||t?{next:e,error:n,complete:t}:e;return r?Je((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ze(o,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),o.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):cr}function ei(e){return Je((n,t)=>{let o,r=null,i=!1;r=n.subscribe(ze(t,void 0,void 0,s=>{o=Lt(e(s,ei(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Bh(e){return e<=0?()=>Dn:Je((n,t)=>{let r=[];n.subscribe(ze(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qs(e){return Je((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const Z="primary",Ws=Symbol("RouteTitle");class _j{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function mo(e){return new _j(e)}function wj(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function kn(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!SD(e[i],n[i]))return!1;return!0}function SD(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function ID(e){return e.length>0?e[e.length-1]:null}function Er(e){return function nj(e){return!!e&&(e instanceof Ve||j(e.lift)&&j(e.subscribe))}(e)?e:As(e)?Ze(Promise.resolve(e)):$(e)}const Cj={exact:function TD(e,n,t){if(!ti(e.segments,n.segments)||!wl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!TD(e.children[r],n.children[r],t))return!1;return!0},subset:xD},MD={exact:function Dj(e,n){return kn(e,n)},subset:function Ej(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>SD(e[t],n[t]))},ignored:()=>!0};function AD(e,n,t){return Cj[t.paths](e.root,n.root,t.matrixParams)&&MD[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function xD(e,n,t){return OD(e,n,n.segments,t)}function OD(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!ti(i,t)||n.hasChildren()||!wl(i,t,r))}if(e.segments.length===t.length){if(!ti(e.segments,t)||!wl(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!xD(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(ti(e.segments,i)&&wl(e.segments,i,r)&&e.children[Z])&&OD(e.children[Z],n,o,r)}}function wl(e,n,t){return n.every((r,i)=>MD[t](e[i].parameters,r.parameters))}class vo{constructor(n=new ve([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mo(this.queryParams)),this._queryParamMap}toString(){return Mj.serialize(this)}}class ve{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bl(this)}}class Ks{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=mo(this.parameters)),this._parameterMap}toString(){return ND(this)}}function ti(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Js=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:function(){return new Hh},providedIn:"root"})}}return e})();class Hh{parse(n){const t=new jj(n);return new vo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Zs(n.root,!0)}`,r=function xj(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Cl(t)}=${Cl(i)}`).join("&"):`${Cl(t)}=${Cl(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function Aj(e){return encodeURI(e)}(n.fragment)}`:""}`}}const Mj=new Hh;function bl(e){return e.segments.map(n=>ND(n)).join("/")}function Zs(e,n){if(!e.hasChildren())return bl(e);if(n){const t=e.children[Z]?Zs(e.children[Z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Zs(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ij(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===Z&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Z&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===Z?[Zs(e.children[Z],!1)]:[`${i}:${Zs(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Z]?`${bl(e)}/${t[0]}`:`${bl(e)}/(${t.join("//")})`}}function RD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cl(e){return RD(e).replace(/%3B/gi,";")}function zh(e){return RD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dl(e){return decodeURIComponent(e)}function PD(e){return Dl(e.replace(/\+/g,"%20"))}function ND(e){return`${zh(e.path)}${function Tj(e){return Object.keys(e).map(n=>`;${zh(n)}=${zh(e[n])}`).join("")}(e.parameters)}`}const Oj=/^[^\/()?;#]+/;function Gh(e){const n=e.match(Oj);return n?n[0]:""}const Rj=/^[^\/()?;=#]+/,Nj=/^[^=?&#]+/,Fj=/^[^&#]+/;class jj{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Z]=new ve(n,t)),r}parseSegment(){const n=Gh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(n),new Ks(Dl(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function Pj(e){const n=e.match(Rj);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Gh(this.remaining);i&&(r=i,this.capture(r))}n[Dl(t)]=Dl(r)}parseQueryParam(n){const t=function kj(e){const n=e.match(Nj);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Lj(e){const n=e.match(Fj);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=PD(t),o=PD(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Z);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Z]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new E(4011,!1)}}function kD(e){return e.segments.length>0?new ve([],{[Z]:e}):e}function FD(e){const n={};for(const r of Object.keys(e.children)){const o=FD(e.children[r]);if(r===Z&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function Vj(e){if(1===e.numberOfChildren&&e.children[Z]){const n=e.children[Z];return new ve(e.segments.concat(n.segments),n.children)}return e}(new ve(e.segments,n))}function ni(e){return e instanceof vo}function LD(e){let n;const i=kD(function t(o){const s={};for(const u of o.children){const l=t(u);s[u.outlet]=l}const a=new ve(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function jD(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return qh(i,i,i,t,r);const o=function Uj(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new $D(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new $D(t,n,r)}(n);if(o.toRoot())return qh(i,i,new ve([],{}),t,r);const s=function Bj(e,n,t){if(e.isAbsolute)return new Sl(n,!0,0);if(!t)return new Sl(n,!1,NaN);if(null===t.parent)return new Sl(t,!0,0);const r=El(e.commands[0])?0:1;return function Hj(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Sl(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Qs(s.segmentGroup,s.index,o.commands):UD(s.segmentGroup,s.index,o.commands);return qh(i,s.segmentGroup,a,t,r)}function El(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ys(e){return"object"==typeof e&&null!=e&&e.outlets}function qh(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),s=e===n?t:VD(e,n,t);const a=kD(FD(s));return new vo(a,o,i)}function VD(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:VD(o,n,t)}),new ve(e.segments,r)}class $D{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&El(r[0]))throw new E(4003,!1);const i=r.find(Ys);if(i&&i!==ID(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sl{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function UD(e,n,t){if(e||(e=new ve([],{})),0===e.segments.length&&e.hasChildren())return Qs(e,n,t);const r=function Gj(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(Ys(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!HD(u,l,s))return o;r+=2}else{if(!HD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new ve(e.segments.slice(0,r.pathIndex),{});return o.children[Z]=new ve(e.segments.slice(r.pathIndex),e.children),Qs(o,0,i)}return r.match&&0===i.length?new ve(e.segments,{}):r.match&&!e.hasChildren()?Wh(e,n,t):r.match?Qs(e,0,i):Wh(e,n,t)}function Qs(e,n,t){if(0===t.length)return new ve(e.segments,{});{const r=function zj(e){return Ys(e[0])?e[0].outlets:{[Z]:e}}(t),i={};if(Object.keys(r).some(o=>o!==Z)&&e.children[Z]&&1===e.numberOfChildren&&0===e.children[Z].segments.length){const o=Qs(e.children[Z],n,t);return new ve(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=UD(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ve(e.segments,i)}}function Wh(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(Ys(o)){const u=qj(o.outlets);return new ve(r,u)}if(0===i&&El(t[0])){r.push(new Ks(e.segments[n].path,BD(t[0]))),i++;continue}const s=Ys(o)?o.outlets[Z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&El(a)?(r.push(new Ks(s,BD(a))),i+=2):(r.push(new Ks(s,{})),i++)}return new ve(r,{})}function qj(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=Wh(new ve([],{}),0,r))}),n}function BD(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function HD(e,n,t){return e==t.path&&kn(n,t.parameters)}const Xs="imperative";class Fn{constructor(n,t){this.id=n,this.url=t}}class Il extends Fn{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sr extends Fn{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ea extends Fn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yo extends Fn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Ml extends Fn{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zD extends Fn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wj extends Fn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kj extends Fn{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jj extends Fn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zj extends Fn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yj{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qj{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xj{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eV{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tV{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nV{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GD{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kh{}class Jh{constructor(n){this.url=n}}class rV{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ta,this.attachRef=null}}let ta=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new rV,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class qD{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Zh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Zh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Yh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Yh(n,this._root).map(t=>t.value)}}function Zh(e,n){if(e===n.value)return n;for(const t of n.children){const r=Zh(e,t);if(r)return r}return null}function Yh(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Yh(e,t);if(r.length)return r.unshift(n),r}return[]}class ur{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function _o(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class WD extends qD{constructor(n,t){super(n),this.snapshot=t,Qh(this,n)}toString(){return this.snapshot.toString()}}function KD(e,n){const t=function iV(e,n){const s=new Al([],{},{},"",{},Z,n,null,{});return new ZD("",new ur(s,[]))}(0,n),r=new Yt([new Ks("",{})]),i=new Yt({}),o=new Yt({}),s=new Yt({}),a=new Yt(""),u=new ri(r,i,s,a,o,Z,n,t.root);return u.snapshot=t.root,new WD(new ur(u,[]),t)}class ri{constructor(n,t,r,i,o,s,a,u){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(de(l=>l[Ws]))??$(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(n=>mo(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(n=>mo(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JD(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function oV(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Al{get title(){return this.data?.[Ws]}constructor(n,t,r,i,o,s,a,u,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZD extends qD{constructor(n,t){super(t),this.url=n,Qh(this,t)}toString(){return YD(this._root)}}function Qh(e,n){n.value._routerState=e,n.children.forEach(t=>Qh(e,t))}function YD(e){const n=e.children.length>0?` { ${e.children.map(YD).join(", ")} } `:"";return`${e.value}${n}`}function Xh(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,kn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),kn(n.params,t.params)||e.paramsSubject.next(t.params),function bj(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!kn(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),kn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ep(e,n){const t=kn(e.params,n.params)&&function Sj(e,n){return ti(e,n)&&e.every((t,r)=>kn(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||ep(e.parent,n.parent))}let tp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=x(ta),this.location=x(vn),this.changeDetector=x(Xu),this.environmentInjector=x(Bt),this.inputBinder=x(Tl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new sV(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=z({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tn]})}}return e})();class sV{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===ri?this.route:n===ta?this.childContexts:this.parent.get(n,t)}}const Tl=new O("");let QD=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Vh([r.queryParams,r.params,r.data]).pipe(ln(([o,s,a],u)=>(a={...o,...s,...a},0===u?$(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function P1(e){const n=se(e);if(!n)return null;const t=new Cs(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();function na(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function uV(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return na(e,r,i);return na(e,r)})}(e,n,t);return new ur(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>na(e,a)),s}}const r=function lV(e){return new ri(new Yt(e.url),new Yt(e.params),new Yt(e.queryParams),new Yt(e.fragment),new Yt(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>na(e,o));return new ur(r,i)}}const np="ngNavigationCancelingError";function XD(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=ni(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=e0(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function e0(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[np]=!0,r.cancellationCode=n,t&&(r.url=t),r}function t0(e){return e&&e[np]}let n0=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Wn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Gu],decls:1,vars:0,template:function(r,i){1&r&&Le(0,"router-outlet")},dependencies:[tp],encapsulation:2})}}return e})();function rp(e){const n=e.children&&e.children.map(rp),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=n0),t}function wn(e){return e.outlet||Z}function ra(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class vV{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Xh(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=_o(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=_o(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=_o(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=_o(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nV(o.value.snapshot))}),n.children.length&&this.forwardEvent(new eV(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(Xh(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xh(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=ra(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class r0{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class xl{constructor(n,t){this.component=n,this.route=t}}function yV(e,n,t){const r=e._root;return ia(r,n?n._root:null,t,[r.value])}function wo(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function $I(e){return null!==Sa(e)}(e)?n.get(e):e:r}function ia(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=_o(n);return e.children.forEach(s=>{(function wV(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function bV(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!ti(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ti(e.url,n.url)||!kn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ep(e,n)||!kn(e.queryParams,n.queryParams);default:return!ep(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new r0(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ia(e,n,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xl(a.outlet.component,s))}else s&&oa(n,a,i),i.canActivateChecks.push(new r0(r)),ia(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>oa(a,t.getContext(s),i)),i}function oa(e,n,t){const r=_o(e),i=e.value;Object.entries(r).forEach(([o,s])=>{oa(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new xl(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function sa(e){return"function"==typeof e}function o0(e){return e instanceof yl||"EmptyError"===e?.name}const Ol=Symbol("INITIAL_VALUE");function bo(){return ln(e=>Vh(e.map(n=>n.pipe(po(1),function fj(...e){const n=jo(e);return Je((t,r)=>{(n?$h(e,t,n):$h(e,t)).subscribe(r)})}(Ol)))).pipe(de(n=>{for(const t of n)if(!0!==t){if(t===Ol)return Ol;if(!1===t||t instanceof vo)return t}return!0}),ar(n=>n!==Ol),po(1)))}function s0(e){return function LS(...e){return hg(e)}(gt(n=>{if(ni(n))throw XD(0,n)}),de(n=>!0===n))}class Rl{constructor(n){this.segmentGroup=n||null}}class a0{constructor(n){this.urlTree=n}}function Co(e){return Gs(new Rl(e))}function u0(e){return Gs(new a0(e))}class UV{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new E(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[Z])return Gs(new E(4e3,!1));i=i.children[Z]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new vo(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(n,u,r,i)}),new ve(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const ip={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BV(e,n,t,r,i){const o=op(e,n,t);return o.matched?(r=function dV(e,n){return e.providers&&!e._injector&&(e._injector=Nf(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function jV(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?$(i.map(s=>{const a=wo(s,e);return Er(function MV(e){return e&&sa(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(bo(),s0()):$(!0)}(r,n,t).pipe(de(s=>!0===s?o:{...ip}))):$(o)}function op(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...ip}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||wj)(t,e,n);if(!i)return{...ip};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function l0(e,n,t,r){return t.length>0&&function GV(e,n,t){return t.some(r=>Pl(e,n,r)&&wn(r)!==Z)}(e,t,r)?{segmentGroup:new ve(n,zV(r,new ve(t,e.children))),slicedSegments:[]}:0===t.length&&function qV(e,n,t){return t.some(r=>Pl(e,n,r))}(e,t,r)?{segmentGroup:new ve(e.segments,HV(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ve(e.segments,e.children),slicedSegments:t}}function HV(e,n,t,r,i){const o={};for(const s of r)if(Pl(e,t,s)&&!i[wn(s)]){const a=new ve([],{});o[wn(s)]=a}return{...i,...o}}function zV(e,n){const t={};t[Z]=n;for(const r of e)if(""===r.path&&wn(r)!==Z){const i=new ve([],{});t[wn(r)]=i}return t}function Pl(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class ZV{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new UV(this.urlSerializer,this.urlTree)}noMatchError(n){return new E(4002,!1)}recognize(){const n=l0(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Z).pipe(ei(t=>{if(t instanceof a0)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Rl?this.noMatchError(t):t}),de(t=>{const r=new Al([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),i=new ur(r,t),o=new ZD("",i),s=function $j(e,n,t=null,r=null){return jD(LD(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Z).pipe(ei(r=>{throw r instanceof Rl?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=JD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ze(i).pipe(go(o=>{const s=r.children[o],a=function gV(e,n){const t=e.filter(r=>wn(r)===n);return t.push(...e.filter(r=>wn(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function gj(e,n){return Je(function pj(e,n,t,r,i){return(o,s)=>{let a=t,u=n,l=0;o.subscribe(ze(s,c=>{const d=l++;u=a?e(u,c,d):(a=!0,c),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),_l(null),function mj(e,n){const t=arguments.length>=2;return r=>r.pipe(e?ar((i,o)=>e(i,o,r)):cr,Bh(1),t?_l(n):ED(()=>new yl))}(),rt(o=>{if(null===o)return Co(r);const s=c0(o);return function YV(e){e.sort((n,t)=>n.value.outlet===Z?-1:t.value.outlet===Z?1:n.value.outlet.localeCompare(t.value.outlet))}(s),$(s)}))}processSegment(n,t,r,i,o,s){return Ze(t).pipe(go(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(ei(u=>{if(u instanceof Rl)return $(null);throw u}))),Xr(a=>!!a),ei(a=>{if(o0(a))return function KV(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?$([]):Co(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function WV(e,n,t,r){return!!(wn(e)===r||r!==Z&&Pl(n,t,e))&&("**"===e.path||op(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):Co(i):Co(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?u0(o):this.applyRedirects.lineralizeSegments(r,o).pipe(rt(s=>{const a=new ve(s,{});return this.processSegment(n,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=op(t,i,o);if(!a)return Co(t);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?u0(d):this.applyRedirects.lineralizeSegments(i,d).pipe(rt(f=>this.processSegment(n,r,t,f.concat(l),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?ID(i).parameters:{};a=$({snapshot:new Al(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,d0(r),wn(r),r.component??r._loadedComponent??null,r,f0(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=BV(t,r,i,n).pipe(de(({matched:u,consumedSegments:l,remainingSegments:c,parameters:d})=>u?{snapshot:new Al(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,d0(r),wn(r),r.component??r._loadedComponent??null,r,f0(r)),consumedSegments:l,remainingSegments:c}:null));return a.pipe(ln(u=>null===u?Co(t):this.getChildConfig(n=r._injector??n,r,i).pipe(ln(({routes:l})=>{const c=r._loadedInjector??n,{snapshot:d,consumedSegments:f,remainingSegments:h}=u,{segmentGroup:p,slicedSegments:g}=l0(t,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(c,l,p).pipe(de(_=>null===_?null:[new ur(d,_)]));if(0===l.length&&0===g.length)return $([new ur(d,[])]);const m=wn(r)===o;return this.processSegment(c,l,p,g,m?Z:o,!0).pipe(de(_=>[new ur(d,_)]))}))))}getChildConfig(n,t,r){return t.children?$({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?$({routes:t._loadedRoutes,injector:t._loadedInjector}):function LV(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(s=>{const a=wo(s,e);return Er(function DV(e){return e&&sa(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(bo(),s0())}(n,t,r).pipe(rt(i=>i?this.configLoader.loadChildren(n,t).pipe(gt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function $V(e){return Gs(e0(!1,3))}())):$({routes:[],injector:n})}}function QV(e){const n=e.value.routeConfig;return n&&""===n.path}function c0(e){const n=[],t=new Set;for(const r of e){if(!QV(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=c0(r.children);n.push(new ur(r.value,i))}return n.filter(r=>!t.has(r))}function d0(e){return e.data||{}}function f0(e){return e.resolve||{}}function h0(e){return"string"==typeof e.title||null===e.title}function sp(e){return ln(n=>{const t=e(n);return t?Ze(t).pipe(de(()=>n)):$(n)})}const Do=new O("ROUTES");let ap=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(qb)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return $(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Er(t.loadComponent()).pipe(de(p0),gt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),qs(()=>{this.componentLoaders.delete(t)})),i=new DD(r,()=>new un).pipe(Uh());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function o$(e,n,t,r){return Er(e.loadChildren()).pipe(de(p0),rt(i=>i instanceof Xw||Array.isArray(i)?$(i):Ze(n.compileModuleAsync(i))),de(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Do,[],{optional:!0,self:!0}).flat()),{routes:s.map(rp),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(qs(()=>{this.childrenLoaders.delete(r)})),s=new DD(o,()=>new un).pipe(Uh());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function p0(e){return function s$(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Nl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new un,this.transitionAbortSubject=new un,this.configLoader=x(ap),this.environmentInjector=x(Bt),this.urlSerializer=x(Js),this.rootContexts=x(ta),this.inputBindingEnabled=null!==x(Tl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Qj(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Yj(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Yt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ar(o=>0!==o.id),de(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),ln(o=>{this.currentTransition=o;let s=!1,a=!1;return $(o).pipe(gt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ln(u=>{const l=u.currentBrowserUrl.toString(),c=!t.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new yo(u.id,this.urlSerializer.serialize(u.rawUrl),f,0)),u.resolve(null),Dn}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return $(u).pipe(ln(f=>{const h=this.transitions?.getValue();return this.events.next(new Il(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Dn:Promise.resolve(f)}),function XV(e,n,t,r,i,o){return rt(s=>function JV(e,n,t,r,i,o,s="emptyOnly"){return new ZV(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(de(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),gt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new zD(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=u,_=new Il(f,this.urlSerializer.serialize(h),p,g);this.events.next(_);const v=KD(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:v,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},$(o)}{const f="";return this.events.next(new yo(u.id,this.urlSerializer.serialize(u.extractedUrl),f,1)),u.resolve(null),Dn}}),gt(u=>{const l=new Wj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),de(u=>(this.currentTransition=o={...u,guards:yV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function TV(e,n){return rt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?$({...t,guardsResult:!0}):function xV(e,n,t,r){return Ze(e).pipe(rt(i=>function FV(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?$(o.map(a=>{const u=ra(n)??i,l=wo(a,u);return Er(function IV(e){return e&&sa(e.canDeactivate)}(l)?l.canDeactivate(e,n,t,r):u.runInContext(()=>l(e,n,t,r))).pipe(Xr())})).pipe(bo()):$(!0)}(i.component,i.route,t,n,r)),Xr(i=>!0!==i,!0))}(s,r,i,e).pipe(rt(a=>a&&function CV(e){return"boolean"==typeof e}(a)?function OV(e,n,t,r){return Ze(n).pipe(go(i=>$h(function PV(e,n){return null!==e&&n&&n(new Xj(e)),$(!0)}(i.route.parent,r),function RV(e,n){return null!==e&&n&&n(new tV(e)),$(!0)}(i.route,r),function kV(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function _V(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>CD(()=>$(s.guards.map(u=>{const l=ra(s.node)??t,c=wo(u,l);return Er(function SV(e){return e&&sa(e.canActivateChild)}(c)?c.canActivateChild(r,e):l.runInContext(()=>c(r,e))).pipe(Xr())})).pipe(bo())));return $(o).pipe(bo())}(e,i.path,t),function NV(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(o=>CD(()=>{const s=ra(n)??t,a=wo(o,s);return Er(function EV(e){return e&&sa(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(Xr())}));return $(i).pipe(bo())}(e,i.route,t))),Xr(i=>!0!==i,!0))}(r,o,e,n):$(a)),de(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),gt(u=>{if(o.guardsResult=u.guardsResult,ni(u.guardsResult))throw XD(0,u.guardsResult);const l=new Kj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ar(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),sp(u=>{if(u.guards.canActivateChecks.length)return $(u).pipe(gt(l=>{const c=new Jj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ln(l=>{let c=!1;return $(l).pipe(function e$(e,n){return rt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return $(t);let o=0;return Ze(i).pipe(go(s=>function t$(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!h0(i)&&(o[Ws]=i.title),function n$(e,n,t,r){const i=function r$(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return $({});const o={};return Ze(i).pipe(rt(s=>function i$(e,n,t,r){const i=ra(n)??r,o=wo(e,i);return Er(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[s],n,t,r).pipe(Xr(),gt(a=>{o[s]=a}))),Bh(1),function vj(e){return de(()=>e)}(o),ei(s=>o0(s)?Dn:Gs(s)))}(o,e,n,r).pipe(de(s=>(e._resolvedData=s,e.data=JD(e,t).resolve,i&&h0(i)&&(e.data[Ws]=i.title),null)))}(s.route,r,e,n)),gt(()=>o++),Bh(1),rt(s=>o===i.length?$(t):Dn))})}(t.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",2)}}))}),gt(l=>{const c=new Zj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),sp(u=>{const l=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(gt(f=>{c.component=f}),de(()=>{})));for(const f of c.children)d.push(...l(f));return d};return Vh(l(u.targetSnapshot.root)).pipe(_l(),po(1))}),sp(()=>this.afterPreactivation()),de(u=>{const l=function aV(e,n,t){const r=na(e,n._root,t?t._root:void 0);return new WD(r,n)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:l},o}),gt(()=>{this.events.next(new Kh)}),((e,n,t,r)=>de(i=>(new vV(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),po(1),gt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function yj(e){return Je((n,t)=>{Lt(e).subscribe(ze(t,()=>t.complete(),oe)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(gt(u=>{throw u}))),qs(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ei(u=>{if(a=!0,t0(u))this.events.next(new ea(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function cV(e){return t0(e)&&ni(e.url)}(u)?this.events.next(new Jh(u.url)):o.resolve(!1);else{this.events.next(new Ml(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(l){o.reject(l)}}return Dn}))}))}cancelNavigationTransition(t,r,i){const o=new ea(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function g0(e){return e!==Xs}let m0=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(t){return t.data[Ws]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:function(){return x(a$)},providedIn:"root"})}}return e})(),a$=(()=>{class e extends m0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(N(pD))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),u$=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:function(){return x(c$)},providedIn:"root"})}}return e})();class l${shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let c$=(()=>{class e extends l${static{this.\u0275fac=function(){let t;return function(i){return(t||(t=ut(e)))(i||e)}}()}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const kl=new O("",{providedIn:"root",factory:()=>({})});let d$=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:function(){return x(f$)},providedIn:"root"})}}return e})(),f$=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var aa=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(aa||{});function v0(e,n){e.events.pipe(ar(t=>t instanceof Sr||t instanceof ea||t instanceof Ml||t instanceof yo),de(t=>t instanceof Sr||t instanceof yo?aa.COMPLETE:t instanceof ea&&(0===t.code||1===t.code)?aa.REDIRECTING:aa.FAILED),ar(t=>t!==aa.REDIRECTING),po(1)).subscribe(()=>{n()})}function h$(e){throw e}function p$(e,n,t){return n.parse("/")}const g$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kt=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=x(Gb),this.isNgZoneEnabled=!1,this._events=new un,this.options=x(kl,{optional:!0})||{},this.pendingTasks=x(Ju),this.errorHandler=this.options.errorHandler||h$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||p$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=x(d$),this.routeReuseStrategy=x(u$),this.titleStrategy=x(m0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=x(Do,{optional:!0})?.flat()??[],this.navigationTransitions=x(Nl),this.urlSerializer=x(Js),this.location=x(hh),this.componentInputBindingEnabled=!!x(Tl,{optional:!0}),this.eventsSubscription=new w,this.isNgZoneEnabled=x(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=KD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(y0(r)&&this._events.next(r));if(r instanceof Il)g0(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof yo)this.rawUrlTree=i.rawUrl;else if(r instanceof zD){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Kh)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof ea)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Jh){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||g0(i.source)};this.scheduleNavigation(o,Xs,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Ml&&this.restoreHistory(i,!0),r instanceof Sr&&(this.navigated=!0),y0(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xs,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(rp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=LD(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return jD(d,t,c,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ni(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xs,null,r)}navigate(t,r={skipLocationChange:!1}){return function v$(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new E(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...g$}:!1===r?{...m$}:r,ni(t))return AD(this.currentUrlTree,t,i);const o=this.parseUrl(t);return AD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,u=f});const c=this.pendingTasks.add();return v0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function y0(e){return!(e instanceof Kh||e instanceof Jh)}let ii=(()=>{class e{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new un,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function ey(e,n,t){return function qT(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Xv:fu}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(D(kt),D(ri),function qa(e){return function fA(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Wg(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===n)return t[i+1];i+=2}}}return null}(at(),e)}("tabindex"),D(Qn),D(Ht),D(Qr))}}static{this.\u0275dir=z({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Xe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Rn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",fo],skipLocationChange:["skipLocationChange","skipLocationChange",fo],replaceUrl:["replaceUrl","replaceUrl",fo],routerLink:"routerLink"},standalone:!0,features:[h_,tn]})}}return e})();class _0{}let w$=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ar(t=>t instanceof Sr),go(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Nf(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ze(i).pipe(gi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):$(null);const o=i.pipe(rt(s=>null===s?$(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Ze([o,this.loader.loadComponent(r)]).pipe(gi()):o})}static{this.\u0275fac=function(r){return new(r||e)(N(kt),N(qb),N(Bt),N(_0),N(ap))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const up=new O("");let w0=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Il?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof yo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof GD&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GD(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function $y(){throw new Error("invalid")}()}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();function lr(e,n){return{\u0275kind:e,\u0275providers:n}}function C0(){const e=x(zt);return n=>{const t=e.get(co);if(n!==t.components[0])return;const r=e.get(kt),i=e.get(D0);1===e.get(lp)&&r.initialNavigation(),e.get(E0,null,re.Optional)?.setUpPreloading(),e.get(up,null,re.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const D0=new O("",{factory:()=>new un}),lp=new O("",{providedIn:"root",factory:()=>1}),E0=new O("");function E$(e){return lr(0,[{provide:E0,useExisting:w$},{provide:_0,useExisting:e}])}const S0=new O("ROUTER_FORROOT_GUARD"),I$=[hh,{provide:Js,useClass:Hh},kt,ta,{provide:ri,useFactory:function b0(e){return e.routerState.root},deps:[kt]},ap,[]];function M$(){return new Xb("Router",kt)}let I0=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[I$,[],{provide:Do,multi:!0,useValue:t},{provide:S0,useFactory:O$,deps:[[kt,new Ja,new Za]]},{provide:kl,useValue:r||{}},r?.useHash?{provide:Qr,useClass:j1}:{provide:Qr,useClass:xC},{provide:up,useFactory:()=>{const e=x(nL),n=x(Ce),t=x(kl),r=x(Nl),i=x(Js);return t.scrollOffset&&e.setOffset(t.scrollOffset),new w0(i,r,e,n,t)}},r?.preloadingStrategy?E$(r.preloadingStrategy).\u0275providers:[],{provide:Xb,multi:!0,useFactory:M$},r?.initialNavigation?R$(r):[],r?.bindToComponentInputs?lr(8,[QD,{provide:Tl,useExisting:QD}]).\u0275providers:[],[{provide:M0,useFactory:C0},{provide:rh,multi:!0,useExisting:M0}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Do,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(N(S0,8))}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=Xt({})}}return e})();function O$(e){return"guarded"}function R$(e){return["disabled"===e.initialNavigation?lr(3,[{provide:Jf,multi:!0,useFactory:()=>{const n=x(kt);return()=>{n.setUpLocationChangeListener()}}},{provide:lp,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?lr(2,[{provide:lp,useValue:0},{provide:Jf,multi:!0,deps:[zt],useFactory:n=>{const t=n.get(F1,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(kt),o=n.get(D0);v0(i,()=>{r(!0)}),n.get(Nl).afterPreactivation=()=>(r(!0),o.closed?$(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const M0=new O("");let N$=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Wn({type:e,selectors:[["app-bienvenida"]],decls:21,vars:0,consts:[[1,"sky"],[1,"card-bienvenida"],["src","assets/img/bienvenida.png","alt","Echo saludando",1,"echo"],[1,"texto"],["routerLink","/login",1,"btn","btn--start"]],template:function(r,i){1&r&&(P(0,"main",0)(1,"section",1),Le(2,"img",2),P(3,"div",3)(4,"h2"),ee(5,"\xa1Hola! Soy Echo, un robot explorador."),F(),P(6,"p"),ee(7,"He viajado desde muy lejos porque mis amigos robots est\xe1n atrapados en diferentes lugares de Colombia."),F(),P(8,"p")(9,"strong"),ee(10,"\xa1Necesitan ayuda urgente!"),F()(),P(11,"p"),ee(12,"Un mapache travieso llamado Max me est\xe1 persiguiendo y no me deja ayudarlos. "),F(),P(13,"p"),ee(14,"Por eso busco a alguien como t\xfa: curioso, valiente y con ganas de aprender a programar. "),F(),P(15,"p"),ee(16,"Juntos, usando Scratch, podremos viajar por Colombia, superar retos y \xa1rescatar a todos mis amigos robots! "),F(),P(17,"p"),ee(18,"\xbfTe unes a esta gran aventura? "),F(),P(19,"a",4),ee(20,"\u{1f9ed} Unirse a la aventura"),F()()()())},dependencies:[ii],styles:[".sky[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;background:url(nubes_portada.783bd1537aa19cdb.png) center/cover no-repeat}.card-bienvenida[_ngcontent-%COMP%]{background:var(--panel);border:3px solid var(--border);border-radius:var(--radius-xl);box-shadow:var(--shadow);width:min(900px,92%);padding:20px;display:grid;grid-template-columns:260px 1fr;gap:20px;align-items:center}.echo[_ngcontent-%COMP%]{width:100%;height:auto}.texto[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px;font-size:2rem;font-weight:700}.texto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6}.btn[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;background:#FF6F61;color:#26100e;font-weight:700;border-radius:50px;text-decoration:none;box-shadow:var(--shadow)}"]})}}return e})(),A0=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||e)(D(Qn),D(Ht))}}static{this.\u0275dir=z({type:e})}}return e})(),oi=(()=>{class e extends A0{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=ut(e)))(i||e)}}()}static{this.\u0275dir=z({type:e,features:[me]})}}return e})();const Ln=new O("NgValueAccessor"),L$={provide:Ln,useExisting:_e(()=>ua),multi:!0},V$=new O("CompositionEventMode");let ua=(()=>{class e extends A0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j$(){const e=Cr()?Cr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||e)(D(Qn),D(Ht),D(V$,8))}}static{this.\u0275dir=z({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Xe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Oe([L$]),me]})}}return e})();function Ir(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function x0(e){return null!=e&&"number"==typeof e.length}const mt=new O("NgValidators"),Mr=new O("NgAsyncValidators"),$$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ar{static min(n){return function O0(e){return n=>{if(Ir(n.value)||Ir(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function R0(e){return n=>{if(Ir(n.value)||Ir(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return P0(n)}static requiredTrue(n){return function N0(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function k0(e){return Ir(e.value)||$$.test(e.value)?null:{email:!0}}(n)}static minLength(n){return F0(n)}static maxLength(n){return function L0(e){return n=>x0(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function j0(e){if(!e)return Fl;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Ir(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return z0(n)}static composeAsync(n){return G0(n)}}function P0(e){return Ir(e.value)?{required:!0}:null}function F0(e){return n=>Ir(n.value)||!x0(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function Fl(e){return null}function V0(e){return null!=e}function $0(e){return As(e)?Ze(e):e}function U0(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function B0(e,n){return n.map(t=>t(e))}function H0(e){return e.map(n=>function U$(e){return!e.validate}(n)?n:t=>n.validate(t))}function z0(e){if(!e)return null;const n=e.filter(V0);return 0==n.length?null:function(t){return U0(B0(t,n))}}function cp(e){return null!=e?z0(H0(e)):null}function G0(e){if(!e)return null;const n=e.filter(V0);return 0==n.length?null:function(t){return function k$(...e){const n=Og(e),{args:t,keys:r}=yD(e),i=new Ve(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let c=0;c<s;c++){let d=!1;Lt(t[c]).subscribe(ze(o,f=>{d||(d=!0,l--),a[c]=f},()=>u--,void 0,()=>{(!u||!d)&&(l||o.next(r?wD(r,a):a),o.complete())}))}});return n?i.pipe(_D(n)):i}(B0(t,n).map($0)).pipe(de(U0))}}function dp(e){return null!=e?G0(H0(e)):null}function q0(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function W0(e){return e._rawValidators}function K0(e){return e._rawAsyncValidators}function fp(e){return e?Array.isArray(e)?e:[e]:[]}function Ll(e,n){return Array.isArray(e)?e.includes(n):e===n}function J0(e,n){const t=fp(n);return fp(e).forEach(i=>{Ll(t,i)||t.push(i)}),t}function Z0(e,n){return fp(n).filter(t=>!Ll(e,t))}class Y0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=cp(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=dp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Mt extends Y0{get formDirective(){return null}get path(){return null}}class Tr extends Y0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Q0{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hp=(()=>{class e extends Q0{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(D(Tr,2))}}static{this.\u0275dir=z({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Vu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[me]})}}return e})(),pp=(()=>{class e extends Q0{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(D(Mt,10))}}static{this.\u0275dir=z({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Vu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[me]})}}return e})();const la="VALID",Vl="INVALID",Eo="PENDING",ca="DISABLED";function vp(e){return($l(e)?e.validators:e)||null}function yp(e,n){return($l(n)?n.asyncValidators:e)||null}function $l(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function eE(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new E(1e3,"");if(!r[t])throw new E(1001,"")}function tE(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new E(1002,"")})}class Ul{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===la}get invalid(){return this.status===Vl}get pending(){return this.status==Eo}get disabled(){return this.status===ca}get enabled(){return this.status!==ca}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(J0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(J0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Z0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Z0(n,this._rawAsyncValidators))}hasValidator(n){return Ll(this._rawValidators,n)}hasAsyncValidator(n){return Ll(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Eo,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=ca,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=la,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===Eo)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ca:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Eo,this._hasOwnPendingAsyncValidator=!0;const t=$0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ca:this.errors?Vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eo)?Eo:this._anyControlsHaveStatus(Vl)?Vl:la}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){$l(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function G$(e){return Array.isArray(e)?cp(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function q$(e){return Array.isArray(e)?dp(e):e||null}(this._rawAsyncValidators)}}class da extends Ul{constructor(n,t,r){super(vp(t),yp(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){tE(this,0,n),Object.keys(n).forEach(r=>{eE(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class nE extends da{}const So=new O("CallSetDisabledState",{providedIn:"root",factory:()=>Bl}),Bl="always";function fa(e,n,t=Bl){_p(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function K$(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&rE(e,n)})}(e,n),function Z$(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function J$(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&rE(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function W$(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function zl(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),ql(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Gl(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function _p(e,n){const t=W0(e);null!==n.validator?e.setValidators(q0(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=K0(e);null!==n.asyncValidator?e.setAsyncValidators(q0(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Gl(n._rawValidators,i),Gl(n._rawAsyncValidators,i)}function ql(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=W0(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(null!==n.asyncValidator){const i=K0(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}const r=()=>{};return Gl(n._rawValidators,r),Gl(n._rawAsyncValidators,r),t}function rE(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sE(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function aE(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const pa=class extends Ul{constructor(n=null,t,r){super(vp(t),yp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$l(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=aE(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){sE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){sE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){aE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let Ep=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=z({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),hE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=Xt({})}}return e})();const Sp=new O("NgModelWithFormControlWarning"),c2={provide:Mt,useExisting:_e(()=>ga)};let ga=(()=>{class e extends Mt{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ql(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return fa(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zl(t.control||null,t,!1),function e2(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function oE(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(zl(r||null,t),(e=>e instanceof pa)(i)&&(fa(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function iE(e,n){_p(e,n)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Y$(e,n){return ql(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_p(this.form,this),this._oldForm&&ql(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||e)(D(mt,10),D(Mr,10),D(So,8))}}static{this.\u0275dir=z({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Xe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([c2]),me,tn]})}}return e})();const h2={provide:Tr,useExisting:_e(()=>Wl)};let Wl=(()=>{class e extends Tr{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Cp(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===ua?t=o:function X$(e){return Object.getPrototypeOf(e.constructor)===oi}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){this._added||this._setUpControl(),function bp(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Hl(e,n){return[...n.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(D(Mt,13),D(mt,10),D(Mr,10),D(Ln,10),D(Sp,8))}}static{this.\u0275dir=z({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Oe([h2]),me,tn]})}}return e})();let si=(()=>{class e{constructor(){this._validator=Fl}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Fl,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=z({type:e,features:[tn]})}}return e})();const C2={provide:mt,useExisting:_e(()=>ma),multi:!0};let ma=(()=>{class e extends si{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=fo,this.createValidator=t=>P0}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=ut(e)))(i||e)}}()}static{this.\u0275dir=z({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Rn("required",i._enabled?"":null)},inputs:{required:"required"},features:[Oe([C2]),me]})}}return e})();const S2={provide:mt,useExisting:_e(()=>Kl),multi:!0};let Kl=(()=>{class e extends si{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function wE(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>F0(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=ut(e)))(i||e)}}()}static{this.\u0275dir=z({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Rn("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Oe([S2]),me]})}}return e})(),A2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=Xt({imports:[hE]})}}return e})();class AE extends Ul{constructor(n,t,r){super(vp(t),yp(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){tE(this,0,n),n.forEach((r,i)=>{eE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function TE(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let xE=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return TE(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new da(i,o)}record(t,r=null){const i=this._reduceControls(t);return new nE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(TE(r)?o=r:(o.validators=r,o.asyncValidators=i),new pa(t,{...o,nonNullable:!0})):new pa(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new AE(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof pa||t instanceof Ul?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),OE=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Sp,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:So,useValue:t.callSetDisabledState??Bl}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=Xt({imports:[A2]})}}return e})();class xp extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}}class RE extends xp{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class PE extends xp{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class NE extends xp{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var kE=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(kE||{});class O2{constructor(n,{headers:t={},customFetch:r,region:i=kE.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=(e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(X.bind(X,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)})(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(this,arguments,void 0,function*(t,r={}){var i;try{const{headers:o,method:s,body:a,signal:u}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);let f;c&&"any"!==c&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c)),a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=a):"string"==typeof a?(l["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(l["Content-Type"]="application/json",f=JSON.stringify(a)));const h=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),o),body:f,signal:u}).catch(_=>{throw"AbortError"===_.name?_:new RE(_)}),p=h.headers.get("x-relay-error");if(p&&"true"===p)throw new PE(h);if(!h.ok)throw new NE(h);let m,g=(null!==(i=h.headers.get("Content-Type"))&&void 0!==i?i:"text/plain").split(";")[0].trim();return m="application/json"===g?yield h.json():"application/octet-stream"===g?yield h.blob():"text/event-stream"===g?h:"multipart/form-data"===g?yield h.formData():yield h.text(),{data:m,error:null,response:h}}catch(o){return o instanceof Error&&"AbortError"===o.name?{data:null,error:new RE(o)}:{data:null,error:o,response:o instanceof NE||o instanceof PE?o.context:void 0}}})}}var R2=X(60);const{PostgrestClient:FE}=R2;function LE(e,n,t,r,i,o,s){try{var a=e[o](s),u=a.value}catch(l){return void t(l)}a.done?n(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(u){LE(o,r,i,s,a,"next",u)}function a(u){LE(o,r,i,s,a,"throw",u)}s(void 0)})}}const V2=class j2{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(n=navigator.userAgent)&&void 0!==n&&n.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=parseInt(t.node.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`\n\nSuggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){return new(this.getWebSocketConstructor())(n,t)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return"native"===n.type||"ws"===n.type}catch{return!1}}};var Jl=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Jl||{}),nt=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(nt||{}),jn=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(jn||{}),jE=function(e){return e.websocket="websocket",e}(jE||{}),Io=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Io||{});class z2{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t("string"==typeof n?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){const i=t.getUint8(1),o=t.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(n.slice(s,s+i));s+=i;const u=r.decode(n.slice(s,s+o));return s+=o,{ref:null,topic:a,event:u,payload:JSON.parse(r.decode(n.slice(s,n.byteLength)))}}}class VE{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Ae||{});const $E=(e,n,t={})=>{var r;const i=null!==(r=t.skipTypes)&&void 0!==r?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=G2(s,e,n,i),o),{}):{}},G2=(e,n,t,r)=>{const i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?UE(o,s):Rp(s)},UE=(e,n)=>{if("_"===e.charAt(0)){const t=e.slice(1,e.length);return J2(n,t)}switch(e){case Ae.bool:return q2(n);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return W2(n);case Ae.json:case Ae.jsonb:return K2(n);case Ae.timestamp:return Z2(n);default:return Rp(n)}},Rp=e=>e,q2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},W2=e=>{if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},K2=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},J2=(e,n)=>{if("string"!=typeof e)return e;const t=e.length-1;if("{"===e[0]&&"}"===e[t]){let o;const s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>UE(n,a))}return e},Z2=e=>"string"==typeof e?e.replace(" ","T"):e,BE=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Pp{constructor(n,t,r={},i=1e4){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}class va{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=va.syncState(this.state,i,o,s),this.pendingDiffs.forEach(u=>{this.state=va.syncDiff(this.state,u,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=va.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){const o=this.cloneDeep(n),s=this.transformState(t),a={},u={};return this.map(o,(l,c)=>{s[l]||(u[l]=c)}),this.map(s,(l,c)=>{const d=o[l];if(d){const f=c.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),p=c.filter(m=>h.indexOf(m.presence_ref)<0),g=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(u[l]=g)}else a[l]=c}),this.syncDiff(o,{joins:a,leaves:u},r,i)}static syncDiff(n,t,r,i){const{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,u)=>{var l;const c=null!==(l=n[a])&&void 0!==l?l:[];if(n[a]=this.cloneDeep(u),c.length>0){const d=n[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);n[a].unshift(...f)}r(a,c,u)}),this.map(s,(a,u)=>{let l=n[a];if(!l)return;const c=u.map(d=>d.presence_ref);l=l.filter(d=>c.indexOf(d.presence_ref)<0),n[a]=l,i(a,l,u),0===l.length&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{const i=n[r];return t[r]="metas"in i?i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zl=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(Zl||{}),xr=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(xr||{});class Np{constructor(n,t={config:{}},r){var i,o;if(this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Pp(this,jn.join,this.params,this.timeout),this.rejoinTimer=new VE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new va(this),this.broadcastEndpointURL=BE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(o=null===(i=this.params.config)||void 0===i?void 0:i.broadcast)&&void 0!==o&&o.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,t=this.timeout){var i,o,s,r=this;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:a,presence:u,private:l}}=this.params,c=null!==(o=null===(i=this.bindings.postgres_changes)||void 0===i?void 0:i.map(p=>p.filter))&&void 0!==o?o:[],d=!!this.bindings[Zl.PRESENCE]&&this.bindings[Zl.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),f={},h={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>n?.(xr.CHANNEL_ERROR,p)),this._onClose(()=>n?.(xr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",function(){var p=y(function*({postgres_changes:g}){var m;if(r.socket.setAuth(),void 0!==g){const _=r.bindings.postgres_changes,v=null!==(m=_?.length)&&void 0!==m?m:0,I=[];for(let S=0;S<v;S++){const M=_[S],{filter:{event:Y,schema:He,table:ue,filter:Pe}}=M,Un=g&&g[S];if(!Un||Un.event!==Y||Un.schema!==He||Un.table!==ue||Un.filter!==Pe)return r.unsubscribe(),r.state=nt.errored,void n?.(xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));I.push(Object.assign(Object.assign({},M),{id:Un.id}))}return r.bindings.postgres_changes=I,void(n&&n(xr.SUBSCRIBED))}n?.(xr.SUBSCRIBED)});return function(g){return p.apply(this,arguments)}}()).receive("error",p=>{this.state=nt.errored,n?.(xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{n?.(xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){var t=this;return y(function*(r,i={}){return yield t.send({type:"presence",event:"track",payload:r},i.timeout||t.timeout)}).apply(this,arguments)}untrack(){var n=this;return y(function*(t={}){return yield n.send({type:"presence",event:"untrack"},t)}).apply(this,arguments)}on(n,t,r){return this.state===nt.joined&&n===Zl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,t,r)}send(n){var t=this;return y(function*(r,i={}){var o,s;if(t._canPush()||"broadcast"!==r.type)return new Promise(a=>{var u,l,c;const d=t._push(r.type,r,i.timeout||t.timeout);"broadcast"===r.type&&!(null!==(c=null===(l=null===(u=t.params)||void 0===u?void 0:u.config)||void 0===l?void 0:l.broadcast)&&void 0!==c&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))});{const{event:a,payload:u}=r,c={method:"POST",headers:{Authorization:t.socket.accessTokenValue?`Bearer ${t.socket.accessTokenValue}`:"",apikey:t.socket.apiKey?t.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:t.subTopic,event:a,payload:u,private:t.private}]})};try{const d=yield t._fetchWithTimeout(t.broadcastEndpointURL,c,null!==(o=i.timeout)&&void 0!==o?o:t.timeout);return yield null===(s=d.body)||void 0===s?void 0:s.cancel(),d.ok?"ok":"error"}catch(d){return"AbortError"===d.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=nt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Pp(this,jn.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}_fetchWithTimeout(n,t,r){var i=this;return y(function*(){const o=new AbortController,s=setTimeout(()=>o.abort(),r),a=yield i.socket.fetch(n,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(s),a})()}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Pp(this,n,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>100){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;const s=n.toLocaleLowerCase(),{close:a,error:u,leave:l,join:c}=jn;if(r&&[a,u,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(h=>{var p,g,m;return"*"===(null===(p=h.filter)||void 0===p?void 0:p.event)||(null===(m=null===(g=h.filter)||void 0===g?void 0:g.event)||void 0===m?void 0:m.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):null===(o=this.bindings[s])||void 0===o||o.filter(h=>{var p,g,m,_,v,I;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in h){const S=h.id,M=null===(p=h.filter)||void 0===p?void 0:p.event;return S&&(null===(g=t.ids)||void 0===g?void 0:g.includes(S))&&("*"===M||M?.toLocaleLowerCase()===(null===(m=t.data)||void 0===m?void 0:m.type.toLocaleLowerCase()))}{const S=null===(v=null===(_=h?.filter)||void 0===_?void 0:_.event)||void 0===v?void 0:v.toLocaleLowerCase();return"*"===S||S===(null===(I=t?.event)||void 0===I?void 0:I.toLocaleLowerCase())}}return h.type.toLocaleLowerCase()===s}).map(h=>{if("object"==typeof f&&"ids"in f){const p=f.data,{schema:g,table:m,commit_timestamp:_,type:v,errors:I}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:_,eventType:v,new:{},old:{},errors:I}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){const i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!((null===(o=i.type)||void 0===o?void 0:o.toLocaleLowerCase())===r&&Np.isEqual(i.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(jn.close,{},n)}_onError(n){this._on(jn.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return("INSERT"===n.type||"UPDATE"===n.type)&&(t.new=$E(n.columns,n.record)),("UPDATE"===n.type||"DELETE"===n.type)&&(t.old=$E(n.columns,n.old_record)),t}}const kp=()=>{},X2=[1e3,2e3,5e3,1e4];class nU{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kp,this.ref=0,this.reconnectTimer=null,this.logger=kp,this.conn=null,this.sendBuffer=[],this.serializer=new z2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return o=i||(typeof fetch>"u"?(...s)=>Promise.resolve().then(X.bind(X,286)).then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...s)=>o(...s)},null===(r=t?.params)||void 0===r||!r.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${jE.websocket}`,this.httpEndpoint=BE(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=V2.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const t=n.message;throw t.includes("Node.js")?new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},n?this.conn.close(n,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){var t=this;return y(function*(){const r=yield n.unsubscribe();return 0===t.channels.length&&t.disconnect(),r})()}removeAllChannels(){var n=this;return y(function*(){const t=yield Promise.all(n.channels.map(r=>r.unsubscribe()));return n.channels=[],n.disconnect(),t})()}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jl.connecting:return Io.Connecting;case Jl.open:return Io.Open;case Jl.closing:return Io.Closing;default:return Io.Closed}}isConnected(){return this.connectionState()===Io.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(n,t={config:{}}){const r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Np(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){const{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var u;null===(u=this.conn)||void 0===u||u.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(){var n=this;return y(function*(t=null){n._authPromise=n._performAuth(t);try{yield n._authPromise}finally{n._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var n=this;return y(function*(){var t;if(n.isConnected()){if(n.pendingHeartbeatRef){n.pendingHeartbeatRef=null,n.log("transport","heartbeat timeout. Attempting to re-establish connection");try{n.heartbeatCallback("timeout")}catch(r){n.log("error","error in heartbeat callback",r)}return n._wasManualDisconnect=!1,null===(t=n.conn)||void 0===t||t.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var r;n.isConnected()||null===(r=n.reconnectTimer)||void 0===r||r.scheduleTimeout()},100)}n.pendingHeartbeatRef=n._makeRef(),n.push({topic:"phoenix",event:"heartbeat",payload:{},ref:n.pendingHeartbeatRef});try{n.heartbeatCallback("sent")}catch(r){n.log("error","error in heartbeat callback",r)}n._setAuthSafely("heartbeat")}else try{n.heartbeatCallback("disconnected")}catch(r){n.log("error","error in heartbeat callback",r)}})()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return this.ref=n===this.ref?0:n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if("phoenix"===t.topic&&"phx_reply"===t.event)try{this.heartbeatCallback("ok"===t.payload.status?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=t;this.log("receive",`${o.status||""} ${r} ${i} ${s?`(${s})`:""}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;"heartbeat"===n&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===n&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{"keepAlive"===t.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(jn.error))}_appendParams(n,t){if(0===Object.keys(t).length)return n;const r=n.match(/\?/)?"&":"?";return`${n}${r}${new URLSearchParams(t)}`}_workerObjectUrl(n){let t;if(n)t=n;else{const r=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,"connecting"===n?this._wasManualDisconnect=!1:"disconnecting"===n&&(this._wasManualDisconnect=t)}_performAuth(){var n=this;return y(function*(t=null){let r;r=t||(n.accessToken?yield n.accessToken():n.accessTokenValue),n.accessTokenValue!=r&&(n.accessTokenValue=r,n.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r,version:"realtime-js/2.75.0"}),i.joinedOnce&&i._isJoined()&&i._push(jn.access_token,{access_token:r})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var n=this;return y(function*(){n._authPromise&&(yield n._authPromise)})()}_setAuthSafely(n="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){var n=this;this.reconnectTimer=new VE(y(function*(){setTimeout(y(function*(){yield n._waitForAuthIfNeeded(),n.isConnected()||n.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(n){var t,r,i,o,s,a,u,l,c;if(this.transport=null!==(t=n?.transport)&&void 0!==t?t:null,this.timeout=null!==(r=n?.timeout)&&void 0!==r?r:1e4,this.heartbeatIntervalMs=null!==(i=n?.heartbeatIntervalMs)&&void 0!==i?i:25e3,this.worker=null!==(o=n?.worker)&&void 0!==o&&o,this.accessToken=null!==(s=n?.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(a=n?.heartbeatCallback)&&void 0!==a?a:kp,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(u=n?.reconnectAfterMs)&&void 0!==u?u:d=>X2[d-1]||1e4,this.encode=null!==(l=n?.encode)&&void 0!==l?l:(d,f)=>f(JSON.stringify(d)),this.decode=null!==(c=n?.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class Fp extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function qe(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class rU extends Fp{constructor(n,t,r){super(n),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lp extends Fp{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}const HE=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(X.bind(X,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},jp=e=>{if(Array.isArray(e))return e.map(t=>jp(t));if("function"==typeof e||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=jp(r)}),n};var ai=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})};const Vp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aU=(e,n,t)=>ai(void 0,void 0,void 0,function*(){const r=yield function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(X.bind(X,286))).Response:Response});e instanceof r&&!t?.noResolveJson?e.json().then(i=>{const o=e.status||500,s=i?.statusCode||o+"";n(new rU(Vp(i),o,s))}).catch(i=>{n(new Lp(Vp(i),i))}):n(new Lp(Vp(e),e))}),uU=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const n=Object.getPrototypeOf(e);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),t)):i};function ya(e,n,t,r,i,o){return ai(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,uU(n,r,i,o)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>aU(u,a,r))})})}function Ql(e,n,t,r){return ai(this,void 0,void 0,function*(){return ya(e,"GET",n,t,r)})}function Vn(e,n,t,r,i){return ai(this,void 0,void 0,function*(){return ya(e,"POST",n,r,i,t)})}function $p(e,n,t,r,i){return ai(this,void 0,void 0,function*(){return ya(e,"PUT",n,r,i,t)})}function zE(e,n,t,r,i){return ai(this,void 0,void 0,function*(){return ya(e,"DELETE",n,r,i,t)})}class dU{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}execute(){return e=this,n=void 0,r=function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}},new((t=void 0)||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())});var e,n,t,r}}class hU{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}asStream(){return new dU(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.execute().then(n,t)}execute(){return e=this,n=void 0,r=function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}},new((t=void 0)||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())});var e,n,t,r}}var Ft=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})};const pU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gU{constructor(n,t={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=r,this.fetch=HE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,t,r,i){return Ft(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},GE),i);let a=Object.assign(Object.assign({},this.headers),"POST"===n&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==n?$p:Vn)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}upload(n,t,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return Ft(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let u;const l=Object.assign({upsert:GE.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl)):(u=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType),{data:{path:o,fullPath:(yield $p(this.fetch,a.toString(),u,{headers:c})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(qe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(n,t){return Ft(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const o=yield Vn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Fp("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}update(n,t,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return Ft(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}copy(n,t,r){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return Ft(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Vn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return Ft(this,void 0,void 0,function*(){try{const i=yield Vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}download(n,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(n);return new hU(()=>Ql(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(n){return Ft(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{const r=yield Ql(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:jp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}exists(n){return Ft(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{return yield function lU(e,n,t,r){return ai(this,void 0,void 0,function*(){return ya(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r)&&r instanceof Lp){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){const r=this._getFinalPath(n),i=[],o=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==o&&i.push(o);const a=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});""!==u&&i.push(u);let l=i.join("&");return""!==l&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(n){return Ft(this,void 0,void 0,function*(){try{return{data:yield zE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}list(n,t,r){return Ft(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pU),t),{prefix:n||""});return{data:yield Vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}listV2(n,t){return Ft(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield Vn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const mU={"X-Client-Info":"storage-js/2.75.0"};var Mo=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})};class vU{constructor(n,t={},r,i){this.shouldThrowOnError=!1;const o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mU),t),this.fetch=HE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Mo(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}getBucket(n){return Mo(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}createBucket(n){return Mo(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Vn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}updateBucket(n,t){return Mo(this,void 0,void 0,function*(){try{return{data:yield $p(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Mo(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Mo(this,void 0,void 0,function*(){try{return{data:yield zE(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}}class yU extends vU{constructor(n,t={},r,i){super(n,t,r,i)}from(n){return new gU(this.url,this.headers,n,this.fetch)}}let _a="";_a=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const wU={headers:{"X-Client-Info":`supabase-js-${_a}/2.75.0`}},bU={schema:"public"},CU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DU={};var qE=X(286);const MU=(e,n,t)=>{const r=(e=>{let n;return n=e||(typeof fetch>"u"?qE.default:fetch),(...t)=>n(...t)})(t),i=typeof Headers>"u"?qE.Headers:Headers;return(o,s)=>function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){var a;const u=null!==(a=yield n())&&void 0!==a?a:e;let l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},s),{headers:l}))})};const Ao=3e4,Hp="X-Supabase-Api-Version",KE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class wa extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function L(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class LU extends wa{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class ui extends wa{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class Or extends wa{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}}class Rr extends Or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class To extends Or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xl extends Or{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ec extends Or{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JE extends Or{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zp extends Or{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}}function Gp(e){return L(e)&&"AuthRetryableFetchError"===e.name}class ZE extends Or{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class qp extends Or{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YE=" \t\n\r=".split(""),UU=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<YE.length;n+=1)e[YE[n].charCodeAt(0)]=-2;for(let n=0;n<tc.length;n+=1)e[tc[n].charCodeAt(0)]=n;return e})();function nc(e,n,t){if(null!==e)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;)t(tc[n.queue>>n.queuedBits-6&63]),n.queuedBits-=6;else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;)t(tc[n.queue>>n.queuedBits-6&63]),n.queuedBits-=6}function QE(e,n,t){const r=UU[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8}function XE(e){const n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{!function HU(e,n,t){if(0===n.utf8seq){if(e<=127)return void t(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){n.utf8seq=r;break}if(2===n.utf8seq)n.codepoint=31&e;else if(3===n.utf8seq)n.codepoint=15&e;else{if(4!==n.utf8seq)throw new Error("Invalid UTF-8 sequence");n.codepoint=7&e}n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|63&e,n.utf8seq-=1,0===n.utf8seq&&t(n.codepoint)}}(s,r,t)};for(let s=0;s<e.length;s+=1)QE(e.charCodeAt(s),i,o);return n.join("")}function BU(e,n){if(!(e<=127)){if(e<=2047)return n(192|e>>6),void n(128|63&e);if(e<=65535)return n(224|e>>12),n(128|e>>6&63),void n(128|63&e);if(e<=1114111)return n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),void n(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}n(e)}function xo(e){const n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)QE(e.charCodeAt(i),t,r);return new Uint8Array(n)}function li(e){const n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>nc(i,t,r)),nc(null,t,r),n.join("")}const Kt=()=>typeof window<"u"&&typeof document<"u",ci={tested:!1,writable:!1},tS=()=>{if(!Kt())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(ci.tested)return ci.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ci.tested=!0,ci.writable=!0}catch{ci.tested=!0,ci.writable=!1}return ci.writable},nS=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(X.bind(X,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},KU=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Oo=function(){var e=y(function*(n,t,r){yield n.setItem(t,JSON.stringify(r))});return function(t,r,i){return e.apply(this,arguments)}}(),di=function(){var e=y(function*(n,t){const r=yield n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(t,r){return e.apply(this,arguments)}}(),Pr=function(){var e=y(function*(n,t){yield n.removeItem(t)});return function(t,r){return e.apply(this,arguments)}}();class rc{constructor(){this.promise=new rc.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}function Wp(e){const n=e.split(".");if(3!==n.length)throw new qp("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!kU.test(n[r]))throw new qp("JWT not in base64url format");return{header:JSON.parse(XE(n[0])),payload:JSON.parse(XE(n[1])),signature:xo(n[2]),raw:{header:n[0],payload:n[1]}}}function Kp(){return(Kp=y(function*(e){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})).apply(this,arguments)}function YU(e){return("0"+e.toString(16)).substr(-2)}function Jp(){return(Jp=y(function*(e){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})).apply(this,arguments)}function Zp(){return Zp=y(function*(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=yield function XU(e){return Jp.apply(this,arguments)}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),Zp.apply(this,arguments)}function Ro(e,n){return Yp.apply(this,arguments)}function Yp(){return Yp=y(function*(e,n,t=!1){const r=function QU(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,YU).join("")}();let i=r;t&&(i+="/PASSWORD_RECOVERY"),yield Oo(e,`${n}-code-verifier`,i);const o=yield function eB(e){return Zp.apply(this,arguments)}(r);return[o,r===o?"plain":"s256"]}),Yp.apply(this,arguments)}rc.promiseConstructor=Promise;const tB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,oB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(e){if(!oB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qp(){return new Proxy({},{get:(n,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const r=t.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rS(e){return JSON.parse(JSON.stringify(e))}const fi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aB=[502,503,504];function iS(e){return Xp.apply(this,arguments)}function Xp(){return(Xp=y(function*(e){var n;if(!KU(e))throw new zp(fi(e),0);if(aB.includes(e.status))throw new zp(fi(e),e.status);let t,r;try{t=yield e.json()}catch(o){throw new ui(fi(o),o)}const i=function nB(e){const n=e.headers.get(Hp);if(!n||!n.match(tB))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}(e);if(i&&i.getTime()>=KE["2024-01-01"].timestamp&&"object"==typeof t&&t&&"string"==typeof t.code?r=t.code:"object"==typeof t&&t&&"string"==typeof t.error_code&&(r=t.error_code),r){if("weak_password"===r)throw new ZE(fi(t),e.status,(null===(n=t.weak_password)||void 0===n?void 0:n.reasons)||[]);if("session_not_found"===r)throw new Rr}else if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&"string"==typeof s,!0))throw new ZE(fi(t),e.status,t.weak_password.reasons);throw new LU(fi(t),e.status||500,r)})).apply(this,arguments)}const uB=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function K(e,n,t,r){return eg.apply(this,arguments)}function eg(){return eg=y(function*(e,n,t,r){var i;const o=Object.assign({},r?.headers);o[Hp]||(o[Hp]=KE["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=yield function lB(e,n,t,r,i,o){return tg.apply(this,arguments)}(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}),eg.apply(this,arguments)}function tg(){return(tg=y(function*(e,n,t,r,i,o){const s=uB(n,r,i,o);let a;try{a=yield e(t,Object.assign({},s))}catch(u){throw console.error(u),new zp(fi(u),0)}if(a.ok||(yield iS(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(u){yield iS(u)}})).apply(this,arguments)}function bn(e){var n;let t=null;return function fB(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=function GU(e){return Math.round(Date.now()/1e3)+e}(e.expires_in))),{data:{session:t,user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function oS(e){const n=bn(e);return!n.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)&&(n.data.weak_password=e.weak_password),n}function Nr(e){var n;return{data:{user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function cB(e){return{data:e,error:null}}function dB(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}function sS(e){return e}const ng=["global","local","others"];class pB{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=nS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(n){var t=this;return y(function*(r,i=ng[0]){if(ng.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ng.join(", ")}`);try{return yield K(t.fetch,"POST",`${t.url}/logout?scope=${i}`,{headers:t.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}}).apply(this,arguments)}inviteUserByEmail(n){var t=this;return y(function*(r,i={}){try{return yield K(t.fetch,"POST",`${t.url}/invite`,{body:{email:r,data:i.data},headers:t.headers,redirectTo:i.redirectTo,xform:Nr})}catch(o){if(L(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}generateLink(n){var t=this;return y(function*(){try{const{options:r}=n,i=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(n,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),yield K(t.fetch,"POST",`${t.url}/admin/generate_link`,{body:o,headers:t.headers,xform:dB,redirectTo:r?.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(n){var t=this;return y(function*(){try{return yield K(t.fetch,"POST",`${t.url}/admin/users`,{body:n,headers:t.headers,xform:Nr})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})()}listUsers(n){var t=this;return y(function*(){var r,i,o,s,a,u,l;try{const c={nextPage:null,lastPage:0,total:0},d=yield K(t.fetch,"GET",`${t.url}/admin/users`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=n?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:sS});if(d.error)throw d.error;const f=yield d.json(),h=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(l=null===(u=d.headers.get("link"))||void 0===u?void 0:u.split(","))&&void 0!==l?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}})()}getUserById(n){var t=this;return y(function*(){Po(n);try{return yield K(t.fetch,"GET",`${t.url}/admin/users/${n}`,{headers:t.headers,xform:Nr})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})()}updateUserById(n,t){var r=this;return y(function*(){Po(n);try{return yield K(r.fetch,"PUT",`${r.url}/admin/users/${n}`,{body:t,headers:r.headers,xform:Nr})}catch(i){if(L(i))return{data:{user:null},error:i};throw i}})()}deleteUser(n){var t=this;return y(function*(r,i=!1){Po(r);try{return yield K(t.fetch,"DELETE",`${t.url}/admin/users/${r}`,{headers:t.headers,body:{should_soft_delete:i},xform:Nr})}catch(o){if(L(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}_listFactors(n){var t=this;return y(function*(){Po(n.userId);try{const{data:r,error:i}=yield K(t.fetch,"GET",`${t.url}/admin/users/${n.userId}/factors`,{headers:t.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(L(r))return{data:null,error:r};throw r}})()}_deleteFactor(n){var t=this;return y(function*(){Po(n.userId),Po(n.id);try{return{data:yield K(t.fetch,"DELETE",`${t.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:t.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})()}_listOAuthClients(n){var t=this;return y(function*(){var r,i,o,s,a,u,l;try{const c={nextPage:null,lastPage:0,total:0},d=yield K(t.fetch,"GET",`${t.url}/admin/oauth/clients`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=n?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:sS});if(d.error)throw d.error;const f=yield d.json(),h=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(l=null===(u=d.headers.get("link"))||void 0===u?void 0:u.split(","))&&void 0!==l?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(L(c))return{data:{clients:[]},error:c};throw c}})()}_createOAuthClient(n){var t=this;return y(function*(){try{return yield K(t.fetch,"POST",`${t.url}/admin/oauth/clients`,{body:n,headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}})()}_getOAuthClient(n){var t=this;return y(function*(){try{return yield K(t.fetch,"GET",`${t.url}/admin/oauth/clients/${n}`,{headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}})()}_deleteOAuthClient(n){var t=this;return y(function*(){try{return yield K(t.fetch,"DELETE",`${t.url}/admin/oauth/clients/${n}`,{headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}})()}_regenerateOAuthClientSecret(n){var t=this;return y(function*(){try{return yield K(t.fetch,"POST",`${t.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}})()}}function aS(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}const No={debug:!!(globalThis&&tS()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class uS extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class gB extends uS{}function vB(e,n,t){return rg.apply(this,arguments)}function rg(){return rg=y(function*(e,n,t){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===n?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},function(){var i=y(function*(o){if(!o){if(0===n)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(No.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield t()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}});return function(o){return i.apply(this,arguments)}}()))}),rg.apply(this,arguments)}function cS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function wB(e){const n=(new TextEncoder).encode(e);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}class We extends Error{constructor({message:n,code:t,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(o=i??(r instanceof Error?r.name:void 0))&&void 0!==o?o:"Unknown Error",this.code=t}}class ic extends We{constructor(n,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:n}),this.name="WebAuthnUnknownError",this.originalError=t}}function CB({error:e,options:n}){var t,r,i;const{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(n.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(t=o.authenticatorSelection)||void 0===t?void 0:t.requireResidentKey))return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===n.mediation&&"required"===(null===(r=o.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(i=o.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new We({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name)return 0===o.pubKeyCredParams.filter(a=>"public-key"===a.type).length?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if("SecurityError"===e.name){const s=window.location.hostname;if(!fS(s))return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(o.rp.id!==s)return new We({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DB({error:e,options:n}){const{publicKey:t}=n;if(!t)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(n.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new We({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const r=window.location.hostname;if(!fS(r))return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(t.rpId!==r)return new We({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var dS=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t};const SB=new class EB{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}};function IB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:n,user:t,excludeCredentials:r}=e,i=dS(e,["challenge","user","excludeCredentials"]),o=xo(n).buffer,s=Object.assign(Object.assign({},t),{id:xo(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const l=r[u];a.excludeCredentials[u]=Object.assign(Object.assign({},l),{id:xo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function MB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:n,allowCredentials:t}=e,r=dS(e,["challenge","allowCredentials"]),i=xo(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){const a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:xo(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function AB(e){var n;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const t=e;return{id:e.id,rawId:e.id,response:{attestationObject:li(new Uint8Array(e.response.attestationObject)),clientDataJSON:li(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(n=t.authenticatorAttachment)&&void 0!==n?n:void 0}}function TB(e){var n;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const t=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:li(new Uint8Array(i.authenticatorData)),clientDataJSON:li(new Uint8Array(i.clientDataJSON)),signature:li(new Uint8Array(i.signature)),userHandle:i.userHandle?li(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(n=t.authenticatorAttachment)&&void 0!==n?n:void 0}}function fS(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hS(){var e,n;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=navigator?.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(n=navigator?.credentials)||void 0===n?void 0:n.get))}function og(){return(og=y(function*(e){try{const n=yield navigator.credentials.create(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",n)}:{data:null,error:new ic("Empty credential response",n)}}catch(n){return{data:null,error:CB({error:n,options:e})}}})).apply(this,arguments)}function sg(){return(sg=y(function*(e){try{const n=yield navigator.credentials.get(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",n)}:{data:null,error:new ic("Empty credential response",n)}}catch(n){return{data:null,error:DB({error:n,options:e})}}})).apply(this,arguments)}const RB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},PB={userVerification:"preferred",hints:["security-key"]};function oc(...e){const n=i=>null!==i&&"object"==typeof i&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const s=i[o];if(void 0!==s)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(n(s)){const a=r[o];r[o]=n(a)?oc(a,s):oc(s)}else r[o]=s}return r}class FB{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(n){var t=this;return y(function*(){return t.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))})()}_challenge(n,t){var r=this;return y(function*({factorId:i,webauthn:o,friendlyName:s,signal:a},u){try{const{data:l,error:c}=yield r.client.mfa.challenge({factorId:i,webauthn:o});if(!l)return{data:null,error:c};const d=a??SB.createNewAbortSignal();if("create"===l.webauthn.type){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=function NB(e,n){return oc(RB,e,n||{})}(l.webauthn.credential_options.publicKey,u?.create),{data:h,error:p}=yield function xB(e){return og.apply(this,arguments)}({publicKey:f,signal:d});return h?{data:{factorId:i,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=function kB(e,n){return oc(PB,e,n||{})}(l.webauthn.credential_options.publicKey,u?.request),{data:h,error:p}=yield function OB(e){return sg.apply(this,arguments)}(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return h?{data:{factorId:i,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return L(l)?{data:null,error:l}:{data:null,error:new ui("Unexpected error in challenge",l)}}}).apply(this,arguments)}_verify(n){var t=this;return y(function*({challengeId:r,factorId:i,webauthn:o}){return t.client.mfa.verify({factorId:i,challengeId:r,webauthn:o})}).apply(this,arguments)}_authenticate(n,t){var r=this;return y(function*({factorId:i,webauthn:{rpId:o=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a}},u){if(!o)return{data:null,error:new wa("rpId is required for WebAuthn authentication")};try{if(!hS())return{data:null,error:new ui("Browser does not support WebAuthn",null)};const{data:l,error:c}=yield r.challenge({factorId:i,webauthn:{rpId:o,rpOrigins:s},signal:a},{request:u});if(!l)return{data:null,error:c};const{webauthn:d}=l;return r._verify({factorId:i,challengeId:l.challengeId,webauthn:{type:d.type,rpId:o,rpOrigins:s,credential_response:d.credential_response}})}catch(l){return L(l)?{data:null,error:l}:{data:null,error:new ui("Unexpected error in authenticate",l)}}}).apply(this,arguments)}_register(n,t){var r=this;return y(function*({friendlyName:i,rpId:o=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a},u){if(!o)return{data:null,error:new wa("rpId is required for WebAuthn registration")};try{if(!hS())return{data:null,error:new ui("Browser does not support WebAuthn",null)};const{data:l,error:c}=yield r._enroll({friendlyName:i});if(!l)return yield r.client.mfa.listFactors().then(h=>{var p;return null===(p=h.data)||void 0===p?void 0:p.all.find(g=>"webauthn"===g.factor_type&&g.friendly_name===i&&"unverified"!==g.status)}).then(h=>h?r.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:c};const{data:d,error:f}=yield r._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:o,rpOrigins:s},signal:a},{create:u});return d?r._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:o,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return L(l)?{data:null,error:l}:{data:null,error:new ui("Unexpected error in register",l)}}}).apply(this,arguments)}}!function yB(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const LB={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.75.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function pS(e,n,t){return ag.apply(this,arguments)}function ag(){return(ag=y(function*(e,n,t){return yield t()})).apply(this,arguments)}const ko={},VB=(()=>{class e{get jwks(){var t,r;return null!==(r=null===(t=ko[this.storageKey])||void 0===t?void 0:t.jwks)&&void 0!==r?r:{keys:[]}}set jwks(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return null!==(r=null===(t=ko[this.storageKey])||void 0===t?void 0:t.cachedAt)&&void 0!==r?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:t})}constructor(t){var i,o,r=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},LB),t);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new pB({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=nS(s.fetch),this.lock=s.lock||pS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.lock=s.lock?s.lock:Kt()&&null!==(i=globalThis?.navigator)&&void 0!==i&&i.locks?vB:pS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FB(this)},this.persistSession?(s.storage?this.storage=s.storage:tS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=aS(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=aS(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(o=this.broadcastChannel)||void 0===o||o.addEventListener("message",function(){var a=y(function*(u){r._debug("received broadcast notification from other tab or client",u),yield r._notifyAllSubscribers(u.data.event,u.data.session,!1)});return function(u){return a.apply(this,arguments)}}())}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.75.0) ${(new Date).toISOString()}`,...t),this}initialize(){var t=this;return y(function*(){return t.initializePromise||(t.initializePromise=y(function*(){return yield t._acquireLock(-1,y(function*(){return yield t._initialize()}))})()),yield t.initializePromise})()}_initialize(){var t=this;return y(function*(){var r;try{const i=function WU(e){const n={},t=new URL(e);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}(window.location.href);let o="none";if(t._isImplicitGrantCallback(i)?o="implicit":(yield t._isPKCECallback(i))&&(o="pkce"),Kt()&&t.detectSessionInUrl&&"none"!==o){const{data:s,error:a}=yield t._getSessionFromURL(i,o);if(a){if(t._debug("#_initialize()","error detecting session from URL",a),function $U(e){return L(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const c=null===(r=a.details)||void 0===r?void 0:r.code;if("identity_already_exists"===c||"identity_not_found"===c||"single_identity_not_deletable"===c)return{error:a}}return yield t._removeSession(),{error:a}}const{session:u,redirectType:l}=s;return t._debug("#_initialize()","detected session in URL",u,"redirect type",l),yield t._saveSession(u),setTimeout(y(function*(){"recovery"===l?yield t._notifyAllSubscribers("PASSWORD_RECOVERY",u):yield t._notifyAllSubscribers("SIGNED_IN",u)}),0),{error:null}}return yield t._recoverAndRefresh(),{error:null}}catch(i){return L(i)?{error:i}:{error:new ui("Unexpected error during initialization",i)}}finally{yield t._handleVisibilityChange(),t._debug("#_initialize()","end")}})()}signInAnonymously(t){var r=this;return y(function*(){var i,o,s;try{const a=yield K(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{data:null!==(o=null===(i=t?.options)||void 0===i?void 0:i.data)&&void 0!==o?o:{},gotrue_meta_security:{captcha_token:null===(s=t?.options)||void 0===s?void 0:s.captchaToken}},xform:bn}),{data:u,error:l}=a;if(l||!u)return{data:{user:null,session:null},error:l};const c=u.session,d=u.user;return u.session&&(yield r._saveSession(u.session),yield r._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}})()}signUp(t){var r=this;return y(function*(){var i,o,s;try{let a;if("email"in t){const{email:f,password:h,options:p}=t;let g=null,m=null;"pkce"===r.flowType&&([g,m]=yield Ro(r.storage,r.storageKey)),a=yield K(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:h,data:null!==(i=p?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:m},xform:bn})}else{if(!("phone"in t))throw new Xl("You must provide either an email or phone number and a password");{const{phone:f,password:h,options:p}=t;a=yield K(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:f,password:h,data:null!==(o=p?.data)&&void 0!==o?o:{},channel:null!==(s=p?.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:bn})}}const{data:u,error:l}=a;if(l||!u)return{data:{user:null,session:null},error:l};const c=u.session,d=u.user;return u.session&&(yield r._saveSession(u.session),yield r._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(t){var r=this;return y(function*(){try{let i;if("email"in t){const{email:a,password:u,options:l}=t;i=yield K(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:oS})}else{if(!("phone"in t))throw new Xl("You must provide either an email or phone number and a password");{const{phone:a,password:u,options:l}=t;i=yield K(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:oS})}}const{data:o,error:s}=i;return s?{data:{user:null,session:null},error:s}:o&&o.session&&o.user?(o.session&&(yield r._saveSession(o.session),yield r._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s}):{data:{user:null,session:null},error:new To}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOAuth(t){var r=this;return y(function*(){var i,o,s,a;return yield r._handleProviderSignIn(t.provider,{redirectTo:null===(i=t.options)||void 0===i?void 0:i.redirectTo,scopes:null===(o=t.options)||void 0===o?void 0:o.scopes,queryParams:null===(s=t.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=t.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(t){var r=this;return y(function*(){return yield r.initializePromise,r._acquireLock(-1,y(function*(){return r._exchangeCodeForSession(t)}))})()}signInWithWeb3(t){var r=this;return y(function*(){const{chain:i}=t;switch(i){case"ethereum":return yield r.signInWithEthereum(t);case"solana":return yield r.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}})()}signInWithEthereum(t){var r=this;return y(function*(){var i,o,s,a,u,l,c,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{wallet:v,statement:I,options:S}=t;let M;if(Kt())if("object"==typeof v)M=v;else{const Cn=window;if(!("ethereum"in Cn)||"object"!=typeof Cn.ethereum||!("request"in Cn.ethereum)||"function"!=typeof Cn.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");M=Cn.ethereum}else{if("object"!=typeof v||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=v}const Y=new URL(null!==(i=S?.url)&&void 0!==i?i:window.location.href),He=yield M.request({method:"eth_requestAccounts"}).then(Cn=>Cn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!He||0===He.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ue=cS(He[0]);let Pe=null===(o=S?.signInWithEthereum)||void 0===o?void 0:o.chainId;Pe||(Pe=function _B(e){return parseInt(e,16)}(yield M.request({method:"eth_chainId"}))),g=function bB(e){var n;const{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:u,resources:l,scheme:c,uri:d,version:f}=e;if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==f)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(null!==(n=e.statement)&&void 0!==n&&n.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const m=`${c?`${c}://${r}`:r} wants you to sign in with your Ethereum account:\n${cS(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let _=`URI: ${d}\nVersion: ${f}\nChain ID: ${t}${s?`\nNonce: ${s}`:""}\nIssued At: ${o.toISOString()}`;if(i&&(_+=`\nExpiration Time: ${i.toISOString()}`),a&&(_+=`\nNot Before: ${a.toISOString()}`),u&&(_+=`\nRequest ID: ${u}`),l){let v="\nResources:";for(const I of l){if(!I||"string"!=typeof I)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);v+=`\n- ${I}`}_+=v}return`${m}\n${_}`}({domain:Y.host,address:ue,statement:I,uri:Y.href,version:"1",chainId:Pe,nonce:null===(s=S?.signInWithEthereum)||void 0===s?void 0:s.nonce,issuedAt:null!==(u=null===(a=S?.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==u?u:new Date,expirationTime:null===(l=S?.signInWithEthereum)||void 0===l?void 0:l.expirationTime,notBefore:null===(c=S?.signInWithEthereum)||void 0===c?void 0:c.notBefore,requestId:null===(d=S?.signInWithEthereum)||void 0===d?void 0:d.requestId,resources:null===(f=S?.signInWithEthereum)||void 0===f?void 0:f.resources}),m=yield M.request({method:"personal_sign",params:[wB(g),ue]})}try{const{data:_,error:v}=yield K(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},null!==(h=t.options)&&void 0!==h&&h.captchaToken?{gotrue_meta_security:{captcha_token:null===(p=t.options)||void 0===p?void 0:p.captchaToken}}:null),xform:bn});if(v)throw v;return _&&_.session&&_.user?(_.session&&(yield r._saveSession(_.session),yield r._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:v}):{data:{user:null,session:null},error:new To}}catch(_){if(L(_))return{data:{user:null,session:null},error:_};throw _}})()}signInWithSolana(t){var r=this;return y(function*(){var i,o,s,a,u,l,c,d,f,h,p,g;let m,_;if("message"in t)m=t.message,_=t.signature;else{const{wallet:I,statement:S,options:M}=t;let Y;if(Kt())if("object"==typeof I)Y=I;else{const ue=window;if(!("solana"in ue)||"object"!=typeof ue.solana||!("signIn"in ue.solana&&"function"==typeof ue.solana.signIn||"signMessage"in ue.solana&&"function"==typeof ue.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");Y=ue.solana}else{if("object"!=typeof I||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=I}const He=new URL(null!==(i=M?.url)&&void 0!==i?i:window.location.href);if("signIn"in Y&&Y.signIn){const ue=yield Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},M?.signInWithSolana),{version:"1",domain:He.host,uri:He.href}),S?{statement:S}:null));let Pe;if(Array.isArray(ue)&&ue[0]&&"object"==typeof ue[0])Pe=ue[0];else{if(!(ue&&"object"==typeof ue&&"signedMessage"in ue&&"signature"in ue))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Pe=ue}if(!("signedMessage"in Pe&&"signature"in Pe&&("string"==typeof Pe.signedMessage||Pe.signedMessage instanceof Uint8Array)&&Pe.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"==typeof Pe.signedMessage?Pe.signedMessage:(new TextDecoder).decode(Pe.signedMessage),_=Pe.signature}else{if(!("signMessage"in Y&&"function"==typeof Y.signMessage&&"publicKey"in Y&&"object"==typeof Y&&Y.publicKey&&"toBase58"in Y.publicKey&&"function"==typeof Y.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${He.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${He.href}`,`Issued At: ${null!==(s=null===(o=M?.signInWithSolana)||void 0===o?void 0:o.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...null!==(a=M?.signInWithSolana)&&void 0!==a&&a.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...null!==(u=M?.signInWithSolana)&&void 0!==u&&u.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...null!==(l=M?.signInWithSolana)&&void 0!==l&&l.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...null!==(c=M?.signInWithSolana)&&void 0!==c&&c.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...null!==(d=M?.signInWithSolana)&&void 0!==d&&d.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...null!==(h=null===(f=M?.signInWithSolana)||void 0===f?void 0:f.resources)&&void 0!==h&&h.length?["Resources",...M.signInWithSolana.resources.map(Pe=>`- ${Pe}`)]:[]].join("\n");const ue=yield Y.signMessage((new TextEncoder).encode(m),"utf8");if(!(ue&&ue instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=ue}}try{const{data:v,error:I}=yield K(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"solana",message:m,signature:li(_)},null!==(p=t.options)&&void 0!==p&&p.captchaToken?{gotrue_meta_security:{captcha_token:null===(g=t.options)||void 0===g?void 0:g.captchaToken}}:null),xform:bn});if(I)throw I;return v&&v.session&&v.user?(v.session&&(yield r._saveSession(v.session),yield r._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:I}):{data:{user:null,session:null},error:new To}}catch(v){if(L(v))return{data:{user:null,session:null},error:v};throw v}})()}_exchangeCodeForSession(t){var r=this;return y(function*(){const i=yield di(r.storage,`${r.storageKey}-code-verifier`),[o,s]=(i??"").split("/");try{const{data:a,error:u}=yield K(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:t,code_verifier:o},xform:bn});if(yield Pr(r.storage,`${r.storageKey}-code-verifier`),u)throw u;return a&&a.session&&a.user?(a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:u}):{data:{user:null,session:null,redirectType:null},error:new To}}catch(a){if(L(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})()}signInWithIdToken(t){var r=this;return y(function*(){try{const{options:i,provider:o,token:s,access_token:a,nonce:u}=t,l=yield K(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:o,id_token:s,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:bn}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:c&&c.session&&c.user?(c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d}):{data:{user:null,session:null},error:new To}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOtp(t){var r=this;return y(function*(){var i,o,s,a,u;try{if("email"in t){const{email:l,options:c}=t;let d=null,f=null;"pkce"===r.flowType&&([d,f]=yield Ro(r.storage,r.storageKey));const{error:h}=yield K(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:l,data:null!==(i=c?.data)&&void 0!==i?i:{},create_user:null===(o=c?.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:f}=yield K(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:l,data:null!==(s=c?.data)&&void 0!==s?s:{},create_user:null===(a=c?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:null!==(u=c?.channel)&&void 0!==u?u:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new Xl("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}})()}verifyOtp(t){var r=this;return y(function*(){var i,o;try{let s,a;"options"in t&&(s=null===(i=t.options)||void 0===i?void 0:i.redirectTo,a=null===(o=t.options)||void 0===o?void 0:o.captchaToken);const{data:u,error:l}=yield K(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:bn});if(l)throw l;if(!u)throw new Error("An error occurred on token verification.");const c=u.session,d=u.user;return c?.access_token&&(yield r._saveSession(c),yield r._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}})()}signInWithSSO(t){var r=this;return y(function*(){var i,o,s;try{let a=null,u=null;return"pkce"===r.flowType&&([a,u]=yield Ro(r.storage,r.storageKey)),yield K(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(o=null===(i=t.options)||void 0===i?void 0:i.redirectTo)&&void 0!==o?o:void 0}),null!==(s=t?.options)&&void 0!==s&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:r.headers,xform:cB})}catch(a){if(L(a))return{data:null,error:a};throw a}})()}reauthenticate(){var t=this;return y(function*(){return yield t.initializePromise,yield t._acquireLock(-1,y(function*(){return yield t._reauthenticate()}))})()}_reauthenticate(){var t=this;return y(function*(){try{return yield t._useSession(function(){var r=y(function*(i){const{data:{session:o},error:s}=i;if(s)throw s;if(!o)throw new Rr;const{error:a}=yield K(t.fetch,"GET",`${t.url}/reauthenticate`,{headers:t.headers,jwt:o.access_token});return{data:{user:null,session:null},error:a}});return function(i){return r.apply(this,arguments)}}())}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(t){var r=this;return y(function*(){try{const i=`${r.url}/resend`;if("email"in t){const{email:o,type:s,options:a}=t,{error:u}=yield K(r.fetch,"POST",i,{headers:r.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in t){const{phone:o,type:s,options:a}=t,{data:u,error:l}=yield K(r.fetch,"POST",i,{headers:r.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:l}}throw new Xl("You must provide either an email or phone number and a type")}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}})()}getSession(){var t=this;return y(function*(){return yield t.initializePromise,yield t._acquireLock(-1,y(function*(){return t._useSession(function(){var i=y(function*(o){return o});return function(o){return i.apply(this,arguments)}}())}))})()}_acquireLock(t,r){var i=this;return y(function*(){i._debug("#_acquireLock","begin",t);try{if(i.lockAcquired){const o=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),s=y(function*(){return yield o,yield r()})();return i.pendingInLock.push(y(function*(){try{yield s}catch{}})()),s}return yield i.lock(`lock:${i.storageKey}`,t,y(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const o=r();for(i.pendingInLock.push(y(function*(){try{yield o}catch{}})()),yield o;i.pendingInLock.length;){const s=[...i.pendingInLock];yield Promise.all(s),i.pendingInLock.splice(0,s.length)}return yield o}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(t){var r=this;return y(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield t(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var t=this;return y(function*(){t._debug("#__loadSession()","begin"),t.lockAcquired||t._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield di(t.storage,t.storageKey);if(t._debug("#getSession()","session from storage",i),null!==i&&(t._isValidSession(i)?r=i:(t._debug("#getSession()","session from storage is not valid"),yield t._removeSession())),!r)return{data:{session:null},error:null};const o=!!r.expires_at&&1e3*r.expires_at-Date.now()<9e4;if(t._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(t.userStorage){const u=yield di(t.userStorage,t.storageKey+"-user");r.user=u?.user?u.user:Qp()}if(t.storage.isServer&&r.user){let u=t.suppressGetSessionWarning;r=new Proxy(r,{get:(c,d,f)=>(!u&&"user"===d&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,t.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:r},error:null}}const{data:s,error:a}=yield t._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{t._debug("#__loadSession()","end")}})()}getUser(t){var r=this;return y(function*(){return t?yield r._getUser(t):(yield r.initializePromise,yield r._acquireLock(-1,y(function*(){return yield r._getUser()})))})()}_getUser(t){var r=this;return y(function*(){try{return t?yield K(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:t,xform:Nr}):yield r._useSession(function(){var i=y(function*(o){var s,a,u;const{data:l,error:c}=o;if(c)throw c;return null!==(s=l.session)&&void 0!==s&&s.access_token||r.hasCustomAuthorizationHeader?yield K(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(u=null===(a=l.session)||void 0===a?void 0:a.access_token)&&void 0!==u?u:void 0,xform:Nr}):{data:{user:null},error:new Rr}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(L(i))return function VU(e){return L(e)&&"AuthSessionMissingError"===e.name}(i)&&(yield r._removeSession(),yield Pr(r.storage,`${r.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}})()}updateUser(t){var r=this;return y(function*(i,o={}){return yield r.initializePromise,yield r._acquireLock(-1,y(function*(){return yield r._updateUser(i,o)}))}).apply(this,arguments)}_updateUser(t){var r=this;return y(function*(i,o={}){try{return yield r._useSession(function(){var s=y(function*(a){const{data:u,error:l}=a;if(l)throw l;if(!u.session)throw new Rr;const c=u.session;let d=null,f=null;"pkce"===r.flowType&&null!=i.email&&([d,f]=yield Ro(r.storage,r.storageKey));const{data:h,error:p}=yield K(r.fetch,"PUT",`${r.url}/user`,{headers:r.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:Nr});if(p)throw p;return c.user=h.user,yield r._saveSession(c),yield r._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}});return function(a){return s.apply(this,arguments)}}())}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}).apply(this,arguments)}setSession(t){var r=this;return y(function*(){return yield r.initializePromise,yield r._acquireLock(-1,y(function*(){return yield r._setSession(t)}))})()}_setSession(t){var r=this;return y(function*(){try{if(!t.access_token||!t.refresh_token)throw new Rr;const i=Date.now()/1e3;let o=i,s=!0,a=null;const{payload:u}=Wp(t.access_token);if(u.exp&&(o=u.exp,s=o<=i),s){const{data:l,error:c}=yield r._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=yield r._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:o-i,expires_at:o},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if(L(i))return{data:{session:null,user:null},error:i};throw i}})()}refreshSession(t){var r=this;return y(function*(){return yield r.initializePromise,yield r._acquireLock(-1,y(function*(){return yield r._refreshSession(t)}))})()}_refreshSession(t){var r=this;return y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s;if(!t){const{data:l,error:c}=o;if(c)throw c;t=null!==(s=l.session)&&void 0!==s?s:void 0}if(!t?.refresh_token)throw new Rr;const{data:a,error:u}=yield r._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}})()}_getSessionFromURL(t,r){var i=this;return y(function*(){try{if(!Kt())throw new ec("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ec(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if("pkce"===i.flowType)throw new JE("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===i.flowType)throw new ec("Not a valid implicit grant flow url.")}if("pkce"===r){if(i._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new JE("No code detected.");const{data:S,error:M}=yield i._exchangeCodeForSession(t.code);if(M)throw M;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:s,access_token:a,refresh_token:u,expires_in:l,expires_at:c,token_type:d}=t;if(!(a&&l&&u&&d))throw new ec("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let p=f+h;c&&(p=parseInt(c));const g=p-f;1e3*g<=Ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=p-h;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,f);const{data:_,error:v}=yield i._getUser(a);if(v)throw v;const I={provider_token:o,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:p,refresh_token:u,token_type:d,user:_.user};return window.location.hash="",i._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(o){if(L(o))return{data:{session:null,redirectType:null},error:o};throw o}})()}_isImplicitGrantCallback(t){return!(!t.access_token&&!t.error_description)}_isPKCECallback(t){var r=this;return y(function*(){const i=yield di(r.storage,`${r.storageKey}-code-verifier`);return!(!t.code||!i)})()}signOut(){var t=this;return y(function*(r={scope:"global"}){return yield t.initializePromise,yield t._acquireLock(-1,y(function*(){return yield t._signOut(r)}))}).apply(this,arguments)}_signOut(){var t=this;return y(function*({scope:r}={scope:"global"}){return yield t._useSession(function(){var i=y(function*(o){var s;const{data:a,error:u}=o;if(u)return{error:u};const l=null===(s=a.session)||void 0===s?void 0:s.access_token;if(l){const{error:c}=yield t.admin.signOut(l,r);if(c&&(!function jU(e){return L(e)&&"AuthApiError"===e.name}(c)||404!==c.status&&401!==c.status&&403!==c.status))return{error:c}}return"others"!==r&&(yield t._removeSession(),yield Pr(t.storage,`${t.storageKey}-code-verifier`)),{error:null}});return function(o){return i.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(t){var r=this;const i=function qU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)})}(),o={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),y(function*(){yield r.initializePromise,yield r._acquireLock(-1,y(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:o}}}_emitInitialSession(t){var r=this;return y(function*(){return yield r._useSession(function(){var i=y(function*(o){var s,a;try{const{data:{session:u},error:l}=o;if(l)throw l;yield null===(s=r.stateChangeEmitters.get(t))||void 0===s?void 0:s.callback("INITIAL_SESSION",u),r._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){yield null===(a=r.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}});return function(o){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(t){var r=this;return y(function*(i,o={}){let s=null,a=null;"pkce"===r.flowType&&([s,a]=yield Ro(r.storage,r.storageKey,!0));try{return yield K(r.fetch,"POST",`${r.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:r.headers,redirectTo:o.redirectTo})}catch(u){if(L(u))return{data:null,error:u};throw u}}).apply(this,arguments)}getUserIdentities(){var t=this;return y(function*(){var r;try{const{data:i,error:o}=yield t.getUser();if(o)throw o;return{data:{identities:null!==(r=i.user.identities)&&void 0!==r?r:[]},error:null}}catch(i){if(L(i))return{data:null,error:i};throw i}})()}linkIdentity(t){var r=this;return y(function*(){return"token"in t?r.linkIdentityIdToken(t):r.linkIdentityOAuth(t)})()}linkIdentityOAuth(t){var r=this;return y(function*(){var i;try{const{data:o,error:s}=yield r._useSession(function(){var a=y(function*(u){var l,c,d,f,h;const{data:p,error:g}=u;if(g)throw g;const m=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,t.provider,{redirectTo:null===(l=t.options)||void 0===l?void 0:l.redirectTo,scopes:null===(c=t.options)||void 0===c?void 0:c.scopes,queryParams:null===(d=t.options)||void 0===d?void 0:d.queryParams,skipBrowserRedirect:!0});return yield K(r.fetch,"GET",m,{headers:r.headers,jwt:null!==(h=null===(f=p.session)||void 0===f?void 0:f.access_token)&&void 0!==h?h:void 0})});return function(u){return a.apply(this,arguments)}}());if(s)throw s;return Kt()&&!(null!==(i=t.options)&&void 0!==i&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(L(o))return{data:{provider:t.provider,url:null},error:o};throw o}})()}linkIdentityIdToken(t){var r=this;return y(function*(){return yield r._useSession(function(){var i=y(function*(o){var s;try{const{error:a,data:{session:u}}=o;if(a)throw a;const{options:l,provider:c,token:d,access_token:f,nonce:h}=t,p=yield K(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,jwt:null!==(s=u?.access_token)&&void 0!==s?s:void 0,body:{provider:c,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:bn}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:g&&g.session&&g.user?(g.session&&(yield r._saveSession(g.session),yield r._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:m}):{data:{user:null,session:null},error:new To}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}});return function(o){return i.apply(this,arguments)}}())})()}unlinkIdentity(t){var r=this;return y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s,a;const{data:u,error:l}=o;if(l)throw l;return yield K(r.fetch,"DELETE",`${r.url}/user/identities/${t.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(s=u.session)||void 0===s?void 0:s.access_token)&&void 0!==a?a:void 0})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(L(i))return{data:null,error:i};throw i}})()}_refreshAccessToken(t){var r=this;return y(function*(){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;r._debug(i,"begin");try{const o=Date.now();return yield function ZU(e,n){return new Promise((r,i)=>{y(function*(){for(let o=0;o<1/0;o++)try{const s=yield e(o);if(!n(o,null,s))return void r(s)}catch(s){if(!n(o,s))return void i(s)}})()})}(function(){var s=y(function*(a){return a>0&&(yield function JU(e){return Kp.apply(this,arguments)}(200*Math.pow(2,a-1))),r._debug(i,"refreshing attempt",a),yield K(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:r.headers,xform:bn})});return function(a){return s.apply(this,arguments)}}(),(s,a)=>{const u=200*Math.pow(2,s);return a&&Gp(a)&&Date.now()+u-o<Ao})}catch(o){if(r._debug(i,"error",o),L(o))return{data:{session:null,user:null},error:o};throw o}finally{r._debug(i,"end")}})()}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){var i=this;return y(function*(){const o=yield i._getUrlForProvider(`${i.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),Kt()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})()}_recoverAndRefresh(){var t=this;return y(function*(){var r,i;const o="#_recoverAndRefresh()";t._debug(o,"begin");try{const s=yield di(t.storage,t.storageKey);if(s&&t.userStorage){let u=yield di(t.userStorage,t.storageKey+"-user");!t.storage.isServer&&Object.is(t.storage,t.userStorage)&&!u&&(u={user:s.user},yield Oo(t.userStorage,t.storageKey+"-user",u)),s.user=null!==(r=u?.user)&&void 0!==r?r:Qp()}else if(s&&!s.user&&!s.user){const u=yield di(t.storage,t.storageKey+"-user");u&&u?.user?(s.user=u.user,yield Pr(t.storage,t.storageKey+"-user"),yield Oo(t.storage,t.storageKey,s)):s.user=Qp()}if(t._debug(o,"session from storage",s),!t._isValidSession(s))return t._debug(o,"session is not valid"),void(null!==s&&(yield t._removeSession()));const a=1e3*(null!==(i=s.expires_at)&&void 0!==i?i:1/0)-Date.now()<9e4;if(t._debug(o,`session has${a?"":" not"} expired with margin of 90000s`),a){if(t.autoRefreshToken&&s.refresh_token){const{error:u}=yield t._callRefreshToken(s.refresh_token);u&&(console.error(u),Gp(u)||(t._debug(o,"refresh failed with a non-retryable error, removing the session",u),yield t._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:u,error:l}=yield t._getUser(s.access_token);!l&&u?.user?(s.user=u.user,yield t._saveSession(s),yield t._notifyAllSubscribers("SIGNED_IN",s)):t._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),t._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else yield t._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return t._debug(o,"error",s),void console.error(s)}finally{t._debug(o,"end")}})()}_callRefreshToken(t){var r=this;return y(function*(){var i,o;if(!t)throw new Rr;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;r._debug(s,"begin");try{r.refreshingDeferred=new rc;const{data:a,error:u}=yield r._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new Rr;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return r.refreshingDeferred.resolve(l),l}catch(a){if(r._debug(s,"error",a),L(a)){const u={data:null,error:a};return Gp(a)||(yield r._removeSession()),null===(i=r.refreshingDeferred)||void 0===i||i.resolve(u),u}throw null===(o=r.refreshingDeferred)||void 0===o||o.reject(a),a}finally{r.refreshingDeferred=null,r._debug(s,"end")}})()}_notifyAllSubscribers(t,r){var i=this;return y(function*(o,s,a=!0){const u=`#_notifyAllSubscribers(${o})`;i._debug(u,"begin",s,`broadcast = ${a}`);try{i.broadcastChannel&&a&&i.broadcastChannel.postMessage({event:o,session:s});const l=[],c=Array.from(i.stateChangeEmitters.values()).map(function(){var d=y(function*(f){try{yield f.callback(o,s)}catch(h){l.push(h)}});return function(f){return d.apply(this,arguments)}}());if(yield Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{i._debug(u,"end")}}).apply(this,arguments)}_saveSession(t){var r=this;return y(function*(){r._debug("#_saveSession()",t),r.suppressGetSessionWarning=!0;const i=Object.assign({},t);if(r.userStorage){(!i.user||!0!==i.user.__isUserNotAvailableProxy)&&i.user&&(yield Oo(r.userStorage,r.storageKey+"-user",{user:i.user}));const s=Object.assign({},i);delete s.user;const a=rS(s);yield Oo(r.storage,r.storageKey,a)}else{const s=rS(i);yield Oo(r.storage,r.storageKey,s)}})()}_removeSession(){var t=this;return y(function*(){t._debug("#_removeSession()"),yield Pr(t.storage,t.storageKey),yield Pr(t.storage,t.storageKey+"-code-verifier"),yield Pr(t.storage,t.storageKey+"-user"),t.userStorage&&(yield Pr(t.userStorage,t.storageKey+"-user")),yield t._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var t=this;return y(function*(){yield t._stopAutoRefresh(),t._debug("#_startAutoRefresh()");const r=setInterval(()=>t._autoRefreshTokenTick(),Ao);t.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(y(function*(){yield t.initializePromise,yield t._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var t=this;return y(function*(){t._debug("#_stopAutoRefresh()");const r=t.autoRefreshTicker;t.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var t=this;return y(function*(){t._removeVisibilityChangedCallback(),yield t._startAutoRefresh()})()}stopAutoRefresh(){var t=this;return y(function*(){t._removeVisibilityChangedCallback(),yield t._stopAutoRefresh()})()}_autoRefreshTokenTick(){var t=this;return y(function*(){t._debug("#_autoRefreshTokenTick()","begin");try{yield t._acquireLock(0,y(function*(){try{const r=Date.now();try{return yield t._useSession(function(){var i=y(function*(o){const{data:{session:s}}=o;if(!s||!s.refresh_token||!s.expires_at)return void t._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*s.expires_at-r)/Ao);t._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield t._callRefreshToken(s.refresh_token))});return function(o){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{t._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof uS))throw r;t._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var t=this;return y(function*(){if(t._debug("#_handleVisibilityChange()"),!Kt()||!window?.addEventListener)return t.autoRefreshToken&&t.startAutoRefresh(),!1;try{t.visibilityChangedCallback=y(function*(){return yield t._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",t.visibilityChangedCallback),yield t._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(t){var r=this;return y(function*(){const i=`#_onVisibilityChanged(${t})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),t||(yield r.initializePromise,yield r._acquireLock(-1,y(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(t,r,i){var o=this;return y(function*(){const s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===o.flowType){const[a,u]=yield Ro(o.storage,o.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(l.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`})()}_unenroll(t){var r=this;return y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s;const{data:a,error:u}=o;return u?{data:null,error:u}:yield K(r.fetch,"DELETE",`${r.url}/factors/${t.factorId}`,{headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(L(i))return{data:null,error:i};throw i}})()}_enroll(t){var r=this;return y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s,a;const{data:u,error:l}=o;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:"totp"===t.factorType?{issuer:t.issuer}:{}),{data:d,error:f}=yield K(r.fetch,"POST",`${r.url}/factors`,{body:c,headers:r.headers,jwt:null===(s=u?.session)||void 0===s?void 0:s.access_token});return f?{data:null,error:f}:("totp"===t.factorType&&"totp"===d.type&&!(null===(a=d?.totp)||void 0===a)&&a.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(L(i))return{data:null,error:i};throw i}})()}_verify(t){var r=this;return y(function*(){return r._acquireLock(-1,y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s;const{data:a,error:u}=o;if(u)return{data:null,error:u};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:"create"===t.webauthn.type?AB(t.webauthn.credential_response):TB(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=yield K(r.fetch,"POST",`${r.url}/factors/${t.factorId}/verify`,{body:l,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});return d?{data:null,error:d}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(L(i))return{data:null,error:i};throw i}}))})()}_challenge(t){var r=this;return y(function*(){return r._acquireLock(-1,y(function*(){try{return yield r._useSession(function(){var i=y(function*(o){var s;const{data:a,error:u}=o;if(u)return{data:null,error:u};const l=yield K(r.fetch,"POST",`${r.url}/factors/${t.factorId}/challenge`,{body:t,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});if(l.error)return l;const{data:c}=l;if("webauthn"!==c.type)return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:IB(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:MB(c.webauthn.credential_options.publicKey)})})}),error:null}}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(L(i))return{data:null,error:i};throw i}}))})()}_challengeAndVerify(t){var r=this;return y(function*(){const{data:i,error:o}=yield r._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield r._verify({factorId:t.factorId,challengeId:i.id,code:t.code})})()}_listFactors(){var t=this;return y(function*(){var r;const{data:{user:i},error:o}=yield t.getUser();if(o)return{data:null,error:o};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(r=i?.factors)&&void 0!==r?r:[])s.all.push(a),"verified"===a.status&&s[a.factor_type].push(a);return{data:s,error:null}})()}_getAuthenticatorAssuranceLevel(){var t=this;return y(function*(){return t._acquireLock(-1,y(function*(){return yield t._useSession(function(){var r=y(function*(i){var o,s;const{data:{session:a},error:u}=i;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Wp(a.access_token);let c=null;l.aal&&(c=l.aal);let d=c;return(null!==(s=null===(o=a.user.factors)||void 0===o?void 0:o.filter(p=>"verified"===p.status))&&void 0!==s?s:[]).length>0&&(d="aal2"),{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:l.amr||[]},error:null}});return function(i){return r.apply(this,arguments)}}())}))})()}fetchJwk(t){var r=this;return y(function*(i,o={keys:[]}){let s=o.keys.find(c=>c.kid===i);if(s)return s;const a=Date.now();if(s=r.jwks.keys.find(c=>c.kid===i),s&&r.jwks_cached_at+6e5>a)return s;const{data:u,error:l}=yield K(r.fetch,"GET",`${r.url}/.well-known/jwks.json`,{headers:r.headers});if(l)throw l;return u.keys&&0!==u.keys.length&&(r.jwks=u,r.jwks_cached_at=a,s=u.keys.find(c=>c.kid===i),s)?s:null}).apply(this,arguments)}getClaims(t){var r=this;return y(function*(i,o={}){try{let s=i;if(!s){const{data:m,error:_}=yield r.getSession();if(_||!m.session)return{data:null,error:_};s=m.session.access_token}const{header:a,payload:u,signature:l,raw:{header:c,payload:d}}=Wp(s);o?.allowExpired||function rB(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(u.exp);const f=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield r.fetchJwk(a.kid,o?.keys?{keys:o.keys}:o?.jwks):null;if(!f){const{error:m}=yield r.getUser(s);if(m)throw m;return{data:{claims:u,header:a,signature:l},error:null}}const h=function iB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),p=yield crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,p,l,function zU(e){const n=[];return function eS(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){const i=1024*(r-55296)&65535;r=65536+(e.charCodeAt(t+1)-56320&65535|i),t+=1}BU(r,n)}}(e,t=>n.push(t)),new Uint8Array(n)}(`${c}.${d}`))))throw new qp("Invalid JWT signature");return{data:{claims:u,header:a,signature:l},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}).apply(this,arguments)}}return e.nextInstanceID=0,e})();class $B extends VB{constructor(n){super(n)}}class BB{constructor(n,t,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=t;const a=function OU(e){const n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function TU(e){return e.endsWith("/")?e:e+"/"}(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c=function xU(e,n){var t,r;const{db:i,auth:o,realtime:s,global:a}=e,{db:u,auth:l,realtime:c,global:d}=n,f={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(t=d?.headers)&&void 0!==t?t:{}),null!==(r=a?.headers)&&void 0!==r?r:{})}),accessToken:()=>function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}(r??{},{db:bU,realtime:DU,auth:Object.assign(Object.assign({},CU),{storageKey:u}),global:wU});this.storageKey=null!==(i=c.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(o=c.global.headers)&&void 0!==o?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=c.auth)&&void 0!==s?s:{},this.headers,c.global.fetch),this.fetch=MU(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new FE(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new yU(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new O2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return e=this,n=void 0,r=function*(){var n,t;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==t?t:this.supabaseKey},new((t=void 0)||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())});var e,n,t,r}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:u,debug:l},c,d){return new $B({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),c),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:u,debug:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>"authorization"===h.toLowerCase())})}_initRealtimeClient(n){return new nU(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){"TOKEN_REFRESHED"!==n&&"SIGNED_IN"!==n||this.changedAccessToken===r?"SIGNED_OUT"===n&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}(function zB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(null==e)return!1;const n=e.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gS_supabase_url="https://pdfqiirgdzelslkxjjse.supabase.co",gS_supabase_key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkZnFpaXJnZHplbHNsa3hqanNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNzYzOTgsImV4cCI6MjA3NTk1MjM5OH0.jgiyGlDPNTLo5ia4qI737t39fRzioN-D_ApZj6MItvM";let mS=(()=>{class e{constructor(){this.supabaseClient=((e,n,t)=>new BB(e,n,void 0))(gS_supabase_url,gS_supabase_key)}signUp(t,r){return this.supabaseClient.auth.signUp({email:t,password:r})}signIn(t,r){return this.supabaseClient.auth.signInWithPassword({email:t,password:r})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function GB(e,n){if(1&e&&(P(0,"div",18),ee(1),F()),2&e){const t=Dt();De(1),oo(" ",t.successMessage," ")}}function qB(e,n){if(1&e&&(P(0,"div",19),ee(1),F()),2&e){const t=Dt();De(1),oo(" ",t.errorMessage," ")}}let vS=(()=>{class e{constructor(t,r,i){this.router=t,this.formBuilder=r,this.auth=i,this.successMessage=null,this.errorMessage=null,this.loginForm=this.formBuilder.group({email:["",[Ar.required,Ar.email]],password:["",[Ar.required,Ar.minLength(8)]]})}onSubmit(){this.auth.signIn(this.loginForm.value.email,this.loginForm.value.password).then(t=>{"authenticated"===t.data.user.role?(console.log("User logged in successfully:",t),this.router.navigate(["/principal"])):this.errorMessage="Credenciales incorrectas. Int\xe9ntalo nuevamente."}).catch(t=>{console.error("Error logging in:",t),this.errorMessage="No se pudo iniciar sesi\xf3n. Verifica tus credenciales o tu conexi\xf3n."})}navigateToSignUp(t){t.preventDefault(),this.router.navigate(["/signup"])}static{this.\u0275fac=function(r){return new(r||e)(D(kt),D(xE),D(mS))}}static{this.\u0275cmp=Wn({type:e,selectors:[["app-login"]],standalone:!0,features:[Gu],decls:29,vars:3,consts:[[1,"sky"],[1,"card"],[3,"formGroup","ngSubmit"],[1,"field"],["for","email"],["id","email","type","email","name","email","placeholder","example.email@gmail.com","required","","formControlName","email"],["for","password"],[1,"pw"],["id","password","type","password","name","password","placeholder","M\xednimo 8 caracteres","minlength","8","required","","formControlName","password"],["aria-hidden","true",1,"pw-eye"],[1,"row"],[1,"check"],["type","checkbox","name","remember"],["href","#",1,"link"],["type","submit","id","loginBtn","formmethod","get",1,"btn","btn--primary"],["type","submit","formmethod","get",1,"btn","btn--ghost",3,"click"],["class","alert alert-success","style","margin-top: 20px",4,"ngIf"],["class","alert alert-danger","style","margin-top: 20px",4,"ngIf"],[1,"alert","alert-success",2,"margin-top","20px"],[1,"alert","alert-danger",2,"margin-top","20px"]],template:function(r,i){1&r&&(P(0,"main",0)(1,"section",1)(2,"h1"),ee(3,"Iniciar Sesi\xf3n"),F(),P(4,"form",2),Xe("ngSubmit",function(){return i.onSubmit()}),P(5,"div",3)(6,"label",4)(7,"span"),ee(8,"Email"),F()(),Le(9,"input",5),F(),P(10,"div",3)(11,"label",6)(12,"span"),ee(13,"Contrase\xf1a"),F()(),P(14,"div",7),Le(15,"input",8)(16,"span",9),F()(),P(17,"div",10)(18,"label",11),Le(19,"input",12),ee(20," Recordarme "),F(),P(21,"a",13),ee(22,"\xbfOlvidaste la contrase\xf1a?"),F()(),P(23,"button",14),ee(24," Iniciar Sesi\xf3n "),F(),P(25,"button",15),Xe("click",function(s){return i.navigateToSignUp(s)}),ee(26," Crear Cuenta "),F()(),lt(27,GB,2,1,"div",16),lt(28,qB,2,1,"div",17),F()()),2&r&&(De(4),Ee("formGroup",i.loginForm),De(23),Ee("ngIf",i.successMessage),De(1),Ee("ngIf",i.errorMessage))},dependencies:[Ah,pl,OE,Ep,ua,hp,pp,ma,Kl,ga,Wl],styles:['.sky[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background:url(base.26c148219cd6df11.png) center/cover no-repeat;z-index:-1}body[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100vh;background:url(base.26c148219cd6df11.png) center/cover no-repeat;background-size:cover;background-attachment:fixed;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{width:min(720px,95%);background:#e5e5e5;border-radius:var(--radius-2xl);box-shadow:var(--shadow);padding:clamp(22px,4vw,40px)}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 18px;text-align:center;font-size:clamp(22px,2.6vw,28px);font-weight:700}.form[_ngcontent-%COMP%]{display:grid;gap:14px}.field[_ngcontent-%COMP%]{display:grid;gap:8px}.field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--muted)}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 14px;border-radius:12px;border:2px solid var(--border);background:#f6f8fb;outline:none;font-size:1rem;transition:border-color .15s ease,background .15s ease}input[_ngcontent-%COMP%]:focus{border-color:#9bdcff;background:#ffffff}.row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:4px;font-size:.95rem}.check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.link[_ngcontent-%COMP%]{color:#ff8a7f;text-decoration:none;font-weight:600}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.pw[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.pw-eye[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;translate:0 -50%;pointer-events:none;opacity:.6;font-size:18px}.btn[_ngcontent-%COMP%]{display:block;width:100%;padding:12px 16px;border-radius:14px;text-align:center;font-weight:700;text-decoration:none;border:0;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,filter .12s ease}.btn--primary[_ngcontent-%COMP%]{background:#ff8a7f;color:var(--primary-ink)}.btn--ghost[_ngcontent-%COMP%]{background:#ffb8b2;color:var(--primary-ink);margin-top:10px;border:2px solid #ffa8a0}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:saturate(1.05)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 520px){.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px}}']})}}return e})();function WB(e,n){if(1&e&&(P(0,"article",10),Le(1,"img",11),P(2,"h3",12),ee(3),F(),P(4,"p",13),ee(5),F(),P(6,"a",14),ee(7),F()()),2&e){const t=n.$implicit,r=Dt();De(1),Ee("src",t.cover,fu)("alt",t.title),De(2),xs(t.title),De(2),xs(r.getStarsDisplay(t.stars)),De(1),Ee("routerLink",t.href),De(1),xs(r.getButtonLabel(t.stars))}}let KB=(()=>{class e{constructor(){this.userProgress={completedModules:1,totalStars:3},this.modules=[{id:1,title:"Explorador de Luz",cover:"assets/img/Modulo1/M1P1.png",href:"/Modulo/1/1",stars:3},{id:2,title:"Guardianes de la Selva",cover:"assets/img/Modulo2/M2P1.png",href:"/Modulo/2/1",stars:0},{id:3,title:"Hay alguien reaccionando",cover:"assets/img/Modulo3/M3P1.png",href:"/Modulo/3/1",stars:0},{id:4,title:"Contemos",cover:"assets/img/Modulo4/M4P1.png",href:"/Modulo/4/1",stars:0},{id:5,title:"Repito y repita",cover:"assets/img/Modulo5/M5P1.png",href:"/Modulo/5/1",stars:0},{id:6,title:"Crea tu mundo",cover:"assets/img/Modulo6/M6P1.png",href:"/Modulo/6/1",stars:0}]}ngOnInit(){}getStarsDisplay(t){return"\u2b50".repeat(t)+"\u2606".repeat(3-t)}getButtonLabel(t){return t>0?"Revisar":"Empezar"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Wn({type:e,selectors:[["app-principal"]],decls:15,vars:1,consts:[[1,"stage"],[1,"panelPrincipal"],[1,"hero"],["src","assets/img/AvatarNi\xf1a.png","alt","Avatar del ni\xf1o",1,"avatar"],[1,"hello"],[1,"subtitle"],[1,"stars-box"],["id","totalStars"],["id","modulesList",1,"modules"],["class","module-card",4,"ngFor","ngForOf"],[1,"module-card"],[1,"cover",3,"src","alt"],[1,"title"],[1,"stars"],[1,"btn",3,"routerLink"]],template:function(r,i){1&r&&(P(0,"main",0)(1,"section",1)(2,"header",2),Le(3,"img",3),P(4,"div")(5,"h1",4),ee(6,"\xa1Hola Agente!"),F(),P(7,"p",5),ee(8,"Avanza paso a paso en tu misi\xf3n \u{1f680}"),F()(),P(9,"div",6),ee(10," \u2b50 "),P(11,"span",7),ee(12,"0"),F()()(),P(13,"div",8),lt(14,WB,8,6,"article",9),F()()()),2&r&&(De(14),Ee("ngForOf",i.modules))},dependencies:[HC,ii],styles:['.stage[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;overflow-y:auto;padding:20px}.panelPrincipal[_ngcontent-%COMP%]{width:min(90vw,1100px);background:var(--page-blue);border:4px solid var(--comic-border);border-radius:20px;padding:20px;box-shadow:0 8px 16px #0000004d}.hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:var(--accent);border:3px solid var(--comic-border);border-radius:16px;padding:12px 16px;margin-bottom:20px}.avatar[_ngcontent-%COMP%]{width:8%;height:auto;border-radius:50%;border:3px solid var(--comic-border);background:#fff}.hel1lo[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;text-align:center}.subtitle[_ngcontent-%COMP%]{margin:0;font-size:1rem}.stars-box[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;background:#fff;border:3px solid var(--comic-border);border-radius:12px;padding:6px 12px}.modules[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:18px}.module-card[_ngcontent-%COMP%]{background:var(--paper);border:3px solid var(--comic-border);border-radius:14px;text-align:center;padding:12px;transition:transform .2s ease}.module-card[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 4px 10px #0003}.module-card.locked[_ngcontent-%COMP%]{opacity:.7;filter:grayscale(.4);position:relative}.module-card.locked[_ngcontent-%COMP%]:after{content:"\\1f512";position:absolute;top:10px;right:10px;font-size:1.4rem}.btn.disabled[_ngcontent-%COMP%]{background:#ddd;color:#666;cursor:not-allowed}.cover[_ngcontent-%COMP%]{width:100%;border-radius:10px;border:2px solid var(--comic-border)}.title[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.3rem}.stars[_ngcontent-%COMP%]{font-size:1.2rem;margin:6px 0}.btn[_ngcontent-%COMP%]{background-color:#ff7b54;color:#fff;border-radius:6px;padding:6px 16px;font-weight:700;text-decoration:none}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.btn.disabled[_ngcontent-%COMP%]{background:#ddd;color:#777;cursor:not-allowed}.locked[_ngcontent-%COMP%]{opacity:.8}']})}}return e})(),JB=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Wn({type:e,selectors:[["app-portada"]],decls:12,vars:0,consts:[[1,"sky"],[1,"wrap"],[1,"hero-title"],[1,"actions"],["href","https://github.com/TinyCodersPUJ/Installer_TinyCoders/releases/download/v2.0/Installer_HardwareForEducation_v2.0.exe",1,"btn","btn--install"],["routerLink","/login",1,"btn","btn--start"],[1,"scene"],["src","assets/img/portada1.png","alt","Personajes",1,"characters"]],template:function(r,i){1&r&&(P(0,"main",0)(1,"section",1)(2,"header",2)(3,"h1"),ee(4,"\xa1Bienvenido al laboratorio de las ideas locas, donde todo cobra vida!"),F()(),P(5,"nav",3)(6,"a",4),ee(7,"\u2699\ufe0f Instalar"),F(),P(8,"a",5),ee(9,"\u{1f680} Empezar"),F()(),P(10,"div",6),Le(11,"img",7),F()()())},dependencies:[ii],styles:[".wrap[_ngcontent-%COMP%]{width:100%;max-width:var(--maxw);display:grid;grid-template-rows:auto auto 1fr;gap:clamp(16px,2.2vw,26px)}.hero-title[_ngcontent-%COMP%]{margin-inline:auto;width:min(100%,920px);background:var(--panel);border:3px solid var(--border);border-radius:var(--radius-xl);padding:clamp(12px,2.2vw,22px) clamp(16px,3vw,32px);box-shadow:var(--shadow);text-align:center}.hero-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:clamp(22px,4vw,42px);line-height:1.1;letter-spacing:.4px;font-weight:700}.actions[_ngcontent-%COMP%]{display:flex;gap:clamp(12px,2.2vw,24px);justify-content:center;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{--bg: #ddd;display:inline-flex;align-items:center;gap:10px;padding:14px 28px;border-radius:var(--radius-pill);background:var(--bg);border:0;box-shadow:var(--shadow);color:var(--btn-ink);text-decoration:none;font-weight:700;font-size:clamp(16px,1.8vw,20px);transform:translateY(0);transition:transform .12s ease,box-shadow .12s ease,filter .12s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:saturate(1.05)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 4px 18px #0000001f}.btn--install[_ngcontent-%COMP%]{--bg: var(--btn-yellow)}.btn--start[_ngcontent-%COMP%]{--bg: var(--btn-green)}.scene[_ngcontent-%COMP%]{position:relative;display:grid;place-items:end center;min-height:clamp(260px,40vh,480px)}.scene[_ngcontent-%COMP%]   img.characters[_ngcontent-%COMP%]{width:min(780px,86%);height:auto;object-fit:contain;filter:saturate(1.05);-webkit-user-select:none;user-select:none;-webkit-user-drag:none}@media (max-width:640px){.hero-title[_ngcontent-%COMP%]{border-width:2px}.btn[_ngcontent-%COMP%]{padding:12px 22px}.scene[_ngcontent-%COMP%]{min-height:300px}}"]})}}return e})();function ZB(e,n){if(1&e){const t=Ms();P(0,"div",14)(1,"h3"),ee(2,"\xa1Usuario Creado Exitosamente!"),F(),P(3,"p"),ee(4,"Tu cuenta ha sido creada correctamente."),F(),P(5,"button",15),Xe("click",function(){return Yo(t),Qo(Dt().navigateToLogin())}),ee(6," Continuar "),F()()}}function YB(e,n){if(1&e&&(P(0,"div",16),ee(1),F()),2&e){const t=Dt();De(1),oo(" ",t.errorMessage," ")}}function QB(e,n){1&e&&(P(0,"i",17),ee(1,"* Introduce un email v\xe1lido"),F())}function XB(e,n){1&e&&(P(0,"i",17),ee(1,"* M\xednimo 8 caracteres"),F())}let yS=(()=>{class e{constructor(t,r,i){this.formBuilder=t,this.auth=r,this.router=i,this.showSuccessAlert=!1,this.errorMessage=null,this.registerForm=this.formBuilder.group({email:["",[Ar.required,Ar.email]],password:["",[Ar.required,Ar.minLength(8)]]})}onSubmit(){if(this.registerForm.valid){const{email:t,password:r}=this.registerForm.value;this.auth.signUp(t,r).then(i=>{console.log("User registered successfully:",i),this.showSuccessAlert=!0,this.errorMessage=null}).catch(i=>{console.error("Error registering user:",i),this.errorMessage="Error al crear la cuenta, por favor intenta nuevamente.",this.showSuccessAlert=!1})}}navigateToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||e)(D(xE),D(mS),D(kt))}}static{this.\u0275cmp=Wn({type:e,selectors:[["app-signup"]],standalone:!0,features:[Gu],decls:23,vars:5,consts:[[1,"sky"],[1,"card"],["class","alert alert-success","style","margin-bottom: 20px; text-align: center",4,"ngIf"],["class","alert alert-danger","style","margin-bottom: 20px",4,"ngIf"],["action","#","method","post","novalidate","",1,"form",3,"formGroup","ngSubmit"],[1,"field"],["for","email"],["id","email","type","email","name","email","placeholder","example@example.com","required","","formControlName","email"],["style","color: tomato",4,"ngIf"],["for","password"],[1,"pw"],["id","password","type","password","name","password","placeholder","password","minlength","8","required","","formControlName","password"],["aria-hidden","true",1,"pw-eye"],["type","submit","formmethod","get","formaction","registro.html",1,"btn","btn--ghost"],[1,"alert","alert-success",2,"margin-bottom","20px","text-align","center"],["type","button",1,"btn","btn--primary",2,"margin-top","10px",3,"click"],[1,"alert","alert-danger",2,"margin-bottom","20px"],[2,"color","tomato"]],template:function(r,i){if(1&r&&(P(0,"main",0)(1,"section",1)(2,"h1"),ee(3,"Crear Cuenta"),F(),lt(4,ZB,7,0,"div",2),lt(5,YB,2,1,"div",3),P(6,"form",4),Xe("ngSubmit",function(){return i.onSubmit()}),P(7,"div",5)(8,"label",6)(9,"span"),ee(10,"Email"),F()(),Le(11,"input",7),lt(12,QB,2,0,"i",8),F(),P(13,"div",5)(14,"label",9)(15,"span"),ee(16,"Contrase\xf1a"),F()(),P(17,"div",10),Le(18,"input",11),lt(19,XB,2,0,"i",8),Le(20,"span",12),F()(),P(21,"button",13),ee(22," Crear "),F()()()()),2&r){let o,s;De(4),Ee("ngIf",i.showSuccessAlert),De(1),Ee("ngIf",i.errorMessage),De(1),Ee("formGroup",i.registerForm),De(6),Ee("ngIf",(null==(o=i.registerForm.get("email"))?null:o.touched)&&(null==(o=i.registerForm.get("email"))?null:o.invalid)),De(7),Ee("ngIf",(null==(s=i.registerForm.get("password"))?null:s.touched)&&(null==(s=i.registerForm.get("password"))?null:s.invalid))}},dependencies:[Ah,pl,OE,Ep,ua,hp,pp,ma,Kl,ga,Wl],styles:['[_ngcontent-%COMP%]:root{--bg: #cfeeff;--card: #ffffff;--ink: #1e2a36;--muted: #6b7a88;--primary: #6fd3ff;--primary-ink: #0f3a52;--ghost: #e6f4ff;--border: #dfe8f2;--radius-2xl: 26px;--shadow: 0 18px 50px rgba(0, 0, 0, .18)}*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100vh;background:url(base.26c148219cd6df11.png) center/cover no-repeat;background-size:cover;display:flex;justify-content:center;align-items:center}.sky[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background:url(base.26c148219cd6df11.png) center/cover no-repeat;z-index:-1;filter:saturate(1.05)}.card[_ngcontent-%COMP%]{width:min(720px,95%);background:#e5e5e5;border-radius:var(--radius-2xl);box-shadow:var(--shadow);padding:clamp(22px,4vw,40px)}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 18px;text-align:center;font-size:clamp(22px,2.6vw,28px);font-weight:700}.form[_ngcontent-%COMP%]{display:grid;gap:14px}.field[_ngcontent-%COMP%]{display:grid;gap:8px}.field[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--muted)}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 14px;border-radius:12px;border:2px solid var(--border);background:#f6f8fb;outline:none;font-size:1rem;transition:border-color .15s ease,background .15s ease}input[_ngcontent-%COMP%]:focus{border-color:#9bdcff;background:#ffffff}.row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:4px;font-size:.95rem}.check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.link[_ngcontent-%COMP%]{color:#ff8a7f;text-decoration:none;font-weight:600}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.pw[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.pw-eye[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;translate:0 -50%;pointer-events:none;opacity:.6;font-size:18px}.btn[_ngcontent-%COMP%]{display:block;width:100%;padding:12px 16px;border-radius:14px;text-align:center;font-weight:700;text-decoration:none;border:0;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,filter .12s ease}.btn--primary[_ngcontent-%COMP%]{background:#ff8a7f;color:var(--primary-ink)}.btn--ghost[_ngcontent-%COMP%]{background:#ff8a7f;color:var(--primary-ink);margin-top:10px;border:2px solid #ffa8a0}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:saturate(1.05)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 520px){.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px}}']})}}return e})();const _S={1:{lastPage:8,scratchPage:5,scratchFile:"modulo1.sb3",endLink:"/principal"},2:{lastPage:4,scratchPage:3,scratchFile:"modulo2.sb3",endLink:"/principal"},3:{lastPage:5,scratchPage:3,scratchFile:"modulo3.sb3",endLink:"/principal"},4:{lastPage:4,scratchPage:3,scratchFile:"modulo4.sb3",endLink:"/principal"},5:{lastPage:7,scratchPage:5,scratchFile:"modulo5.sb3",endLink:"/principal"},6:{lastPage:6,scratchPage:5,scratchFile:"modulo6.sb3",endLink:"/principal"}};function eH(e,n){1&e&&(P(0,"a",9),Le(1,"img",10),F()),2&e&&Ee("routerLink",Dt().nextLink)}function tH(e,n){if(1&e){const t=Ms();P(0,"div",14)(1,"a",15),Xe("click",function(){return Yo(t),Qo(Dt(2).finalizar())}),Le(2,"img",16),F()()}}function nH(e,n){1&e&&(P(0,"a",11),Le(1,"img",16),F()),2&e&&Ee("routerLink",Dt(2).endLink)}function rH(e,n){if(1&e&&(P(0,"a",11),lt(1,tH,3,0,"div",12),lt(2,nH,2,1,"ng-template",null,13,Hf),F()),2&e){const t=_f(3),r=Dt();Ee("routerLink",r.endLink),De(1),Ee("ngIf",r.esMini)("ngIfElse",t)}}function iH(e,n){if(1&e){const t=Ms();P(0,"a",19),Xe("click",function(i){return Yo(t),Qo(Dt(2).abrirScratch(i))}),Le(1,"img",20),F()}}function oH(e,n){if(1&e){const t=Ms();P(0,"div",21)(1,"a",22),Xe("click",function(){return Yo(t),Qo(Dt(2).terminarYVolver())}),Le(2,"img",23),F()()}}function sH(e,n){if(1&e&&(Fu(0),lt(1,iH,2,0,"ng-template",null,17,Hf),lt(3,oH,3,0,"div",18),Lu()),2&e){const t=_f(2),r=Dt();De(3),Ee("ngIf",r.esMini)("ngIfElse",t)}}function aH(e,n){1&e&&(P(0,"a",24),Le(1,"img",25),F()),2&e&&Ee("routerLink",Dt().prevLink)}function uH(e,n){1&e&&(P(0,"a",26),Le(1,"img",27),F()),2&e&&Ee("routerLink",Dt().nextLink)}const lH=[{path:"",redirectTo:"portada",pathMatch:"full"},{path:"bienvenida",component:N$},{path:"login",component:vS},{path:"principal",component:KB},{path:"portada",component:JB},{path:"signup",component:yS},{path:"Modulo/:modId/:page",component:(()=>{class e{constructor(t){this.route=t,this.modId=1,this.page=1,this.lastPage=4,this.scratchPage=4,this.showEmpezar=!1,this.showFinalizar=!1,this.showScratch=!1,this.showAtras=!1,this.showSiguiente=!1,this.imgSrc="",this.prevLink="",this.nextLink="",this.endLink="/principal",this.scratchURL="",this.esMini=!1,this.resizeHandler=()=>this.scaleMiniToFit()}ngOnInit(){this.route.paramMap.subscribe(r=>{this.modId=Number(r.get("modId")||1),this.page=Number(r.get("page")||1),this.loadConfig(),this.updateContent()});const t=new URLSearchParams(window.location.search);this.esMini="1"===t.get("mini"),this.esMini&&(document.body.classList.add("mini"),setTimeout(()=>this.scaleMiniToFit(),0),window.addEventListener("resize",this.resizeHandler))}ngOnDestroy(){window.removeEventListener("resize",this.resizeHandler)}loadConfig(){const t=_S[this.modId]||_S[1];this.lastPage=t.lastPage,this.scratchPage=t.scratchPage,this.scratchURL=`https://hardware-for-education.github.io/Scratch_For_Education?modulo=${t.scratchFile}`,this.endLink=t.endLink}updateContent(){this.imgSrc=`assets/img/Modulo${this.modId}/M${this.modId}P${this.page}.png`,console.log("Imagen a cargar ",this.imgSrc);const t=Math.max(1,this.page-1),r=Math.min(this.lastPage,this.page+1);this.prevLink=`/Modulo/${this.modId}/${t}`,this.nextLink=`/Modulo/${this.modId}/${r}`,this.showEmpezar=1===this.page,this.showScratch=this.page===this.scratchPage,this.showFinalizar=this.page===this.lastPage,this.showAtras=this.page>1,this.showSiguiente=this.page<this.lastPage&&this.page>1}abrirScratch(t){t.preventDefault();const r=Math.round(.45*window.innerWidth),i=Math.round(.5*window.innerHeight),o=window.screenX??window.screenLeft??0,s=window.screenY??window.screenTop??0,a=window.outerWidth||window.innerWidth,u=window.outerHeight||window.innerHeight,l=Math.max(0,o+a-r),c=Math.max(0,s+u-i),d=[`width=${r}`,`height=${i}`,`left=${l}`,`top=${c}`,"resizable=yes","scrollbars=yes","menubar=no","toolbar=no","location=no","status=no"].join(","),f=this.construirMiniUrl(),h=window.open(f,"ventanaGuia",d);try{localStorage.setItem("returnTo",window.location.href)}catch{}if(h){try{h.moveTo(l,c),h.resizeTo(r,i)}catch{}setTimeout(()=>{try{h.moveTo(l,c),h.resizeTo(r,i)}catch{}},50),window.location.assign(this.scratchURL)}else window.open(this.scratchURL,"_blank"),alert("Activa las ventanas emergentes para ver la ventana flotante.")}construirMiniUrl(){const t=new URL(window.location.href);return t.searchParams.set("mini","1"),t.toString()}terminarYVolver(){const t=localStorage.getItem("returnTo")||"/";try{window.opener&&!window.opener.closed?(window.opener.location.href=t,window.opener.focus(),window.close()):window.location.href=t}catch{window.location.href=t}}finalizar(){const r=`${window.location.origin}${this.endLink}`;try{window.opener&&!window.opener.closed?(window.opener.location.href=r,window.opener.focus(),window.close()):window.location.href=r}catch(i){console.error("Error al cerrar popup o redirigir:",i),window.location.href=r}}scaleMiniToFit(){const t=document.getElementById("mini-root");if(!t)return;const o=.1*window.innerWidth,s=.1*window.innerHeight,a=window.innerWidth-2*o,u=window.innerHeight-2*s,l=Math.min(a/690,u/500);t.style.width="690px",t.style.height="500px",t.style.transform=`scale(${l})`,t.style.position="absolute",t.style.left=`${o+Math.max(0,(a-690*l)/2)}px`,t.style.top=`${s+Math.max(0,(u-500*l)/2)}px`}static{this.\u0275fac=function(r){return new(r||e)(D(ri))}}static{this.\u0275cmp=Wn({type:e,selectors:[["app-generic-page"]],decls:9,vars:6,consts:[[1,"stage"],[1,"panel"],["id","mini-root",1,"comic"],["alt","Escena",1,"scene",3,"src"],["class","btn-empezar",3,"routerLink",4,"ngIf"],["class","btn-final","aria-label","Finalizar",3,"routerLink",4,"ngIf"],[4,"ngIf"],["class","btn-atras","aria-label","Atr\xe1s",3,"routerLink",4,"ngIf"],["class","btn-img","aria-label","Siguiente",3,"routerLink",4,"ngIf"],[1,"btn-empezar",3,"routerLink"],["src","assets/img/empezar.png","alt","Empezar"],["aria-label","Finalizar",1,"btn-final",3,"routerLink"],["class","btn-final",4,"ngIf","ngIfElse"],["btnFinalNormal",""],[1,"btn-final"],["aria-label","Finalizar",1,"btn-final",3,"click"],["src","assets/img/finalizar.png","alt","Finalizar"],["btnVolver",""],["class","btn-scratch",4,"ngIf","ngIfElse"],["aria-label","Ir a Scratch",1,"btn-scratch",3,"click"],["src","assets/img/empezar.png","alt","Programar"],[1,"btn-scratch"],["aria-label","Volver de Scratch",1,"btn-scratch",3,"click"],["src","assets/img/atr\xe1s.png","alt","Volver"],["aria-label","Atr\xe1s",1,"btn-atras",3,"routerLink"],["src","assets/img/atr\xe1s.png","alt","Atr\xe1s"],["aria-label","Siguiente",1,"btn-img",3,"routerLink"],["src","assets/img/siguiente.png","alt","Siguiente"]],template:function(r,i){1&r&&(P(0,"main",0)(1,"section",1)(2,"figure",2),Le(3,"img",3),lt(4,eH,2,1,"a",4),lt(5,rH,4,3,"a",5),lt(6,sH,4,2,"ng-container",6),lt(7,aH,2,1,"a",7),lt(8,uH,2,1,"a",8),F()()()),2&r&&(De(3),Ee("src",i.imgSrc,fu),De(1),Ee("ngIf",i.showEmpezar),De(1),Ee("ngIf",i.showFinalizar),De(1),Ee("ngIf",i.showScratch),De(1),Ee("ngIf",i.showAtras),De(1),Ee("ngIf",i.showSiguiente))},dependencies:[pl,ii],styles:[".comic[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center;margin:0}.scene[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;display:block;border-radius:8px}.btn-empezar[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:2}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,200px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-final[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-final[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-atras[_ngcontent-%COMP%]{position:absolute;left:50px;bottom:-20px;z-index:2;display:inline-block}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-atras[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-scratch[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:-20px;transform:translate(-50%);z-index:2;display:inline-block}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(120px,18vw,160px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-scratch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.btn-img[_ngcontent-%COMP%]{position:absolute;right:50px;bottom:-20px;z-index:2;display:inline-block}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(100px,18vw,150px);height:auto;cursor:pointer;transition:transform .2s ease}.btn-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08)}@media (max-width: 768px){.panel[_ngcontent-%COMP%]{width:90vw;aspect-ratio:4 / 3;padding:6px}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:clamp(80px,22vw,100px)}}@media (max-width: 480px){.panel[_ngcontent-%COMP%]{width:95vw;aspect-ratio:1 / 1;padding:4px}.btn-empezar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}}"]})}}return e})()},{path:"**",redirectTo:""}];let cH=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=Xt({imports:[I0.forRoot(lH),I0]})}}return e})(),dH=(()=>{class e{constructor(){this.title="front"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Wn({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Le(0,"router-outlet")},dependencies:[tp]})}}return e})();class sc{}class ac{}class $n{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof $n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new $n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof $n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class fH{encodeKey(n){return wS(n)}encodeValue(n){return wS(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const pH=/%(\d[a-f0-9])/gi,gH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wS(e){return encodeURIComponent(e).replace(pH,(n,t)=>gH[t]??n)}function uc(e){return`${e}`}class kr{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new fH,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hH(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(uc):[uc(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new kr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(uc(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(uc(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class mH{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function bS(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function CS(e){return typeof Blob<"u"&&e instanceof Blob}function DS(e){return typeof FormData<"u"&&e instanceof FormData}class ba{constructor(n,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function vH(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new $n),this.context||(this.context=new mH),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new kr,this.urlWithParams=t}serializeBody(){return null===this.body?null:bS(this.body)||CS(this.body)||DS(this.body)||function yH(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof kr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DS(this.body)?null:CS(this.body)?this.body.type||null:bS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let u=n.headers||this.headers,l=n.params||this.params;const c=n.context??this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((d,f)=>d.set(f,n.setHeaders[f]),u)),n.setParams&&(l=Object.keys(n.setParams).reduce((d,f)=>d.set(f,n.setParams[f]),l)),new ba(t,r,o,{params:l,headers:u,context:c,reportProgress:a,responseType:i,withCredentials:s})}}var Fo=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Fo||{});class ug{constructor(n,t=200,r="OK"){this.headers=n.headers||new $n,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class lg extends ug{constructor(n={}){super(n),this.type=Fo.ResponseHeader}clone(n={}){return new lg({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Lo extends ug{constructor(n={}){super(n),this.type=Fo.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Lo({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ES extends ug{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function cg(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let _H=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ba)o=t;else{let u,l;u=i.headers instanceof $n?i.headers:new $n(i.headers),i.params&&(l=i.params instanceof kr?i.params:new kr({fromObject:i.params})),o=new ba(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=$(o).pipe(go(u=>this.handler.handle(u)));if(t instanceof ba||"events"===i.observe)return s;const a=s.pipe(ar(u=>u instanceof Lo));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(de(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(de(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(de(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new kr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,cg(i,r))}post(t,r,i={}){return this.request("POST",t,cg(i,r))}put(t,r,i={}){return this.request("PUT",t,cg(i,r))}static{this.\u0275fac=function(r){return new(r||e)(N(sc))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();function MS(e,n){return n(e)}function bH(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const DH=new O(""),Ca=new O(""),AS=new O("");function EH(){let e=null;return(n,t)=>{null===e&&(e=(x(DH,{optional:!0})??[]).reduceRight(bH,MS));const r=x(Ju),i=r.add();return e(n,t).pipe(qs(()=>r.remove(i)))}}let TS=(()=>{class e extends sc{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=x(Ju)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ca),...this.injector.get(AS,[])]));this.chain=i.reduceRight((o,s)=>function CH(e,n,t){return(r,i)=>t.runInContext(()=>n(r,o=>e(o,i)))}(o,s,this.injector),MS)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(qs(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(N(ac),N(Bt))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();const AH=/^\)\]\}',?\n/;let OS=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new E(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ze(r.\u0275loadImpl()):$(null)).pipe(ln(()=>new Ve(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const g=t.detectContentTypeHeader();null!==g&&s.setRequestHeader("Content-Type",g)}if(t.responseType){const g=t.responseType.toLowerCase();s.responseType="json"!==g?g:"text"}const a=t.serializeBody();let u=null;const l=()=>{if(null!==u)return u;const g=s.statusText||"OK",m=new $n(s.getAllResponseHeaders()),_=function TH(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return u=new lg({headers:m,status:s.status,statusText:g,url:_}),u},c=()=>{let{headers:g,status:m,statusText:_,url:v}=l(),I=null;204!==m&&(I=typeof s.response>"u"?s.responseText:s.response),0===m&&(m=I?200:0);let S=m>=200&&m<300;if("json"===t.responseType&&"string"==typeof I){const M=I;I=I.replace(AH,"");try{I=""!==I?JSON.parse(I):null}catch(Y){I=M,S&&(S=!1,I={error:Y,text:I})}}S?(o.next(new Lo({body:I,headers:g,status:m,statusText:_,url:v||void 0})),o.complete()):o.error(new ES({error:I,headers:g,status:m,statusText:_,url:v||void 0}))},d=g=>{const{url:m}=l(),_=new ES({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(_)};let f=!1;const h=g=>{f||(o.next(l()),f=!0);let m={type:Fo.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===t.responseType&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=g=>{let m={type:Fo.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",c),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",h),null!==a&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Fo.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",c),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",h),null!==a&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(N(ZC))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();const dg=new O("XSRF_ENABLED"),RS=new O("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),PS=new O("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class NS{}let RH=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$C(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(N(qt),N(qr),N(RS))}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();function PH(e,n){const t=e.url.toLowerCase();if(!x(dg)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=x(NS).getToken(),i=x(PS);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Fr=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Fr||{});function hi(e,n){return{\u0275kind:e,\u0275providers:n}}function NH(...e){const n=[_H,OS,TS,{provide:sc,useExisting:TS},{provide:ac,useExisting:OS},{provide:Ca,useValue:PH,multi:!0},{provide:dg,useValue:!0},{provide:NS,useClass:RH}];for(const t of e)n.push(...t.\u0275providers);return function xd(e){return{\u0275providers:e}}(n)}const kS=new O("LEGACY_INTERCEPTOR_FN");let FH=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e})}static{this.\u0275inj=Xt({providers:[NH(hi(Fr.LegacyInterceptors,[{provide:kS,useFactory:EH},{provide:Ca,useExisting:kS,multi:!0}]))]})}}return e})(),BH=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=fn({type:e,bootstrap:[dH]})}static{this.\u0275inj=Xt({imports:[JL,FH,cH,yS,vS]})}}return e})();WL().bootstrapModule(BH).catch(e=>console.error(e))},286:(ct,Q,X)=>{"use strict";X.r(Q),X.d(Q,{Headers:()=>w,Request:()=>b,Response:()=>A,default:()=>ne,fetch:()=>Ne});var te=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const Ne=te.fetch,ne=te.fetch.bind(te),w=te.Headers,b=te.Request,A=te.Response},958:function(ct,Q,X){"use strict";var j=X(293).default,te=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(Q,"__esModule",{value:!0});const Ne=te(X(286)),ne=te(X(659));Q.default=class w{constructor(A){var R,V;this.shouldThrowOnError=!1,this.method=A.method,this.url=A.url,this.headers=new Headers(A.headers),this.schema=A.schema,this.body=A.body,this.shouldThrowOnError=null!==(R=A.shouldThrowOnError)&&void 0!==R&&R,this.signal=A.signal,this.isMaybeSingle=null!==(V=A.isMaybeSingle)&&void 0!==V&&V,this.fetch=A.fetch?A.fetch:typeof fetch>"u"?Ne.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(A,R){return this.headers=new Headers(this.headers),this.headers.set(A,R),this}then(A,R){var V=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let Me=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var oe=j(function*(Te){var dt,Jt,Zt,Ke;let tt=null,vt=null,Lr=null,jr=Te.status,Bn=Te.statusText;if(Te.ok){if("HEAD"!==V.method){const pi=yield Te.text();""===pi||(vt="text/csv"===V.headers.get("Accept")||V.headers.get("Accept")&&null!==(dt=V.headers.get("Accept"))&&void 0!==dt&&dt.includes("application/vnd.pgrst.plan+text")?pi:JSON.parse(pi))}const an=null===(Jt=V.headers.get("Prefer"))||void 0===Jt?void 0:Jt.match(/count=(exact|planned|estimated)/),Hn=null===(Zt=Te.headers.get("content-range"))||void 0===Zt?void 0:Zt.split("/");an&&Hn&&Hn.length>1&&(Lr=parseInt(Hn[1])),V.isMaybeSingle&&"GET"===V.method&&Array.isArray(vt)&&(vt.length>1?(tt={code:"PGRST116",details:`Results contain ${vt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},vt=null,Lr=null,jr=406,Bn="Not Acceptable"):vt=1===vt.length?vt[0]:null)}else{const an=yield Te.text();try{tt=JSON.parse(an),Array.isArray(tt)&&404===Te.status&&(vt=[],tt=null,jr=200,Bn="OK")}catch{404===Te.status&&""===an?(jr=204,Bn="No Content"):tt={message:an}}if(tt&&V.isMaybeSingle&&!(null===(Ke=tt?.details)||void 0===Ke)&&Ke.includes("0 rows")&&(tt=null,jr=200,Bn="OK"),tt&&V.shouldThrowOnError)throw new ne.default(tt)}return{error:tt,data:vt,count:Lr,status:jr,statusText:Bn}});return function(Te){return oe.apply(this,arguments)}}());return this.shouldThrowOnError||(Me=Me.catch(oe=>{var Te,dt,Jt;return{error:{message:`${null!==(Te=oe?.name)&&void 0!==Te?Te:"FetchError"}: ${oe?.message}`,details:`${null!==(dt=oe?.stack)&&void 0!==dt?dt:""}`,hint:"",code:`${null!==(Jt=oe?.code)&&void 0!==Jt?Jt:""}`},data:null,count:null,status:0,statusText:""}})),Me.then(A,R)}returns(){return this}overrideTypes(){return this}}},242:function(ct,Q,X){"use strict";var j=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(Q,"__esModule",{value:!0});const te=j(X(666)),Ne=j(X(608));class ne{constructor(b,{headers:A={},schema:R,fetch:V}={}){this.url=b,this.headers=new Headers(A),this.schemaName=R,this.fetch=V}from(b){const A=new URL(`${this.url}/${b}`);return new te.default(A,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(b){return new ne(this.url,{headers:this.headers,schema:b,fetch:this.fetch})}rpc(b,A={},{head:R=!1,get:V=!1,count:le}={}){var Me;let oe;const Te=new URL(`${this.url}/rpc/${b}`);let dt;R||V?(oe=R?"HEAD":"GET",Object.entries(A).filter(([Zt,Ke])=>void 0!==Ke).map(([Zt,Ke])=>[Zt,Array.isArray(Ke)?`{${Ke.join(",")}}`:`${Ke}`]).forEach(([Zt,Ke])=>{Te.searchParams.append(Zt,Ke)})):(oe="POST",dt=A);const Jt=new Headers(this.headers);return le&&Jt.set("Prefer",`count=${le}`),new Ne.default({method:oe,url:Te,headers:Jt,schema:this.schemaName,body:dt,fetch:null!==(Me=this.fetch)&&void 0!==Me?Me:fetch})}}Q.default=ne},659:(ct,Q)=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});class X extends Error{constructor(te){super(te.message),this.name="PostgrestError",this.details=te.details,this.hint=te.hint,this.code=te.code}}Q.default=X},608:function(ct,Q,X){"use strict";var j=this&&this.__importDefault||function(ne){return ne&&ne.__esModule?ne:{default:ne}};Object.defineProperty(Q,"__esModule",{value:!0});const te=j(X(342));Q.default=class Ne extends te.default{eq(w,b){return this.url.searchParams.append(w,`eq.${b}`),this}neq(w,b){return this.url.searchParams.append(w,`neq.${b}`),this}gt(w,b){return this.url.searchParams.append(w,`gt.${b}`),this}gte(w,b){return this.url.searchParams.append(w,`gte.${b}`),this}lt(w,b){return this.url.searchParams.append(w,`lt.${b}`),this}lte(w,b){return this.url.searchParams.append(w,`lte.${b}`),this}like(w,b){return this.url.searchParams.append(w,`like.${b}`),this}likeAllOf(w,b){return this.url.searchParams.append(w,`like(all).{${b.join(",")}}`),this}likeAnyOf(w,b){return this.url.searchParams.append(w,`like(any).{${b.join(",")}}`),this}ilike(w,b){return this.url.searchParams.append(w,`ilike.${b}`),this}ilikeAllOf(w,b){return this.url.searchParams.append(w,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(w,b){return this.url.searchParams.append(w,`ilike(any).{${b.join(",")}}`),this}is(w,b){return this.url.searchParams.append(w,`is.${b}`),this}in(w,b){const A=Array.from(new Set(b)).map(R=>"string"==typeof R&&new RegExp("[,()]").test(R)?`"${R}"`:`${R}`).join(",");return this.url.searchParams.append(w,`in.(${A})`),this}contains(w,b){return"string"==typeof b?this.url.searchParams.append(w,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(w,`cs.{${b.join(",")}}`):this.url.searchParams.append(w,`cs.${JSON.stringify(b)}`),this}containedBy(w,b){return"string"==typeof b?this.url.searchParams.append(w,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(w,`cd.{${b.join(",")}}`):this.url.searchParams.append(w,`cd.${JSON.stringify(b)}`),this}rangeGt(w,b){return this.url.searchParams.append(w,`sr.${b}`),this}rangeGte(w,b){return this.url.searchParams.append(w,`nxl.${b}`),this}rangeLt(w,b){return this.url.searchParams.append(w,`sl.${b}`),this}rangeLte(w,b){return this.url.searchParams.append(w,`nxr.${b}`),this}rangeAdjacent(w,b){return this.url.searchParams.append(w,`adj.${b}`),this}overlaps(w,b){return this.url.searchParams.append(w,"string"==typeof b?`ov.${b}`:`ov.{${b.join(",")}}`),this}textSearch(w,b,{config:A,type:R}={}){let V="";return"plain"===R?V="pl":"phrase"===R?V="ph":"websearch"===R&&(V="w"),this.url.searchParams.append(w,`${V}fts${void 0===A?"":`(${A})`}.${b}`),this}match(w){return Object.entries(w).forEach(([b,A])=>{this.url.searchParams.append(b,`eq.${A}`)}),this}not(w,b,A){return this.url.searchParams.append(w,`not.${b}.${A}`),this}or(w,{foreignTable:b,referencedTable:A=b}={}){return this.url.searchParams.append(A?`${A}.or`:"or",`(${w})`),this}filter(w,b,A){return this.url.searchParams.append(w,`${b}.${A}`),this}}},666:function(ct,Q,X){"use strict";var j=this&&this.__importDefault||function(ne){return ne&&ne.__esModule?ne:{default:ne}};Object.defineProperty(Q,"__esModule",{value:!0});const te=j(X(608));Q.default=class Ne{constructor(w,{headers:b={},schema:A,fetch:R}){this.url=w,this.headers=new Headers(b),this.schema=A,this.fetch=R}select(w,b){const{head:A=!1,count:R}=b??{},V=A?"HEAD":"GET";let le=!1;const Me=(w??"*").split("").map(oe=>/\s/.test(oe)&&!le?"":('"'===oe&&(le=!le),oe)).join("");return this.url.searchParams.set("select",Me),R&&this.headers.append("Prefer",`count=${R}`),new te.default({method:V,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(w,{count:b,defaultToNull:A=!0}={}){var R;if(b&&this.headers.append("Prefer",`count=${b}`),A||this.headers.append("Prefer","missing=default"),Array.isArray(w)){const le=w.reduce((Me,oe)=>Me.concat(Object.keys(oe)),[]);if(le.length>0){const Me=[...new Set(le)].map(oe=>`"${oe}"`);this.url.searchParams.set("columns",Me.join(","))}}return new te.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:w,fetch:null!==(R=this.fetch)&&void 0!==R?R:fetch})}upsert(w,{onConflict:b,ignoreDuplicates:A=!1,count:R,defaultToNull:V=!0}={}){var le;if(this.headers.append("Prefer",`resolution=${A?"ignore":"merge"}-duplicates`),void 0!==b&&this.url.searchParams.set("on_conflict",b),R&&this.headers.append("Prefer",`count=${R}`),V||this.headers.append("Prefer","missing=default"),Array.isArray(w)){const oe=w.reduce((Te,dt)=>Te.concat(Object.keys(dt)),[]);if(oe.length>0){const Te=[...new Set(oe)].map(dt=>`"${dt}"`);this.url.searchParams.set("columns",Te.join(","))}}return new te.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:w,fetch:null!==(le=this.fetch)&&void 0!==le?le:fetch})}update(w,{count:b}={}){var A;return b&&this.headers.append("Prefer",`count=${b}`),new te.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:w,fetch:null!==(A=this.fetch)&&void 0!==A?A:fetch})}delete({count:w}={}){var b;return w&&this.headers.append("Prefer",`count=${w}`),new te.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(b=this.fetch)&&void 0!==b?b:fetch})}}},342:function(ct,Q,X){"use strict";var j=this&&this.__importDefault||function(ne){return ne&&ne.__esModule?ne:{default:ne}};Object.defineProperty(Q,"__esModule",{value:!0});const te=j(X(958));Q.default=class Ne extends te.default{select(w){let b=!1;const A=(w??"*").split("").map(R=>/\s/.test(R)&&!b?"":('"'===R&&(b=!b),R)).join("");return this.url.searchParams.set("select",A),this.headers.append("Prefer","return=representation"),this}order(w,{ascending:b=!0,nullsFirst:A,foreignTable:R,referencedTable:V=R}={}){const le=V?`${V}.order`:"order",Me=this.url.searchParams.get(le);return this.url.searchParams.set(le,`${Me?`${Me},`:""}${w}.${b?"asc":"desc"}${void 0===A?"":A?".nullsfirst":".nullslast"}`),this}limit(w,{foreignTable:b,referencedTable:A=b}={}){return this.url.searchParams.set(typeof A>"u"?"limit":`${A}.limit`,`${w}`),this}range(w,b,{foreignTable:A,referencedTable:R=A}={}){const le=typeof R>"u"?"limit":`${R}.limit`;return this.url.searchParams.set(typeof R>"u"?"offset":`${R}.offset`,`${w}`),this.url.searchParams.set(le,""+(b-w+1)),this}abortSignal(w){return this.signal=w,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:w=!1,verbose:b=!1,settings:A=!1,buffers:R=!1,wal:V=!1,format:le="text"}={}){var Me;const oe=[w?"analyze":null,b?"verbose":null,A?"settings":null,R?"buffers":null,V?"wal":null].filter(Boolean).join("|"),Te=null!==(Me=this.headers.get("Accept"))&&void 0!==Me?Me:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${le}; for="${Te}"; options=${oe};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(w){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${w}`),this}}},60:function(ct,Q,X){"use strict";var j=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(Q,"__esModule",{value:!0}),Q.PostgrestError=Q.PostgrestBuilder=Q.PostgrestTransformBuilder=Q.PostgrestFilterBuilder=Q.PostgrestQueryBuilder=Q.PostgrestClient=void 0;const te=j(X(242));Q.PostgrestClient=te.default;const Ne=j(X(666));Q.PostgrestQueryBuilder=Ne.default;const ne=j(X(608));Q.PostgrestFilterBuilder=ne.default;const w=j(X(342));Q.PostgrestTransformBuilder=w.default;const b=j(X(958));Q.PostgrestBuilder=b.default;const A=j(X(659));Q.PostgrestError=A.default,Q.default={PostgrestClient:te.default,PostgrestQueryBuilder:Ne.default,PostgrestFilterBuilder:ne.default,PostgrestTransformBuilder:w.default,PostgrestBuilder:b.default,PostgrestError:A.default}},293:ct=>{function Q(j,te,Ne,ne,w,b,A){try{var R=j[b](A),V=R.value}catch(le){return void Ne(le)}R.done?te(V):Promise.resolve(V).then(ne,w)}ct.exports=function X(j){return function(){var te=this,Ne=arguments;return new Promise(function(ne,w){var b=j.apply(te,Ne);function A(V){Q(b,ne,w,A,R,"next",V)}function R(V){Q(b,ne,w,A,R,"throw",V)}A(void 0)})}},ct.exports.__esModule=!0,ct.exports.default=ct.exports}},ct=>{ct(ct.s=419)}]);